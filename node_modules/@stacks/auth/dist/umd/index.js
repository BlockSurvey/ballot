/*! For license information please see index.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.StacksAuth=e():t.StacksAuth=e()}(this,(()=>(()=>{var t={9350:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SHA2=void 0;const n=r(64);class i extends n.Hash{constructor(t,e,r,i){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,n.createView)(this.buffer)}update(t){if(this.destroyed)throw new Error("instance is destroyed");const{view:e,buffer:r,blockLen:i,finished:o}=this;if(o)throw new Error("digest() was already called");const s=(t=(0,n.toBytes)(t)).length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a!==i)r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(e,0),this.pos=0);else{const e=(0,n.createView)(t);for(;i<=s-o;o+=i)this.process(e,o)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){if(this.destroyed)throw new Error("instance is destroyed");if(!(t instanceof Uint8Array)||t.length<this.outputLen)throw new Error("_Sha2: Invalid output buffer");if(this.finished)throw new Error("digest() was already called");this.finished=!0;const{buffer:e,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;e[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let t=s;t<i;t++)e[t]=0;!function(t,e,r,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),u=n?4:0,c=n?0:4;t.setUint32(e+u,s,n),t.setUint32(e+c,a,n)}(r,i-8,BigInt(8*this.length),o),this.process(r,0);const a=(0,n.createView)(t);this.get().forEach(((t,e)=>a.setUint32(4*e,t,o)))}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return t.length=n,t.pos=s,t.finished=i,t.destroyed=o,n%e&&t.buffer.set(r),t}}e.SHA2=i},4661:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.crypto=void 0,e.crypto={node:void 0,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0}},1377:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=void 0;const n=r(64);class i extends n.Hash{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,(0,n.assertHash)(t);const r=(0,n.toBytes)(e);if(this.iHash=t.create(),!(this.iHash instanceof n.Hash))throw new TypeError("Expected instance of class which extends utils.Hash");const i=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const o=new Uint8Array(i);o.set(r.length>this.iHash.blockLen?t.create().update(r).digest():r);for(let t=0;t<o.length;t++)o[t]^=54;this.iHash.update(o),this.oHash=t.create();for(let t=0;t<o.length;t++)o[t]^=106;this.oHash.update(o),o.fill(0)}update(t){if(this.destroyed)throw new Error("instance is destroyed");return this.iHash.update(t),this}digestInto(t){if(this.destroyed)throw new Error("instance is destroyed");if(!(t instanceof Uint8Array)||t.length!==this.outputLen)throw new Error("HMAC: Invalid output buffer");if(this.finished)throw new Error("digest() was already called");this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return t.finished=n,t.destroyed=i,t.blockLen=o,t.outputLen=s,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.hmac=(t,e,r)=>new i(t,e).update(r).digest(),e.hmac.create=(t,e)=>new i(t,e)},6053:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sha256=void 0;const n=r(9350),i=r(64),o=(t,e,r)=>t&e^t&r^e&r,s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),u=new Uint32Array(64);class c extends n.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:t,B:e,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[t,e,r,n,i,o,s,a]}set(t,e,r,n,i,o,s,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(t,e){for(let r=0;r<16;r++,e+=4)u[r]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=u[t-15],r=u[t-2],n=(0,i.rotr)(e,7)^(0,i.rotr)(e,18)^e>>>3,o=(0,i.rotr)(r,17)^(0,i.rotr)(r,19)^r>>>10;u[t]=o+u[t-7]+n+u[t-16]|0}let{A:r,B:n,C:a,D:c,E:f,F:h,G:l,H:p}=this;for(let t=0;t<64;t++){const e=p+((0,i.rotr)(f,6)^(0,i.rotr)(f,11)^(0,i.rotr)(f,25))+((d=f)&h^~d&l)+s[t]+u[t]|0,y=((0,i.rotr)(r,2)^(0,i.rotr)(r,13)^(0,i.rotr)(r,22))+o(r,n,a)|0;p=l,l=h,h=f,f=c+e|0,c=a,a=n,n=r,r=e+y|0}var d;r=r+this.A|0,n=n+this.B|0,a=a+this.C|0,c=c+this.D|0,f=f+this.E|0,h=h+this.F|0,l=l+this.G|0,p=p+this.H|0,this.set(r,n,a,c,f,h,l,p)}roundClean(){u.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}e.sha256=(0,i.wrapConstructor)((()=>new c))},64:(t,e,r)=>{"use strict";t=r.nmd(t),Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.assertHash=e.assertBytes=e.assertBool=e.assertNumber=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const n=r(4661);if(e.u8=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),e.u32=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),e.createView=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),e.rotr=(t,e)=>t<<32-e|t>>>e,e.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!e.isLE)throw new Error("Non little-endian hardware is not supported");const i=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function o(t){if("string"!=typeof t)throw new TypeError("utf8ToBytes expected string, got "+typeof t);return(new TextEncoder).encode(t)}function s(t){if("string"==typeof t&&(t=o(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}function a(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}e.bytesToHex=function(t){let e="";for(let r=0;r<t.length;r++)e+=i[t[r]];return e},e.hexToBytes=function(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=2*r,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o))throw new Error("Invalid byte sequence");e[r]=o}return e},e.nextTick=(()=>{const e="function"==typeof t.require&&t.require.bind(t);try{if(e){const{setImmediate:t}=e("timers");return()=>new Promise((e=>t(e)))}}catch(t){}return()=>new Promise((t=>setTimeout(t,0)))})(),e.asyncLoop=async function(t,r,n){let i=Date.now();for(let o=0;o<t;o++){n(o);const t=Date.now()-i;t>=0&&t<r||(await(0,e.nextTick)(),i+=t)}},e.utf8ToBytes=o,e.toBytes=s,e.concatBytes=function(...t){if(!t.every((t=>t instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),r=new Uint8Array(e);for(let e=0,n=0;e<t.length;e++){const i=t[e];r.set(i,n),n+=i.length}return r},e.assertNumber=a,e.assertBool=function(t){if("boolean"!=typeof t)throw new Error(`Expected boolean, not ${t}`)},e.assertBytes=function(t,...e){if(!(t instanceof Uint8Array)||e.length&&!e.includes(t.length))throw new TypeError(`Expected ${e} bytes, not ${typeof t} with length=${t.length}`)},e.assertHash=function(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");a(t.outputLen),a(t.blockLen)},e.Hash=class{clone(){return this._cloneInto()}},e.checkOpts=function(t,e){if(void 0!==e&&("object"!=typeof e||(r=e,"[object Object]"!==Object.prototype.toString.call(r)||r.constructor!==Object)))throw new TypeError("Options should be object or undefined");var r;return Object.assign(t,e)},e.wrapConstructor=function(t){const e=e=>t().update(s(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e},e.wrapConstructorWithOpts=function(t){const e=(e,r)=>t(r).update(s(e)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=e=>t(e),e},e.randomBytes=function(t=32){if(n.crypto.web)return n.crypto.web.getRandomValues(new Uint8Array(t));if(n.crypto.node)return new Uint8Array(n.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}},6698:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.utils=e.schnorr=e.verify=e.signSync=e.sign=e.getSharedSecret=e.recoverPublicKey=e.getPublicKey=e.Signature=e.Point=e.CURVE=void 0;const i=n(r(7695)),o=BigInt(0),s=BigInt(1),a=BigInt(2),u=BigInt(3),c=BigInt(8),f=a**BigInt(256),h={a:o,b:BigInt(7),P:f-a**BigInt(32)-BigInt(977),n:f-BigInt("432420386565659656852420866394968145599"),h:s,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")};function l(t){const{a:e,b:r}=h,n=j(t*t),i=j(n*t);return j(i+e*t+r)}e.CURVE=h;const p=h.a===o;class d{constructor(t,e,r){this.x=t,this.y=e,this.z=r}static fromAffine(t){if(!(t instanceof g))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new d(t.x,t.y,s)}static toAffineBatch(t){const e=function(t,e=h.P){const r=new Array(t.length),n=L(t.reduce(((t,n,i)=>n===o?t:(r[i]=t,j(t*n,e))),s),e);return t.reduceRight(((t,n,i)=>n===o?t:(r[i]=j(t*r[i],e),j(t*n,e))),n),r}(t.map((t=>t.z)));return t.map(((t,r)=>t.toAffine(e[r])))}static normalizeZ(t){return d.toAffineBatch(t).map(d.fromAffine)}equals(t){if(!(t instanceof d))throw new TypeError("JacobianPoint expected");const{x:e,y:r,z:n}=this,{x:i,y:o,z:s}=t,u=j(n**a),c=j(s**a),f=j(e*c),h=j(i*u),l=j(j(r*s)*c),p=j(j(o*n)*u);return f===h&&l===p}negate(){return new d(this.x,j(-this.y),this.z)}double(){const{x:t,y:e,z:r}=this,n=j(t**a),i=j(e**a),o=j(i**a),s=j(a*(j((t+i)**a)-n-o)),f=j(u*n),h=j(f**a),l=j(h-a*s),p=j(f*(s-l)-c*o),y=j(a*e*r);return new d(l,p,y)}add(t){if(!(t instanceof d))throw new TypeError("JacobianPoint expected");const{x:e,y:r,z:n}=this,{x:i,y:s,z:u}=t;if(i===o||s===o)return this;if(e===o||r===o)return t;const c=j(n**a),f=j(u**a),h=j(e*f),l=j(i*c),p=j(j(r*u)*f),y=j(j(s*n)*c),g=j(l-h),m=j(y-p);if(g===o)return m===o?this.double():d.ZERO;const b=j(g**a),w=j(g*b),v=j(h*b),E=j(m**a-w-a*v),A=j(m*(v-E)-p*w),x=j(n*u*g);return new d(E,A,x)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){let e=T(t);d.BASE;const r=d.ZERO;if(e===o)return r;if(e===s)return this;if(!p){let t=r,n=this;for(;e>o;)e&s&&(t=t.add(n)),n=n.double(),e>>=s;return t}let{k1neg:n,k1:i,k2neg:a,k2:u}=F(e),c=r,f=r,l=this;for(;i>o||u>o;)i&s&&(c=c.add(l)),u&s&&(f=f.add(l)),l=l.double(),i>>=s,u>>=s;return n&&(c=c.negate()),a&&(f=f.negate()),f=new d(j(f.x*h.beta),f.y,f.z),c.add(f)}precomputeWindow(t){const e=p?128/t+1:256/t+1,r=[];let n=this,i=n;for(let o=0;o<e;o++){i=n,r.push(i);for(let e=1;e<2**(t-1);e++)i=i.add(n),r.push(i);n=i.double()}return r}wNAF(t,e){!e&&this.equals(d.BASE)&&(e=g.BASE);const r=e&&e._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=e&&y.get(e);n||(n=this.precomputeWindow(r),e&&1!==r&&(n=d.normalizeZ(n),y.set(e,n)));let i=d.ZERO,o=d.ZERO;const a=1+(p?128/r:256/r),u=2**(r-1),c=BigInt(2**r-1),f=2**r,h=BigInt(r);for(let e=0;e<a;e++){const r=e*u;let a=Number(t&c);if(t>>=h,a>u&&(a-=f,t+=s),0===a){let t=n[r];e%2&&(t=t.negate()),o=o.add(t)}else{let t=n[r+Math.abs(a)-1];a<0&&(t=t.negate()),i=i.add(t)}}return{p:i,f:o}}multiply(t,e){let r,n,i=T(t);if(p){const{k1neg:t,k1:o,k2neg:s,k2:a}=F(i);let{p:u,f:c}=this.wNAF(o,e),{p:f,f:l}=this.wNAF(a,e);t&&(u=u.negate()),s&&(f=f.negate()),f=new d(j(f.x*h.beta),f.y,f.z),r=u.add(f),n=c.add(l)}else{const{p:t,f:o}=this.wNAF(i,e);r=t,n=o}return d.normalizeZ([r,n])[0]}toAffine(t=L(this.z)){const{x:e,y:r,z:n}=this,i=t,o=j(i*i),a=j(o*i),u=j(e*o),c=j(r*a);if(j(n*i)!==s)throw new Error("invZ was invalid");return new g(u,c)}}d.BASE=new d(h.Gx,h.Gy,s),d.ZERO=new d(o,s,o);const y=new WeakMap;class g{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,y.delete(this)}static fromCompressedHex(t){const e=32===t.length,r=I(e?t:t.subarray(1));if(!M(r))throw new Error("Point is not on curve");let n=function(t){const{P:e}=h,r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),c=BigInt(88),f=t*t*t%e,l=f*f*t%e,p=P(l,u)*l%e,d=P(p,u)*l%e,y=P(d,a)*f%e,g=P(y,n)*y%e,m=P(g,i)*g%e,b=P(m,s)*m%e,w=P(b,c)*b%e,v=P(w,s)*m%e,E=P(v,u)*l%e,A=P(E,o)*g%e,x=P(A,r)*f%e;return P(x,a)}(l(r));const i=(n&s)===s;e?i&&(n=j(-n)):1==(1&t[0])!==i&&(n=j(-n));const o=new g(r,n);return o.assertValidity(),o}static fromUncompressedHex(t){const e=I(t.subarray(1,33)),r=I(t.subarray(33,65)),n=new g(e,r);return n.assertValidity(),n}static fromHex(t){const e=U(t),r=e.length,n=e[0];if(32===r||33===r&&(2===n||3===n))return this.fromCompressedHex(e);if(65===r&&4===n)return this.fromUncompressedHex(e);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${r}`)}static fromPrivateKey(t){return g.BASE.multiply(H(t))}static fromSignature(t,e,r){const n=N(t=U(t)),{r:i,s}=q(e);if(0!==r&&1!==r)throw new Error("Cannot recover signature: invalid recovery bit");if(n===o)throw new Error("Cannot recover signature: msgHash cannot be 0");const a=1&r?"03":"02",u=g.fromHex(a+S(i)),{n:c}=h,f=L(i,c),l=j(-n*f,c),p=j(s*f,c),d=g.BASE.multiplyAndAddUnsafe(u,l,p);if(!d)throw new Error("Cannot recover signature: point at infinify");return d.assertValidity(),d}toRawBytes(t=!1){return O(this.toHex(t))}toHex(t=!1){const e=S(this.x);return t?`${this.y&s?"03":"02"}${e}`:`04${e}${S(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:e,y:r}=this;if(!M(e)||!M(r))throw new Error(t);const n=j(r*r);if(j(n-l(e))!==o)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new g(this.x,j(-this.y))}double(){return d.fromAffine(this).double().toAffine()}add(t){return d.fromAffine(this).add(d.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return d.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,r){const n=d.fromAffine(this).multiply(e),i=d.fromAffine(t).multiplyUnsafe(r),o=n.add(i);return o.equals(d.ZERO)?void 0:o.toAffine()}}function m(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function b(t){if(t.length<2||2!==t[0])throw new Error(`Invalid signature integer tag: ${x(t)}`);const e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(0===r[0]&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:I(r),left:t.subarray(e+2)}}e.Point=g,g.BASE=new g(h.Gx,h.Gy),g.ZERO=new g(o,o);class w{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){const e=E(t),r="Signature.fromCompact";if("string"!=typeof t&&!e)throw new TypeError(`${r}: Expected string or Uint8Array`);const n=e?x(t):t;if(128!==n.length)throw new Error(`${r}: Expected 64-byte hex`);return new w(B(n.slice(0,64)),B(n.slice(64,128)))}static fromDER(t){const e=E(t);if("string"!=typeof t&&!e)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r,s:n}=function(t){if(t.length<2||48!=t[0])throw new Error(`Invalid signature tag: ${x(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:r}=b(t.subarray(2)),{data:n,left:i}=b(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${x(i)}`);return{r:e,s:n}}(e?t:O(t));return new w(r,n)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:e}=this;if(!$(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!$(e))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const t=h.n>>s;return this.s>t}normalizeS(){return this.hasHighS()?new w(this.r,h.n-this.s):this}toDERRawBytes(t=!1){return O(this.toDERHex(t))}toDERHex(t=!1){const e=m(k(this.s));if(t)return e;const r=m(k(this.r)),n=k(r.length/2),i=k(e.length/2);return`30${k(r.length/2+e.length/2+4)}02${n}${r}02${i}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return O(this.toCompactHex())}toCompactHex(){return S(this.r)+S(this.s)}}function v(...t){if(!t.every(E))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),r=new Uint8Array(e);for(let e=0,n=0;e<t.length;e++){const i=t[e];r.set(i,n),n+=i.length}return r}function E(t){return t instanceof Uint8Array}e.Signature=w;const A=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function x(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=A[t[r]];return e}function S(t){if(t>f)throw new Error("Expected number < 2^256");return t.toString(16).padStart(64,"0")}function _(t){return O(S(t))}function k(t){const e=t.toString(16);return 1&e.length?`0${e}`:e}function B(t){if("string"!=typeof t)throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function O(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=2*r,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function I(t){return B(x(t))}function U(t){return t instanceof Uint8Array?Uint8Array.from(t):O(t)}function T(t){if("number"==typeof t&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if("bigint"==typeof t&&$(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function j(t,e=h.P){const r=t%e;return r>=o?r:e+r}function P(t,e){const{P:r}=h;let n=t;for(;e-- >o;)n*=n,n%=r;return n}function L(t,e=h.P){if(t===o||e<=o)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=j(t,e),n=e,i=o,a=s,u=s,c=o;for(;r!==o;){const t=n/r,e=n%r,o=i-u*t,s=a-c*t;n=r,r=e,i=u,a=c,u=o,c=s}if(n!==s)throw new Error("invert: does not exist");return j(i,e)}const C=(t,e)=>(t+e/a)/e,R=a**BigInt(128);function F(t){const{n:e}=h,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-s*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,a=C(o*t,e),u=C(-n*t,e);let c=j(t-a*r-u*i,e),f=j(-a*n-u*o,e);const l=c>R,p=f>R;if(l&&(c=e-c),p&&(f=e-f),c>R||f>R)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:l,k1:c,k2neg:p,k2:f}}function N(t){const{n:e}=h,r=8*t.length-256;let n=I(t);return r>0&&(n>>=BigInt(r)),n>=e&&(n-=e),n}class D{constructor(){this.v=new Uint8Array(32).fill(1),this.k=new Uint8Array(32).fill(0),this.counter=0}hmac(...t){return e.utils.hmacSha256(this.k,...t)}hmacSync(...t){if("function"!=typeof e.utils.hmacSha256Sync)throw new Error("utils.hmacSha256Sync is undefined, you need to set it");const r=e.utils.hmacSha256Sync(this.k,...t);if(r instanceof Promise)throw new Error("To use sync sign(), ensure utils.hmacSha256 is sync");return r}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),0!==t.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),0!==t.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){return this.incr(),this.v=await this.hmac(this.v),this.v}generateSync(){return this.incr(),this.v=this.hmacSync(this.v),this.v}}function $(t){return o<t&&t<h.n}function M(t){return o<t&&t<h.P}function z(t,e,r){const n=I(t);if(!$(n))return;const{n:i}=h,a=g.BASE.multiply(n),u=j(a.x,i);if(u===o)return;const c=j(L(n,i)*j(e+r*u,i),i);if(c===o)return;const f=new w(u,c);return{sig:f,recovery:(a.x===f.r?0:2)|Number(a.y&s)}}function H(t){let e;if("bigint"==typeof t)e=t;else if("number"==typeof t&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if("string"==typeof t){if(64!==t.length)throw new Error("Expected 32 bytes of private key");e=B(t)}else{if(!E(t))throw new TypeError("Expected valid private key");if(32!==t.length)throw new Error("Expected 32 bytes of private key");e=I(t)}if(!$(e))throw new Error("Expected private key: 0 < key < n");return e}function K(t){return t instanceof g?(t.assertValidity(),t):g.fromHex(t)}function q(t){if(t instanceof w)return t.assertValidity(),t;try{return w.fromDER(t)}catch(e){return w.fromCompact(t)}}function V(t){const e=E(t),r="string"==typeof t,n=(e||r)&&t.length;return e?33===n||65===n:r?66===n||130===n:t instanceof g}function W(t){return I(t.length>32?t.slice(0,32):t)}function G(t){const e=W(t),r=j(e,h.n);return J(r<o?e:r)}function J(t){if("bigint"!=typeof t)throw new Error("Expected bigint");return O(S(t))}function Z(t,r,n){if(null==t)throw new Error(`sign: expected valid message hash, not "${t}"`);const i=U(t),o=H(r),s=[J(o),G(i)];if(null!=n){!0===n&&(n=e.utils.randomBytes(32));const t=U(n);if(32!==t.length)throw new Error("sign: Expected 32 bytes of extra data");s.push(t)}return{seed:v(...s),m:W(i),d:o}}function Y(t,e){let{sig:r,recovery:n}=t;const{canonical:i,der:o,recovered:s}=Object.assign({canonical:!0,der:!0},e);i&&r.hasHighS()&&(r=r.normalizeS(),n^=1);const a=o?r.toDERRawBytes():r.toCompactRawBytes();return s?[a,n]:a}e.getPublicKey=function(t,e=!1){return g.fromPrivateKey(t).toRawBytes(e)},e.recoverPublicKey=function(t,e,r,n=!1){return g.fromSignature(t,e,r).toRawBytes(n)},e.getSharedSecret=function(t,e,r=!1){if(V(t))throw new TypeError("getSharedSecret: first arg must be private key");if(!V(e))throw new TypeError("getSharedSecret: second arg must be public key");const n=K(e);return n.assertValidity(),n.multiply(H(t)).toRawBytes(r)},e.sign=async function(t,e,r={}){const{seed:n,m:i,d:o}=Z(t,e,r.extraEntropy);let s;const a=new D;for(await a.reseed(n);!(s=z(await a.generate(),i,o));)await a.reseed();return Y(s,r)},e.signSync=function(t,e,r={}){const{seed:n,m:i,d:o}=Z(t,e,r.extraEntropy);let s;const a=new D;for(a.reseedSync(n);!(s=z(a.generateSync(),i,o));)a.reseedSync();return Y(s,r)};const X={strict:!0};async function Q(t,...r){const n=new Uint8Array(t.split("").map((t=>t.charCodeAt(0)))),i=await e.utils.sha256(n);return I(await e.utils.sha256(v(i,i,...r)))}async function tt(t,e,r){const n=_(t);return j(await Q("BIP0340/challenge",n,e.toRawX(),r),h.n)}function et(t){return(t.y&s)===o}e.verify=function(t,e,r,n=X){let i;try{i=q(t),e=U(e)}catch(t){return!1}const{r:s,s:a}=i;if(n.strict&&i.hasHighS())return!1;const u=N(e);if(u===o)return!1;let c;try{c=K(r)}catch(t){return!1}const{n:f}=h,l=L(a,f),p=j(u*l,f),d=j(s*l,f),y=g.BASE.multiplyAndAddUnsafe(c,p,d);return!!y&&j(y.x,f)===s};class rt{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromHex(t){const e=U(t);if(64!==e.length)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${e.length}`);const r=I(e.subarray(0,32)),n=I(e.subarray(32,64));return new rt(r,n)}assertValidity(){const{r:t,s:e}=this;if(!M(t)||!$(e))throw new Error("Invalid signature")}toHex(){return S(this.r)+S(this.s)}toRawBytes(){return O(this.toHex())}}async function nt(t,e,r){const n=t instanceof rt;let i;try{i=n?t:rt.fromHex(t),n&&i.assertValidity()}catch(t){return!1}const{r:o,s}=i,a=U(e);let u;try{u=K(r)}catch(t){return!1}const c=await tt(o,u,a),f=g.BASE.multiplyAndAddUnsafe(u,H(s),j(-c,h.n));return!(!f||!et(f)||f.x!==o)}e.schnorr={Signature:rt,getPublicKey:function(t){return g.fromPrivateKey(t).toRawX()},sign:async function(t,r,n=e.utils.randomBytes()){if(null==t)throw new TypeError(`sign: Expected valid message, not "${t}"`);const{n:i}=h,s=U(t),a=H(r),u=U(n);if(32!==u.length)throw new TypeError("sign: Expected 32 bytes of aux randomness");const c=g.fromPrivateKey(a),f=et(c)?a:i-a,l=f^await Q("BIP0340/aux",u),p=j(await Q("BIP0340/nonce",_(l),c.toRawX(),s),i);if(p===o)throw new Error("sign: Creation of signature failed. k is zero");const d=g.fromPrivateKey(p),y=et(d)?p:i-p,m=await tt(d.x,c,s),b=new rt(d.x,j(y+m*f,i)).toRawBytes();if(!await nt(b,s,c.toRawX()))throw new Error("sign: Invalid signature produced");return b},verify:nt},g.BASE._setWindowSize(8);const it={node:i.default,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0};e.utils={isValidPrivateKey(t){try{return H(t),!0}catch(t){return!1}},hashToPrivateKey:t=>{if((t=U(t)).length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");const e=j(I(t),h.n);if(e===o||e===s)throw new Error("Invalid private key");return _(e)},randomBytes:(t=32)=>{if(it.web)return it.web.getRandomValues(new Uint8Array(t));if(it.node){const{randomBytes:e}=it.node;return Uint8Array.from(e(t))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>e.utils.hashToPrivateKey(e.utils.randomBytes(40)),bytesToHex:x,mod:j,sha256:async t=>{if(it.web){const e=await it.web.subtle.digest("SHA-256",t.buffer);return new Uint8Array(e)}if(it.node){const{createHash:e}=it.node;return Uint8Array.from(e("sha256").update(t).digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(it.web){const r=await it.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=v(...e),i=await it.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}if(it.node){const{createHmac:r}=it.node,n=r("sha256",t);return e.forEach((t=>n.update(t))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,precompute(t=8,e=g.BASE){const r=e===g.BASE?e:new g(e.x,e.y);return r._setWindowSize(t),r.multiply(u),r}}},625:function(t,e,r){t=r.nmd(t);var n=r(4406);!function(e){"use strict";function i(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=t[e+i];return n}var o=function(t){var e=i(arguments,1);return function(){var r=i(arguments);return t.apply(null,e.concat(r))}},s=function(t){return function(){var e=i(arguments),r=e.pop();t.call(this,e,r)}};function a(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var u="function"==typeof setImmediate&&setImmediate,c="object"==typeof n&&"function"==typeof n.nextTick;function f(t){setTimeout(t,0)}function h(t){return function(e){var r=i(arguments,1);t((function(){e.apply(null,r)}))}}var l=h(u?setImmediate:c?n.nextTick:f);function p(t){return s((function(e,r){var n;try{n=t.apply(this,e)}catch(t){return r(t)}a(n)&&"function"==typeof n.then?n.then((function(t){d(r,null,t)}),(function(t){d(r,t.message?t:new Error(t))})):r(null,n)}))}function d(t,e,r){try{t(e,r)}catch(t){l(y,t)}}function y(t){throw t}var g="function"==typeof Symbol;function m(t){return g&&"AsyncFunction"===t[Symbol.toStringTag]}function b(t){return m(t)?p(t):t}function w(t){return function(e){var r=i(arguments,1),n=s((function(r,n){var i=this;return t(e,(function(t,e){b(t).apply(i,r.concat(e))}),n)}));return r.length?n.apply(this,r):n}}var v="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,E="object"==typeof self&&self&&self.Object===Object&&self,A=v||E||Function("return this")(),x=A.Symbol,S=Object.prototype,_=S.hasOwnProperty,k=S.toString,B=x?x.toStringTag:void 0;var O=Object.prototype.toString;var I=x?x.toStringTag:void 0;function U(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":I&&I in Object(t)?function(t){var e=_.call(t,B),r=t[B];try{t[B]=void 0;var n=!0}catch(t){}var i=k.call(t);return n&&(e?t[B]=r:delete t[B]),i}(t):function(t){return O.call(t)}(t)}function T(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function j(t){return null!=t&&T(t.length)&&!function(t){if(!a(t))return!1;var e=U(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}(t)}var P={};function L(){}function C(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}}var R="function"==typeof Symbol&&Symbol.iterator;function F(t){return null!=t&&"object"==typeof t}function N(t){return F(t)&&"[object Arguments]"==U(t)}var D=Object.prototype,$=D.hasOwnProperty,M=D.propertyIsEnumerable,z=N(function(){return arguments}())?N:function(t){return F(t)&&$.call(t,"callee")&&!M.call(t,"callee")},H=Array.isArray;var K="object"==typeof e&&e&&!e.nodeType&&e,q=K&&t&&!t.nodeType&&t,V=q&&q.exports===K?A.Buffer:void 0,W=(V?V.isBuffer:void 0)||function(){return!1},G=/^(?:0|[1-9]\d*)$/;function J(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&G.test(t))&&t>-1&&t%1==0&&t<e}var Z={};Z["[object Float32Array]"]=Z["[object Float64Array]"]=Z["[object Int8Array]"]=Z["[object Int16Array]"]=Z["[object Int32Array]"]=Z["[object Uint8Array]"]=Z["[object Uint8ClampedArray]"]=Z["[object Uint16Array]"]=Z["[object Uint32Array]"]=!0,Z["[object Arguments]"]=Z["[object Array]"]=Z["[object ArrayBuffer]"]=Z["[object Boolean]"]=Z["[object DataView]"]=Z["[object Date]"]=Z["[object Error]"]=Z["[object Function]"]=Z["[object Map]"]=Z["[object Number]"]=Z["[object Object]"]=Z["[object RegExp]"]=Z["[object Set]"]=Z["[object String]"]=Z["[object WeakMap]"]=!1;var Y,X="object"==typeof e&&e&&!e.nodeType&&e,Q=X&&t&&!t.nodeType&&t,tt=Q&&Q.exports===X&&v.process,et=function(){try{return Q&&Q.require&&Q.require("util").types||tt&&tt.binding&&tt.binding("util")}catch(t){}}(),rt=et&&et.isTypedArray,nt=rt?(Y=rt,function(t){return Y(t)}):function(t){return F(t)&&T(t.length)&&!!Z[U(t)]},it=Object.prototype.hasOwnProperty;function ot(t,e){var r=H(t),n=!r&&z(t),i=!r&&!n&&W(t),o=!r&&!n&&!i&&nt(t),s=r||n||i||o,a=s?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],u=a.length;for(var c in t)!e&&!it.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||J(c,u))||a.push(c);return a}var st=Object.prototype;var at=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),ut=Object.prototype.hasOwnProperty;function ct(t){if(r=(e=t)&&e.constructor,e!==("function"==typeof r&&r.prototype||st))return at(t);var e,r,n=[];for(var i in Object(t))ut.call(t,i)&&"constructor"!=i&&n.push(i);return n}function ft(t){return j(t)?ot(t):ct(t)}function ht(t){if(j(t))return function(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}(t);var e,r,n,i,o=function(t){return R&&t[R]&&t[R]()}(t);return o?function(t){var e=-1;return function(){var r=t.next();return r.done?null:(e++,{value:r.value,key:e})}}(o):(r=ft(e=t),n=-1,i=r.length,function t(){var o=r[++n];return"__proto__"===o?t():n<i?{value:e[o],key:o}:null})}function lt(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function pt(t){return function(e,r,n){if(n=C(n||L),t<=0||!e)return n(null);var i=ht(e),o=!1,s=0,a=!1;function u(t,e){if(s-=1,t)o=!0,n(t);else{if(e===P||o&&s<=0)return o=!0,n(null);a||c()}}function c(){for(a=!0;s<t&&!o;){var e=i();if(null===e)return o=!0,void(s<=0&&n(null));s+=1,r(e.value,e.key,lt(u))}a=!1}c()}}function dt(t,e,r,n){pt(e)(t,b(r),n)}function yt(t,e){return function(r,n,i){return t(r,e,n,i)}}function gt(t,e,r){r=C(r||L);var n=0,i=0,o=t.length;function s(t,e){t?r(t):++i!==o&&e!==P||r(null)}for(0===o&&r(null);n<o;n++)e(t[n],n,lt(s))}var mt=yt(dt,1/0),bt=function(t,e,r){(j(t)?gt:mt)(t,b(e),r)};function wt(t){return function(e,r,n){return t(bt,e,b(r),n)}}function vt(t,e,r,n){n=n||L,e=e||[];var i=[],o=0,s=b(r);t(e,(function(t,e,r){var n=o++;s(t,(function(t,e){i[n]=e,r(t)}))}),(function(t){n(t,i)}))}var Et=wt(vt),At=w(Et);function xt(t){return function(e,r,n,i){return t(pt(r),e,b(n),i)}}var St=xt(vt),_t=yt(St,1),kt=w(_t);function Bt(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}var Ot,It=function(t,e,r){for(var n=-1,i=Object(t),o=r(t),s=o.length;s--;){var a=o[Ot?s:++n];if(!1===e(i[a],a,i))break}return t};function Ut(t,e){return t&&It(t,e,ft)}function Tt(t){return t!=t}function jt(t,e,r){return e==e?function(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}(t,e,r):function(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,Tt,r)}var Pt=function(t,e,r){"function"==typeof e&&(r=e,e=null),r=C(r||L);var n=ft(t).length;if(!n)return r(null);e||(e=n);var o={},s=0,a=!1,u=Object.create(null),c=[],f=[],h={};function l(t,e){c.push((function(){!function(t,e){if(!a){var n=lt((function(e,n){if(s--,arguments.length>2&&(n=i(arguments,1)),e){var c={};Ut(o,(function(t,e){c[e]=t})),c[t]=n,a=!0,u=Object.create(null),r(e,c)}else o[t]=n,d(t)}));s++;var c=b(e[e.length-1]);e.length>1?c(o,n):c(n)}}(t,e)}))}function p(){if(0===c.length&&0===s)return r(null,o);for(;c.length&&s<e;)c.shift()()}function d(t){Bt(u[t]||[],(function(t){t()})),p()}function y(e){var r=[];return Ut(t,(function(t,n){H(t)&&jt(t,e,0)>=0&&r.push(n)})),r}Ut(t,(function(e,r){if(!H(e))return l(r,[e]),void f.push(r);var n=e.slice(0,e.length-1),i=n.length;if(0===i)return l(r,e),void f.push(r);h[r]=i,Bt(n,(function(o){if(!t[o])throw new Error("async.auto task `"+r+"` has a non-existent dependency `"+o+"` in "+n.join(", "));var s,a,c;a=function(){0==--i&&l(r,e)},(c=u[s=o])||(c=u[s]=[]),c.push(a)}))})),function(){for(var t=0;f.length;)t++,Bt(y(f.pop()),(function(t){0==--h[t]&&f.push(t)}));if(t!==n)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),p()};function Lt(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var Ct=x?x.prototype:void 0,Rt=Ct?Ct.toString:void 0;function Ft(t){if("string"==typeof t)return t;if(H(t))return Lt(t,Ft)+"";if(function(t){return"symbol"==typeof t||F(t)&&"[object Symbol]"==U(t)}(t))return Rt?Rt.call(t):"";var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}function Nt(t,e,r){var n=t.length;return r=void 0===r?n:r,!e&&r>=n?t:function(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(i);++n<i;)o[n]=t[n+e];return o}(t,e,r)}var Dt=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var $t="[\\ud800-\\udfff]",Mt="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",zt="\\ud83c[\\udffb-\\udfff]",Ht="[^\\ud800-\\udfff]",Kt="(?:\\ud83c[\\udde6-\\uddff]){2}",qt="[\\ud800-\\udbff][\\udc00-\\udfff]",Vt="(?:"+Mt+"|"+zt+")?",Wt="[\\ufe0e\\ufe0f]?",Gt=Wt+Vt+("(?:\\u200d(?:"+[Ht,Kt,qt].join("|")+")"+Wt+Vt+")*"),Jt="(?:"+[Ht+Mt+"?",Mt,Kt,qt,$t].join("|")+")",Zt=RegExp(zt+"(?="+zt+")|"+Jt+Gt,"g");function Yt(t){return function(t){return Dt.test(t)}(t)?function(t){return t.match(Zt)||[]}(t):function(t){return t.split("")}(t)}var Xt=/^\s+|\s+$/g;function Qt(t,e,r){if((t=null==(n=t)?"":Ft(n))&&(r||void 0===e))return t.replace(Xt,"");var n;if(!t||!(e=Ft(e)))return t;var i=Yt(t),o=Yt(e);return Nt(i,function(t,e){for(var r=-1,n=t.length;++r<n&&jt(e,t[r],0)>-1;);return r}(i,o),function(t,e){for(var r=t.length;r--&&jt(e,t[r],0)>-1;);return r}(i,o)+1).join("")}var te=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,ee=/,/,re=/(=.+)?(\s*)$/,ne=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function ie(t,e){var r={};Ut(t,(function(t,e){var n,i=m(t),o=!i&&1===t.length||i&&0===t.length;if(H(t))n=t.slice(0,-1),t=t[t.length-1],r[e]=n.concat(n.length>0?s:t);else if(o)r[e]=t;else{if(n=function(t){return(t=(t=(t=t.toString().replace(ne,"")).match(te)[2].replace(" ",""))?t.split(ee):[]).map((function(t){return Qt(t.replace(re,""))}))}(t),0===t.length&&!i&&0===n.length)throw new Error("autoInject task functions require explicit parameters.");i||n.pop(),r[e]=n.concat(s)}function s(e,r){var i=Lt(n,(function(t){return e[t]}));i.push(r),b(t).apply(null,i)}})),Pt(r,e)}function oe(){this.head=this.tail=null,this.length=0}function se(t,e){t.length=1,t.head=t.tail=e}function ae(t,e,r){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var n=b(t),i=0,o=[],s=!1;function a(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(f.started=!0,H(t)||(t=[t]),0===t.length&&f.idle())return l((function(){f.drain()}));for(var n=0,i=t.length;n<i;n++){var o={data:t[n],callback:r||L};e?f._tasks.unshift(o):f._tasks.push(o)}s||(s=!0,l((function(){s=!1,f.process()})))}function u(t){return function(e){i-=1;for(var r=0,n=t.length;r<n;r++){var s=t[r],a=jt(o,s,0);0===a?o.shift():a>0&&o.splice(a,1),s.callback.apply(s,arguments),null!=e&&f.error(e,s.data)}i<=f.concurrency-f.buffer&&f.unsaturated(),f.idle()&&f.drain(),f.process()}}var c=!1,f={_tasks:new oe,concurrency:e,payload:r,saturated:L,unsaturated:L,buffer:e/4,empty:L,drain:L,error:L,started:!1,paused:!1,push:function(t,e){a(t,!1,e)},kill:function(){f.drain=L,f._tasks.empty()},unshift:function(t,e){a(t,!0,e)},remove:function(t){f._tasks.remove(t)},process:function(){if(!c){for(c=!0;!f.paused&&i<f.concurrency&&f._tasks.length;){var t=[],e=[],r=f._tasks.length;f.payload&&(r=Math.min(r,f.payload));for(var s=0;s<r;s++){var a=f._tasks.shift();t.push(a),o.push(a),e.push(a.data)}i+=1,0===f._tasks.length&&f.empty(),i===f.concurrency&&f.saturated();var h=lt(u(t));n(e,h)}c=!1}},length:function(){return f._tasks.length},running:function(){return i},workersList:function(){return o},idle:function(){return f._tasks.length+i===0},pause:function(){f.paused=!0},resume:function(){!1!==f.paused&&(f.paused=!1,l(f.process))}};return f}function ue(t,e){return ae(t,1,e)}oe.prototype.removeLink=function(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t},oe.prototype.empty=function(){for(;this.head;)this.shift();return this},oe.prototype.insertAfter=function(t,e){e.prev=t,e.next=t.next,t.next?t.next.prev=e:this.tail=e,t.next=e,this.length+=1},oe.prototype.insertBefore=function(t,e){e.prev=t.prev,e.next=t,t.prev?t.prev.next=e:this.head=e,t.prev=e,this.length+=1},oe.prototype.unshift=function(t){this.head?this.insertBefore(this.head,t):se(this,t)},oe.prototype.push=function(t){this.tail?this.insertAfter(this.tail,t):se(this,t)},oe.prototype.shift=function(){return this.head&&this.removeLink(this.head)},oe.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},oe.prototype.toArray=function(){for(var t=Array(this.length),e=this.head,r=0;r<this.length;r++)t[r]=e.data,e=e.next;return t},oe.prototype.remove=function(t){for(var e=this.head;e;){var r=e.next;t(e)&&this.removeLink(e),e=r}return this};var ce=yt(dt,1);function fe(t,e,r,n){n=C(n||L);var i=b(r);ce(t,(function(t,r,n){i(e,t,(function(t,r){e=r,n(t)}))}),(function(t){n(t,e)}))}function he(){var t=Lt(arguments,b);return function(){var e=i(arguments),r=this,n=e[e.length-1];"function"==typeof n?e.pop():n=L,fe(t,e,(function(t,e,n){e.apply(r,t.concat((function(t){var e=i(arguments,1);n(t,e)})))}),(function(t,e){n.apply(r,[t].concat(e))}))}}var le=function(){return he.apply(null,i(arguments).reverse())},pe=Array.prototype.concat,de=function(t,e,r,n){n=n||L;var o=b(r);St(t,e,(function(t,e){o(t,(function(t){return t?e(t):e(null,i(arguments,1))}))}),(function(t,e){for(var r=[],i=0;i<e.length;i++)e[i]&&(r=pe.apply(r,e[i]));return n(t,r)}))},ye=yt(de,1/0),ge=yt(de,1),me=function(){var t=i(arguments),e=[null].concat(t);return function(){return arguments[arguments.length-1].apply(this,e)}};function be(t){return t}function we(t,e){return function(r,n,i,o){o=o||L;var s,a=!1;r(n,(function(r,n,o){i(r,(function(n,i){n?o(n):t(i)&&!s?(a=!0,s=e(!0,r),o(null,P)):o()}))}),(function(t){t?o(t):o(null,a?s:e(!1))}))}}function ve(t,e){return e}var Ee=wt(we(be,ve)),Ae=xt(we(be,ve)),xe=yt(Ae,1);function Se(t){return function(e){var r=i(arguments,1);r.push((function(e){var r=i(arguments,1);"object"==typeof console&&(e?console.error&&console.error(e):console[t]&&Bt(r,(function(e){console[t](e)})))})),b(e).apply(null,r)}}var _e=Se("dir");function ke(t,e,r){r=lt(r||L);var n=b(t),o=b(e);function s(t){if(t)return r(t);var e=i(arguments,1);e.push(a),o.apply(this,e)}function a(t,e){return t?r(t):e?void n(s):r(null)}a(null,!0)}function Be(t,e,r){r=lt(r||L);var n=b(t),o=function(t){if(t)return r(t);var s=i(arguments,1);if(e.apply(this,s))return n(o);r.apply(null,[null].concat(s))};n(o)}function Oe(t,e,r){Be(t,(function(){return!e.apply(this,arguments)}),r)}function Ie(t,e,r){r=lt(r||L);var n=b(e),i=b(t);function o(t){if(t)return r(t);i(s)}function s(t,e){return t?r(t):e?void n(o):r(null)}i(s)}function Ue(t){return function(e,r,n){return t(e,n)}}function Te(t,e,r){bt(t,Ue(b(e)),r)}function je(t,e,r,n){pt(e)(t,Ue(b(r)),n)}var Pe=yt(je,1);function Le(t){return m(t)?t:s((function(e,r){var n=!0;e.push((function(){var t=arguments;n?l((function(){r.apply(null,t)})):r.apply(null,t)})),t.apply(this,e),n=!1}))}function Ce(t){return!t}var Re=wt(we(Ce,Ce)),Fe=xt(we(Ce,Ce)),Ne=yt(Fe,1);function De(t){return function(e){return null==e?void 0:e[t]}}function $e(t,e,r,n){var i=new Array(e.length);t(e,(function(t,e,n){r(t,(function(t,r){i[e]=!!r,n(t)}))}),(function(t){if(t)return n(t);for(var r=[],o=0;o<e.length;o++)i[o]&&r.push(e[o]);n(null,r)}))}function Me(t,e,r,n){var i=[];t(e,(function(t,e,n){r(t,(function(r,o){r?n(r):(o&&i.push({index:e,value:t}),n())}))}),(function(t){t?n(t):n(null,Lt(i.sort((function(t,e){return t.index-e.index})),De("value")))}))}function ze(t,e,r,n){(j(e)?$e:Me)(t,e,b(r),n||L)}var He=wt(ze),Ke=xt(ze),qe=yt(Ke,1);function Ve(t,e){var r=lt(e||L),n=b(Le(t));!function t(e){if(e)return r(e);n(t)}()}var We=function(t,e,r,n){n=n||L;var i=b(r);St(t,e,(function(t,e){i(t,(function(r,n){return r?e(r):e(null,{key:n,val:t})}))}),(function(t,e){for(var r={},i=Object.prototype.hasOwnProperty,o=0;o<e.length;o++)if(e[o]){var s=e[o].key,a=e[o].val;i.call(r,s)?r[s].push(a):r[s]=[a]}return n(t,r)}))},Ge=yt(We,1/0),Je=yt(We,1),Ze=Se("log");function Ye(t,e,r,n){n=C(n||L);var i={},o=b(r);dt(t,e,(function(t,e,r){o(t,e,(function(t,n){if(t)return r(t);i[e]=n,r()}))}),(function(t){n(t,i)}))}var Xe=yt(Ye,1/0),Qe=yt(Ye,1);function tr(t,e){return e in t}function er(t,e){var r=Object.create(null),n=Object.create(null);e=e||be;var o=b(t),a=s((function(t,s){var a=e.apply(null,t);tr(r,a)?l((function(){s.apply(null,r[a])})):tr(n,a)?n[a].push(s):(n[a]=[s],o.apply(null,t.concat((function(){var t=i(arguments);r[a]=t;var e=n[a];delete n[a];for(var o=0,s=e.length;o<s;o++)e[o].apply(null,t)}))))}));return a.memo=r,a.unmemoized=t,a}var rr=h(c?n.nextTick:u?setImmediate:f);function nr(t,e,r){r=r||L;var n=j(e)?[]:{};t(e,(function(t,e,r){b(t)((function(t,o){arguments.length>2&&(o=i(arguments,1)),n[e]=o,r(t)}))}),(function(t){r(t,n)}))}function ir(t,e){nr(bt,t,e)}function or(t,e,r){nr(pt(e),t,r)}var sr=function(t,e){var r=b(t);return ae((function(t,e){r(t[0],e)}),e,1)},ar=function(t,e){var r=sr(t,e);return r.push=function(t,e,n){if(null==n&&(n=L),"function"!=typeof n)throw new Error("task callback must be a function");if(r.started=!0,H(t)||(t=[t]),0===t.length)return l((function(){r.drain()}));e=e||0;for(var i=r._tasks.head;i&&e>=i.priority;)i=i.next;for(var o=0,s=t.length;o<s;o++){var a={data:t[o],priority:e,callback:n};i?r._tasks.insertBefore(i,a):r._tasks.push(a)}l(r.process)},delete r.unshift,r};function ur(t,e){if(e=C(e||L),!H(t))return e(new TypeError("First argument to race must be an array of functions"));if(!t.length)return e();for(var r=0,n=t.length;r<n;r++)b(t[r])(e)}function cr(t,e,r,n){fe(i(t).reverse(),e,r,n)}function fr(t){var e=b(t);return s((function(t,r){return t.push((function(t,e){var n;t?r(null,{error:t}):(n=arguments.length<=2?e:i(arguments,1),r(null,{value:n}))})),e.apply(this,t)}))}function hr(t){var e;return H(t)?e=Lt(t,fr):(e={},Ut(t,(function(t,r){e[r]=fr.call(this,t)}))),e}function lr(t,e,r,n){ze(t,e,(function(t,e){r(t,(function(t,r){e(t,!r)}))}),n)}var pr=wt(lr),dr=xt(lr),yr=yt(dr,1);function gr(t){return function(){return t}}function mr(t,e,r){var n=5,i=0,o={times:n,intervalFunc:gr(i)};function s(t,e){if("object"==typeof e)t.times=+e.times||n,t.intervalFunc="function"==typeof e.interval?e.interval:gr(+e.interval||i),t.errorFilter=e.errorFilter;else{if("number"!=typeof e&&"string"!=typeof e)throw new Error("Invalid arguments for async.retry");t.times=+e||n}}if(arguments.length<3&&"function"==typeof t?(r=e||L,e=t):(s(o,t),r=r||L),"function"!=typeof e)throw new Error("Invalid arguments for async.retry");var a=b(e),u=1;function c(){a((function(t){t&&u++<o.times&&("function"!=typeof o.errorFilter||o.errorFilter(t))?setTimeout(c,o.intervalFunc(u)):r.apply(null,arguments)}))}c()}var br=function(t,e){e||(e=t,t=null);var r=b(e);return s((function(e,n){function i(t){r.apply(null,e.concat(t))}t?mr(t,i,n):mr(i,n)}))};function wr(t,e){nr(ce,t,e)}var vr=wt(we(Boolean,be)),Er=xt(we(Boolean,be)),Ar=yt(Er,1);function xr(t,e,r){var n=b(e);function i(t,e){var r=t.criteria,n=e.criteria;return r<n?-1:r>n?1:0}Et(t,(function(t,e){n(t,(function(r,n){if(r)return e(r);e(null,{value:t,criteria:n})}))}),(function(t,e){if(t)return r(t);r(null,Lt(e.sort(i),De("value")))}))}function Sr(t,e,r){var n=b(t);return s((function(i,o){var s,a=!1;i.push((function(){a||(o.apply(null,arguments),clearTimeout(s))})),s=setTimeout((function(){var e=t.name||"anonymous",n=new Error('Callback function "'+e+'" timed out.');n.code="ETIMEDOUT",r&&(n.info=r),a=!0,o(n)}),e),n.apply(null,i)}))}var _r=Math.ceil,kr=Math.max;function Br(t,e,r,n){var i=b(r);St(function(t,e,r,n){for(var i=-1,o=kr(_r((e-t)/(r||1)),0),s=Array(o);o--;)s[n?o:++i]=t,t+=r;return s}(0,t,1),e,i,n)}var Or=yt(Br,1/0),Ir=yt(Br,1);function Ur(t,e,r,n){arguments.length<=3&&(n=r,r=e,e=H(t)?[]:{}),n=C(n||L);var i=b(r);bt(t,(function(t,r,n){i(e,t,r,n)}),(function(t){n(t,e)}))}function Tr(t,e){var r,n=null;e=e||L,Pe(t,(function(t,e){b(t)((function(t,o){r=arguments.length>2?i(arguments,1):o,n=t,e(!t)}))}),(function(){e(n,r)}))}function jr(t){return function(){return(t.unmemoized||t).apply(null,arguments)}}function Pr(t,e,r){r=lt(r||L);var n=b(e);if(!t())return r(null);var o=function(e){if(e)return r(e);if(t())return n(o);var s=i(arguments,1);r.apply(null,[null].concat(s))};n(o)}function Lr(t,e,r){Pr((function(){return!t.apply(this,arguments)}),e,r)}var Cr=function(t,e){if(e=C(e||L),!H(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var r=0;function n(e){var n=b(t[r++]);e.push(lt(o)),n.apply(null,e)}function o(o){if(o||r===t.length)return e.apply(null,arguments);n(i(arguments,1))}n([])},Rr={apply:o,applyEach:At,applyEachSeries:kt,asyncify:p,auto:Pt,autoInject:ie,cargo:ue,compose:le,concat:ye,concatLimit:de,concatSeries:ge,constant:me,detect:Ee,detectLimit:Ae,detectSeries:xe,dir:_e,doDuring:ke,doUntil:Oe,doWhilst:Be,during:Ie,each:Te,eachLimit:je,eachOf:bt,eachOfLimit:dt,eachOfSeries:ce,eachSeries:Pe,ensureAsync:Le,every:Re,everyLimit:Fe,everySeries:Ne,filter:He,filterLimit:Ke,filterSeries:qe,forever:Ve,groupBy:Ge,groupByLimit:We,groupBySeries:Je,log:Ze,map:Et,mapLimit:St,mapSeries:_t,mapValues:Xe,mapValuesLimit:Ye,mapValuesSeries:Qe,memoize:er,nextTick:rr,parallel:ir,parallelLimit:or,priorityQueue:ar,queue:sr,race:ur,reduce:fe,reduceRight:cr,reflect:fr,reflectAll:hr,reject:pr,rejectLimit:dr,rejectSeries:yr,retry:mr,retryable:br,seq:he,series:wr,setImmediate:l,some:vr,someLimit:Er,someSeries:Ar,sortBy:xr,timeout:Sr,times:Or,timesLimit:Br,timesSeries:Ir,transform:Ur,tryEach:Tr,unmemoize:jr,until:Lr,waterfall:Cr,whilst:Pr,all:Re,allLimit:Fe,allSeries:Ne,any:vr,anyLimit:Er,anySeries:Ar,find:Ee,findLimit:Ae,findSeries:xe,forEach:Te,forEachSeries:Pe,forEachLimit:je,forEachOf:bt,forEachOfSeries:ce,forEachOfLimit:dt,inject:fe,foldl:fe,foldr:cr,select:He,selectLimit:Ke,selectSeries:qe,wrapSync:p};e.default=Rr,e.apply=o,e.applyEach=At,e.applyEachSeries=kt,e.asyncify=p,e.auto=Pt,e.autoInject=ie,e.cargo=ue,e.compose=le,e.concat=ye,e.concatLimit=de,e.concatSeries=ge,e.constant=me,e.detect=Ee,e.detectLimit=Ae,e.detectSeries=xe,e.dir=_e,e.doDuring=ke,e.doUntil=Oe,e.doWhilst=Be,e.during=Ie,e.each=Te,e.eachLimit=je,e.eachOf=bt,e.eachOfLimit=dt,e.eachOfSeries=ce,e.eachSeries=Pe,e.ensureAsync=Le,e.every=Re,e.everyLimit=Fe,e.everySeries=Ne,e.filter=He,e.filterLimit=Ke,e.filterSeries=qe,e.forever=Ve,e.groupBy=Ge,e.groupByLimit=We,e.groupBySeries=Je,e.log=Ze,e.map=Et,e.mapLimit=St,e.mapSeries=_t,e.mapValues=Xe,e.mapValuesLimit=Ye,e.mapValuesSeries=Qe,e.memoize=er,e.nextTick=rr,e.parallel=ir,e.parallelLimit=or,e.priorityQueue=ar,e.queue=sr,e.race=ur,e.reduce=fe,e.reduceRight=cr,e.reflect=fr,e.reflectAll=hr,e.reject=pr,e.rejectLimit=dr,e.rejectSeries=yr,e.retry=mr,e.retryable=br,e.seq=he,e.series=wr,e.setImmediate=l,e.some=vr,e.someLimit=Er,e.someSeries=Ar,e.sortBy=xr,e.timeout=Sr,e.times=Or,e.timesLimit=Br,e.timesSeries=Ir,e.transform=Ur,e.tryEach=Tr,e.unmemoize=jr,e.until=Lr,e.waterfall=Cr,e.whilst=Pr,e.all=Re,e.allLimit=Fe,e.allSeries=Ne,e.any=vr,e.anyLimit=Er,e.anySeries=Ar,e.find=Ee,e.findLimit=Ae,e.findSeries=xe,e.forEach=Te,e.forEachSeries=Pe,e.forEachLimit=je,e.forEachOf=bt,e.forEachOfSeries=ce,e.forEachOfLimit=dt,e.inject=fe,e.foldl=fe,e.foldr=cr,e.select=He,e.selectLimit=Ke,e.selectSeries=qe,e.wrapSync=p,Object.defineProperty(e,"__esModule",{value:!0})}(e)},8166:t=>{"use strict";t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),o=i.charCodeAt(0);if(255!==e[o])throw new TypeError(i+" is ambiguous");e[o]=n}var s=t.length,a=t.charAt(0),u=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function f(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;for(var r=0,n=0,i=0;t[r]===a;)n++,r++;for(var o=(t.length-r)*u+1>>>0,c=new Uint8Array(o);t[r];){var f=e[t.charCodeAt(r)];if(255===f)return;for(var h=0,l=o-1;(0!==f||h<i)&&-1!==l;l--,h++)f+=s*c[l]>>>0,c[l]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=h,r++}for(var p=o-i;p!==o&&0===c[p];)p++;for(var d=new Uint8Array(n+(o-p)),y=n;p!==o;)d[y++]=c[p++];return d}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var r=0,n=0,i=0,o=e.length;i!==o&&0===e[i];)i++,r++;for(var u=(o-i)*c+1>>>0,f=new Uint8Array(u);i!==o;){for(var h=e[i],l=0,p=u-1;(0!==h||l<n)&&-1!==p;p--,l++)h+=256*f[p]>>>0,f[p]=h%s>>>0,h=h/s>>>0;if(0!==h)throw new Error("Non-zero carry");n=l,i++}for(var d=u-n;d!==u&&0===f[d];)d++;for(var y=a.repeat(r);d<u;++d)y+=t.charAt(f[d]);return y},decodeUnsafe:f,decode:function(t){var e=f(t);if(e)return e;throw new Error("Non-base"+s+" character")}}}},5766:(t,e)=>{"use strict";e.byteLength=function(t){var e=u(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,o=u(t),s=o[0],a=o[1],c=new i(function(t,e,r){return 3*(e+r)/4-r}(0,s,a)),f=0,h=a>0?s-4:s;for(r=0;r<h;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],c[f++]=e>>16&255,c[f++]=e>>8&255,c[f++]=255&e;return 2===a&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,c[f++]=255&e),1===a&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,c[f++]=e>>8&255,c[f++]=255&e),c},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=16383,a=0,u=n-i;a<u;a+=s)o.push(c(t,a,a+s>u?u:a+s));return 1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function c(t,e,n){for(var i,o,s=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},2573:(t,e,r)=>{"use strict";var n=r(8834).Buffer,i=r(1329);function o(t,e){return void 0===e&&(e="utf8"),n.isBuffer(t)?a(t.toString("base64")):a(n.from(t,e).toString("base64"))}function s(t){return t=t.toString(),i.default(t).replace(/\-/g,"+").replace(/_/g,"/")}function a(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var u=o;u.encode=o,u.decode=function(t,e){return void 0===e&&(e="utf8"),n.from(s(t),"base64").toString(e)},u.toBase64=s,u.fromBase64=a,u.toBuffer=function(t){return n.from(s(t),"base64")},e.default=u},1329:(t,e,r)=>{"use strict";var n=r(8834).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.length,r=e%4;if(!r)return t;var i=e,o=4-r,s=e+o,a=n.alloc(s);for(a.write(t);o--;)a.write("=",i++);return a.toString()}},9487:(t,e,r)=>{t.exports=r(2573).default,t.exports.default=t.exports},7022:(t,e,r)=>{const n=r(8166);t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},8834:(t,e,r)=>{"use strict";const n=r(5766),i=r(2333),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return c(t,e,r)}function c(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|y(t,e);let n=a(r);const i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(J(t,Uint8Array)){const e=new Uint8Array(t);return p(e.buffer,e.byteOffset,e.byteLength)}return l(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(J(t,ArrayBuffer)||t&&J(t.buffer,ArrayBuffer))return p(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(J(t,SharedArrayBuffer)||t&&J(t.buffer,SharedArrayBuffer)))return p(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return u.from(n,e,r);const i=function(t){if(u.isBuffer(t)){const e=0|d(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||Z(t.length)?a(0):l(t):"Buffer"===t.type&&Array.isArray(t.data)?l(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return f(t),a(t<0?0:0|d(t))}function l(t){const e=t.length<0?0:0|d(t.length),r=a(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function p(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,u.prototype),n}function d(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function y(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||J(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return W(t).length;default:if(i)return n?-1:V(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return U(this,e,r);case"utf8":case"utf-8":return k(this,e,r);case"ascii":return O(this,e,r);case"latin1":case"binary":return I(this,e,r);case"base64":return _(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function m(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function b(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Z(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:w(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):w(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(t,e,r,n,i){let o,s=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let n=-1;for(o=r;o<a;o++)if(c(t,o)===c(e,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(c(t,o+n)!==c(e,n)){r=!1;break}if(r)return o}return-1}function v(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=e.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(e.substr(2*s,2),16);if(Z(n))return s;t[r+s]=n}return s}function E(t,e,r,n){return G(V(e,t.length-r),t,r,n)}function A(t,e,r,n){return G(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function x(t,e,r,n){return G(W(e),t,r,n)}function S(t,e,r,n){return G(function(t,e){let r,n,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function _(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function k(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=r){let r,n,a,u;switch(s){case 1:e<128&&(o=e);break;case 2:r=t[i+1],128==(192&r)&&(u=(31&e)<<6|63&r,u>127&&(o=u));break;case 3:r=t[i+1],n=t[i+2],128==(192&r)&&128==(192&n)&&(u=(15&e)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:r=t[i+1],n=t[i+2],a=t[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(u=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(t){const e=t.length;if(e<=B)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=B));return r}(n)}e.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,r){return c(t,e,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,r){return function(t,e,r){return f(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},u.allocUnsafe=function(t){return h(t)},u.allocUnsafeSlow=function(t){return h(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(J(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),J(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=u.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(J(e,Uint8Array))i+e.length>n.length?(u.isBuffer(e)||(e=u.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!u.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,i)}i+=e.length}return n},u.byteLength=y,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?k(this,0,t):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(t,e,r,n,i){if(J(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;let o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0);const a=Math.min(o,s),c=this.slice(n,i),f=t.slice(e,r);for(let t=0;t<a;++t)if(c[t]!==f[t]){o=c[t],s=f[t];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return b(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return b(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return v(this,t,e,r);case"utf8":case"utf-8":return E(this,t,e,r);case"ascii":case"latin1":case"binary":return A(this,t,e,r);case"base64":return x(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const B=4096;function O(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function I(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function U(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=e;n<r;++n)i+=Y[t[n]];return i}function T(t,e,r){const n=t.slice(e,r);let i="";for(let t=0;t<n.length-1;t+=2)i+=String.fromCharCode(n[t]+256*n[t+1]);return i}function j(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,r,n,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function L(t,e,r,n,i){z(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,r}function C(t,e,r,n,i){z(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o>>=8,t[r+6]=o,o>>=8,t[r+5]=o,o>>=8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s>>=8,t[r+2]=s,s>>=8,t[r+1]=s,s>>=8,t[r]=s,r+8}function R(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function F(t,e,r,n,o){return e=+e,r>>>=0,o||R(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function N(t,e,r,n,o){return e=+e,r>>>=0,o||R(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||j(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||j(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||j(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||j(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||j(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||j(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readBigUInt64LE=X((function(t){H(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||K(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=X((function(t){H(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||K(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||j(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||j(t,e,this.length);let n=e,i=1,o=this[t+--n];for(;n>0&&(i*=256);)o+=this[t+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return t>>>=0,e||j(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||j(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){t>>>=0,e||j(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readBigInt64LE=X((function(t){H(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||K(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),u.prototype.readBigInt64BE=X((function(t){H(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||K(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),u.prototype.readFloatLE=function(t,e){return t>>>=0,e||j(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||j(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||j(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||j(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||P(this,t,e,r,Math.pow(2,8*r)-1,0);let i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||P(this,t,e,r,Math.pow(2,8*r)-1,0);let i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigUInt64LE=X((function(t,e=0){return L(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=X((function(t,e=0){return C(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);P(this,t,e,r,n-1,-n)}let i=0,o=1,s=0;for(this[e]=255&t;++i<r&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);P(this,t,e,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigInt64LE=X((function(t,e=0){return L(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=X((function(t,e=0){return C(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(t,e,r){return F(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return F(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return N(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return N(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{const o=u.isBuffer(t)?t:u.from(t,n),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=o[i%s]}return this};const D={};function $(t,e,r){D[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function M(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function z(t,e,r,n,i,o){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new D.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,r){H(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||K(e,t.length-(r+1))}(n,i,o)}function H(t,e){if("number"!=typeof t)throw new D.ERR_INVALID_ARG_TYPE(e,"number",t)}function K(t,e,r){if(Math.floor(t)!==t)throw H(t,r),new D.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new D.ERR_BUFFER_OUT_OF_BOUNDS;throw new D.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}$("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),$("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),$("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=M(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=M(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function V(t,e){let r;e=e||1/0;const n=t.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function W(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function G(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function J(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function Z(t){return t!=t}const Y=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function X(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},8098:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.c32ToB58=e.b58ToC32=e.c32addressDecode=e.c32address=e.versions=void 0;var n=r(392),i=r(2716);e.versions={mainnet:{p2pkh:22,p2sh:20},testnet:{p2pkh:26,p2sh:21}};var o={};o[0]=e.versions.mainnet.p2pkh,o[5]=e.versions.mainnet.p2sh,o[111]=e.versions.testnet.p2pkh,o[196]=e.versions.testnet.p2sh;var s={};function a(t,e){if(!e.match(/^[0-9a-fA-F]{40}$/))throw new Error("Invalid argument: not a hash160 hex string");return"S"+n.c32checkEncode(t,e)}function u(t){if(t.length<=5)throw new Error("Invalid c32 address: invalid length");if("S"!=t[0])throw new Error('Invalid c32 address: must start with "S"');return n.c32checkDecode(t.slice(1))}s[e.versions.mainnet.p2pkh]=0,s[e.versions.mainnet.p2sh]=5,s[e.versions.testnet.p2pkh]=111,s[e.versions.testnet.p2sh]=196,e.c32address=a,e.c32addressDecode=u,e.b58ToC32=function(t,e){void 0===e&&(e=-1);var r,n=i.decode(t),s=n.data.toString("hex"),u=parseInt(n.prefix.toString("hex"),16);return e<0?(r=u,void 0!==o[u]&&(r=o[u])):r=e,a(r,s)},e.c32ToB58=function(t,e){void 0===e&&(e=-1);var r,n=u(t),o=n[0],a=n[1];e<0?(r=o,void 0!==s[o]&&(r=s[o])):r=e;var c=r.toString(16);return 1===c.length&&(c="0"+c),i.encode(a,c)}},2716:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decode=e.encode=void 0;var n=r(8131),i=r(9926),o=r(9805),s="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";e.encode=function(t,e,r){if(void 0===e&&(e="00"),void 0===r&&(r="hex"),"string"==typeof t&&(t=new n.Buffer(t,r)),!(t instanceof n.Buffer))throw new TypeError('"data" argument must be an Array of Buffers');e instanceof n.Buffer||(e=new n.Buffer(e,r));var a=n.Buffer.concat([e,t]);return a=i.hashSha256(a),a=i.hashSha256(a),a=n.Buffer.concat([e,t,a.slice(0,4)]),o(s).encode(a)},e.decode=function(t,e){var r=new n.Buffer(o(s).decode(t)),a=r.slice(0,1),u=r.slice(1,-4),c=n.Buffer.concat([a,u]);return c=i.hashSha256(c),c=i.hashSha256(c),r.slice(-4).forEach((function(t,e){if(t!==c[e])throw new Error("Invalid checksum")})),e&&(a=a.toString(e),u=u.toString(e)),{prefix:a,data:u}}},392:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.c32checkDecode=e.c32checkEncode=void 0;var n=r(8131),i=r(4103),o=r(9926);function s(t){return o.hashSha256(o.hashSha256(n.Buffer.from(t,"hex"))).slice(0,4).toString("hex")}e.c32checkEncode=function(t,e){if(t<0||t>=32)throw new Error("Invalid version (must be between 0 and 31)");if(!e.match(/^[0-9a-fA-F]*$/))throw new Error("Invalid data (not a hex string)");(e=e.toLowerCase()).length%2!=0&&(e="0"+e);var r=t.toString(16);1===r.length&&(r="0"+r);var n=s(""+r+e),o=i.c32encode(""+e+n);return""+i.c32[t]+o},e.c32checkDecode=function(t){t=i.c32normalize(t);var e=i.c32decode(t.slice(1)),r=t[0],n=i.c32.indexOf(r),o=e.slice(-8),a=n.toString(16);if(1===a.length&&(a="0"+a),s(""+a+e.substring(0,e.length-8))!==o)throw new Error("Invalid c32check string: checksum mismatch");return[n,e.substring(0,e.length-8)]}},4103:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.c32decode=e.c32normalize=e.c32encode=e.c32=void 0;var n=r(8131);e.c32="0123456789ABCDEFGHJKMNPQRSTVWXYZ";var i="0123456789abcdef";function o(t){return t.toUpperCase().replace(/O/g,"0").replace(/L|I/g,"1")}e.c32encode=function(t,r){if(!t.match(/^[0-9a-fA-F]*$/))throw new Error("Not a hex-encoded string");t.length%2!=0&&(t="0"+t);for(var o=[],s=0,a=(t=t.toLowerCase()).length-1;a>=0;a--)if(s<4){var u=i.indexOf(t[a])>>s,c=0;0!==a&&(c=i.indexOf(t[a-1]));var f=1+s,h=c%(1<<f)<<5-f,l=e.c32[u+h];s=f,o.unshift(l)}else s=0;var p=0;for(a=0;a<o.length&&"0"===o[a];a++)p++;o=o.slice(p);var d=n.Buffer.from(t,"hex").toString().match(/^\u0000*/),y=d?d[0].length:0;for(a=0;a<y;a++)o.unshift(e.c32[0]);if(r){var g=r-o.length;for(a=0;a<g;a++)o.unshift(e.c32[0])}return o.join("")},e.c32normalize=o,e.c32decode=function(t,r){if(!(t=o(t)).match("^["+e.c32+"]*$"))throw new Error("Not a c32-encoded string");for(var n=t.match("^"+e.c32[0]+"*"),s=n?n[0].length:0,a=[],u=0,c=0,f=t.length-1;f>=0;f--){4===c&&(a.unshift(i[u]),c=0,u=0);var h=(e.c32.indexOf(t[f])<<c)+u,l=i[h%16];if((u=h>>4)>1<<(c+=1))throw new Error("Panic error in decoding.");a.unshift(l)}a.unshift(i[u]),a.length%2==1&&a.unshift("0");var p=0;for(f=0;f<a.length&&"0"===a[f];f++)p++;var d=(a=a.slice(p-p%2)).join("");for(f=0;f<s;f++)d="00"+d;if(r){var y=2*r-d.length;for(f=0;f<y;f+=2)d="00"+d}return d}},2870:(t,e,r)=>{"use strict";e.H4=void 0;r(4103),r(392);var n=r(8098);Object.defineProperty(e,"H4",{enumerable:!0,get:function(){return n.c32address}})},9805:(t,e,r)=>{"use strict";var n=r(7834).Buffer;t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(255!==e[s])throw new TypeError(o+" is ambiguous");e[s]=i}var a=t.length,u=t.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function h(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return n.alloc(0);for(var r=0,i=0,o=0;t[r]===u;)i++,r++;for(var s=(t.length-r)*c+1>>>0,f=new Uint8Array(s);t[r];){var h=e[t.charCodeAt(r)];if(255===h)return;for(var l=0,p=s-1;(0!==h||l<o)&&-1!==p;p--,l++)h+=a*f[p]>>>0,f[p]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");o=l,r++}for(var d=s-o;d!==s&&0===f[d];)d++;var y=n.allocUnsafe(i+(s-d));y.fill(0,0,i);for(var g=i;d!==s;)y[g++]=f[d++];return y}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=n.from(e)),!n.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var r=0,i=0,o=0,s=e.length;o!==s&&0===e[o];)o++,r++;for(var c=(s-o)*f+1>>>0,h=new Uint8Array(c);o!==s;){for(var l=e[o],p=0,d=c-1;(0!==l||p<i)&&-1!==d;d--,p++)l+=256*h[d]>>>0,h[d]=l%a>>>0,l=l/a>>>0;if(0!==l)throw new Error("Non-zero carry");i=p,o++}for(var y=c-i;y!==c&&0===h[y];)y++;for(var g=u.repeat(r);y<c;++y)g+=t.charAt(h[y]);return g},decodeUnsafe:h,decode:function(t){var e=h(t);if(e)return e;throw new Error("Non-base"+a+" character")}}}},8131:(t,e,r)=>{"use strict";var n=r(5766),i=r(2333),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},e.INSPECT_MAX_BYTES=50;var s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return c(t,e,r)}function c(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|y(t,e),n=a(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(M(t,Uint8Array)){var e=new Uint8Array(t);return p(e.buffer,e.byteOffset,e.byteLength)}return l(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(M(t,ArrayBuffer)||t&&M(t.buffer,ArrayBuffer))return p(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(M(t,SharedArrayBuffer)||t&&M(t.buffer,SharedArrayBuffer)))return p(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return u.from(n,e,r);var i=function(t){if(u.isBuffer(t)){var e=0|d(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||z(t.length)?a(0):l(t):"Buffer"===t.type&&Array.isArray(t.data)?l(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return f(t),a(t<0?0:0|d(t))}function l(t){for(var e=t.length<0?0:0|d(t.length),r=a(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function p(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,u.prototype),n}function d(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function y(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||M(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return N(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return D(t).length;default:if(i)return n?-1:N(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return U(this,e,r);case"utf8":case"utf-8":return k(this,e,r);case"ascii":return O(this,e,r);case"latin1":case"binary":return I(this,e,r);case"base64":return _(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function m(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function b(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),z(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:w(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):w(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(t,e,r,n,i){var o,s=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var f=-1;for(o=r;o<a;o++)if(c(t,o)===c(e,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*s}else-1!==f&&(o-=o-f),f=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var h=!0,l=0;l<u;l++)if(c(t,o+l)!==c(e,l)){h=!1;break}if(h)return o}return-1}function v(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(z(a))return s;t[r+s]=a}return s}function E(t,e,r,n){return $(N(e,t.length-r),t,r,n)}function A(t,e,r,n){return $(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function x(t,e,r,n){return $(D(e),t,r,n)}function S(t,e,r,n){return $(function(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=(r=t.charCodeAt(s))>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function _(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function k(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,s,a,u,c=t[i],f=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=r)switch(h){case 1:c<128&&(f=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(f=u);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(f=u)}null===f?(f=65533,h=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=h}return function(t){var e=t.length;if(e<=B)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=B));return r}(n)}e.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,r){return c(t,e,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,r){return function(t,e,r){return f(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},u.allocUnsafe=function(t){return h(t)},u.allocUnsafeSlow=function(t){return h(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(M(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),M(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=u.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(M(o,Uint8Array))i+o.length>n.length?u.from(o).copy(n,i):Uint8Array.prototype.set.call(n,o,i);else{if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i)}i+=o.length}return n},u.byteLength=y,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?k(this,0,t):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(t,e,r,n,i){if(M(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0),a=Math.min(o,s),c=this.slice(n,i),f=t.slice(e,r),h=0;h<a;++h)if(c[h]!==f[h]){o=c[h],s=f[h];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return b(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return b(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return v(this,t,e,r);case"utf8":case"utf-8":return E(this,t,e,r);case"ascii":case"latin1":case"binary":return A(this,t,e,r);case"base64":return x(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var B=4096;function O(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function I(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function U(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=H[t[o]];return i}function T(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function j(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,r,n,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function L(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function C(t,e,r,n,o){return e=+e,r>>>=0,o||L(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function R(t,e,r,n,o){return e=+e,r>>>=0,o||L(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||j(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||j(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||j(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||j(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||j(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||j(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||j(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||j(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return t>>>=0,e||j(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||j(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){t>>>=0,e||j(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return t>>>=0,e||j(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||j(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||j(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||j(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||P(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||P(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);P(this,t,e,r,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);P(this,t,e,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeFloatLE=function(t,e,r){return C(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return C(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return R(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return R(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var i=t.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(t=i)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var s=u.isBuffer(t)?t:u.from(t,n),a=s.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=s[o%a]}return this};var F=/[^+/0-9A-Za-z-_]/g;function N(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function D(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(F,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function $(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function M(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function z(t){return t!=t}var H=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)e[n+i]=t[r]+t[i];return e}()},3616:function(){!function(t){!function(e){var r="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in t,s="ArrayBuffer"in t;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function c(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function f(t){return"string"!=typeof t&&(t=String(t)),t}function h(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function l(t){this.map={},t instanceof l?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function p(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function d(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function y(t){var e=new FileReader,r=d(e);return e.readAsArrayBuffer(t),r}function g(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():s&&i&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=g(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(t)||u(t))?this._bodyArrayBuffer=g(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=p(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var t,e,r,n=p(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,r=d(e=new FileReader),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(t,e){t=c(t),e=f(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},l.prototype.delete=function(t){delete this.map[c(t)]},l.prototype.get=function(t){return t=c(t),this.has(t)?this.map[t]:null},l.prototype.has=function(t){return this.map.hasOwnProperty(c(t))},l.prototype.set=function(t,e){this.map[c(t)]=f(e)},l.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},l.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),h(t)},l.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),h(t)},l.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),h(t)},n&&(l.prototype[Symbol.iterator]=l.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(t,e){var r,n,i=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new l(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new l(e.headers)),this.method=(n=(r=e.method||this.method||"GET").toUpperCase(),b.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function v(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}})),e}function E(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new l(e.headers),this.url=e.url||"",this._initBody(t)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},m.call(w.prototype),m.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},E.error=function(){var t=new E(null,{status:0,statusText:""});return t.type="error",t};var A=[301,302,303,307,308];E.redirect=function(t,e){if(-1===A.indexOf(e))throw new RangeError("Invalid status code");return new E(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function x(t,r){return new Promise((function(n,o){var s=new w(t,r);if(s.signal&&s.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var t,e,r={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new l,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}})),e)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;n(new E(i,r))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}x.polyfill=!0,t.fetch||(t.fetch=x,t.Headers=l,t.Request=w,t.Response=E),e.Headers=l,e.Request=w,e.Response=E,e.fetch=x,Object.defineProperty(e,"__esModule",{value:!0})}({})}("undefined"!=typeof self?self:this)},9926:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hashSha256=e.sha256=e.sha256nodeCrypto=e.sha256js=void 0;var n=r(3878),i=function(){function t(){this._blockSize=64,this._finalSize=56,this._len=0,this._w=new Array(64),this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this._block=n.Buffer.alloc(this._blockSize)}return t.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=n.Buffer.from(t,e));for(var r=this._block,i=this._blockSize,o=t.length,s=this._len,a=0;a<o;){for(var u=s%i,c=Math.min(o-a,i-u),f=0;f<c;f++)r[u+f]=t[a+f];a+=c,(s+=c)%i==0&&this._update(r)}return this._len+=o,this},t.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var i=(4294967295&r)>>>0,o=(r-i)/4294967296;this._block.writeUInt32BE(o,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var s=n.Buffer.alloc(32);return s.writeInt32BE(this._a,0),s.writeInt32BE(this._b,4),s.writeInt32BE(this._c,8),s.writeInt32BE(this._d,12),s.writeInt32BE(this._e,16),s.writeInt32BE(this._f,20),s.writeInt32BE(this._g,24),s.writeInt32BE(this._h,28),t?s.toString(t):s},t.prototype.ch=function(t,e,r){return r^t&(e^r)},t.prototype.maj=function(t,e,r){return t&e|r&(t|e)},t.prototype.sigma0=function(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)},t.prototype.sigma1=function(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)},t.prototype.gamma0=function(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3},t.prototype.gamma1=function(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10},t.prototype._update=function(e){for(var r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,a=0|this._e,u=0|this._f,c=0|this._g,f=0|this._h,h=0;h<16;++h)r[h]=e.readInt32BE(4*h);for(;h<64;++h)r[h]=this.gamma1(r[h-2])+r[h-7]+this.gamma0(r[h-15])+r[h-16]|0;for(var l=0;l<64;++l){var p=f+this.sigma1(a)+this.ch(a,u,c)+t.K[l]+r[l]|0,d=this.sigma0(n)+this.maj(n,i,o)|0;f=c,c=u,u=a,a=s+p|0,s=o,o=i,i=n,n=p+d|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0,this._f=u+this._f|0,this._g=c+this._g|0,this._h=f+this._h|0},t.K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],t}();e.sha256js=i;var o=function(){function t(){t.useCryptoModuleCache&&void 0!==t.nodeCryptoCreateHash||(t.nodeCryptoCreateHash=r(9096).createHash),this.hash=t.nodeCryptoCreateHash("sha256")}return t.prototype.update=function(t,e){return this.hash.update(t,e),this},t.prototype.digest=function(t){return t?this.hash.digest(t):this.hash.digest()},t.useCryptoModuleCache=!0,t}();e.sha256nodeCrypto=o;var s=void 0,a=function(){function t(){!function(){if(o.useCryptoModuleCache&&void 0!==s)return s;var t=!1;try{var e=r(9096);t=e&&"function"==typeof e.createHash}catch(t){}return s=t,t}()?this.instance=new i:this.instance=new o}return t.prototype.update=function(t,e){return this.instance.update(t,e),this},t.prototype.digest=function(t){return t?this.instance.digest(t):this.instance.digest()},t}();function u(t){return(new a).update(t).digest()}e.sha256=a,e.hashSha256=u,e.default=u},3878:(t,e,r)=>{"use strict";var n=r(5766),i=r(2333),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},e.INSPECT_MAX_BYTES=50;var s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return c(t,e,r)}function c(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|y(t,e),n=a(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(M(t,Uint8Array)){var e=new Uint8Array(t);return p(e.buffer,e.byteOffset,e.byteLength)}return l(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(M(t,ArrayBuffer)||t&&M(t.buffer,ArrayBuffer))return p(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(M(t,SharedArrayBuffer)||t&&M(t.buffer,SharedArrayBuffer)))return p(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return u.from(n,e,r);var i=function(t){if(u.isBuffer(t)){var e=0|d(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||z(t.length)?a(0):l(t):"Buffer"===t.type&&Array.isArray(t.data)?l(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return f(t),a(t<0?0:0|d(t))}function l(t){for(var e=t.length<0?0:0|d(t.length),r=a(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function p(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,u.prototype),n}function d(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function y(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||M(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return N(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return D(t).length;default:if(i)return n?-1:N(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return U(this,e,r);case"utf8":case"utf-8":return k(this,e,r);case"ascii":return O(this,e,r);case"latin1":case"binary":return I(this,e,r);case"base64":return _(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function m(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function b(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),z(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:w(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):w(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(t,e,r,n,i){var o,s=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var f=-1;for(o=r;o<a;o++)if(c(t,o)===c(e,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*s}else-1!==f&&(o-=o-f),f=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var h=!0,l=0;l<u;l++)if(c(t,o+l)!==c(e,l)){h=!1;break}if(h)return o}return-1}function v(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(z(a))return s;t[r+s]=a}return s}function E(t,e,r,n){return $(N(e,t.length-r),t,r,n)}function A(t,e,r,n){return $(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function x(t,e,r,n){return $(D(e),t,r,n)}function S(t,e,r,n){return $(function(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=(r=t.charCodeAt(s))>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function _(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function k(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,s,a,u,c=t[i],f=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=r)switch(h){case 1:c<128&&(f=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(f=u);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(f=u)}null===f?(f=65533,h=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=h}return function(t){var e=t.length;if(e<=B)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=B));return r}(n)}e.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,r){return c(t,e,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,r){return function(t,e,r){return f(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},u.allocUnsafe=function(t){return h(t)},u.allocUnsafeSlow=function(t){return h(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(M(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),M(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=u.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(M(o,Uint8Array))i+o.length>n.length?u.from(o).copy(n,i):Uint8Array.prototype.set.call(n,o,i);else{if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i)}i+=o.length}return n},u.byteLength=y,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?k(this,0,t):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(t,e,r,n,i){if(M(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0),a=Math.min(o,s),c=this.slice(n,i),f=t.slice(e,r),h=0;h<a;++h)if(c[h]!==f[h]){o=c[h],s=f[h];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return b(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return b(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return v(this,t,e,r);case"utf8":case"utf-8":return E(this,t,e,r);case"ascii":case"latin1":case"binary":return A(this,t,e,r);case"base64":return x(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var B=4096;function O(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function I(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function U(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=H[t[o]];return i}function T(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function j(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,r,n,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function L(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function C(t,e,r,n,o){return e=+e,r>>>=0,o||L(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function R(t,e,r,n,o){return e=+e,r>>>=0,o||L(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||j(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||j(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||j(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||j(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||j(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||j(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||j(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||j(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return t>>>=0,e||j(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||j(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){t>>>=0,e||j(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return t>>>=0,e||j(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||j(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||j(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||j(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||P(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||P(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);P(this,t,e,r,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);P(this,t,e,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeFloatLE=function(t,e,r){return C(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return C(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return R(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return R(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var i=t.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(t=i)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var s=u.isBuffer(t)?t:u.from(t,n),a=s.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=s[o%a]}return this};var F=/[^+/0-9A-Za-z-_]/g;function N(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function D(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(F,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function $(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function M(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function z(t){return t!=t}var H=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)e[n+i]=t[r]+t[i];return e}()},5554:t=>{"use strict";var e="%[a-f0-9]{2}",r=new RegExp(e,"gi"),n=new RegExp("("+e+")+","gi");function i(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],i(r),i(n))}function o(t){try{return decodeURIComponent(t)}catch(o){for(var e=t.match(r),n=1;n<e.length;n++)e=(t=i(e,n).join("")).match(r);return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"","%FF%FE":""},r=n.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch(t){var i=o(r[0]);i!==r[0]&&(e[r[0]]=i)}r=n.exec(t)}e["%C2"]="";for(var s=Object.keys(e),a=0;a<s.length;a++){var u=s[a];t=t.replace(new RegExp(u,"g"),e[u])}return t}(t)}}},6120:(t,e,r)=>{"use strict";var n=r(7834).Buffer,i=r(2221);function o(t){if(n.isBuffer(t))return t;if("string"==typeof t)return n.from(t,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function s(t,e,r){for(var n=0;e+n<r&&0===t[e+n];)++n;return t[e+n]>=128&&--n,n}t.exports={derToJose:function(t,e){t=o(t);var r=i(e),s=r+1,a=t.length,u=0;if(48!==t[u++])throw new Error('Could not find expected "seq"');var c=t[u++];if(129===c&&(c=t[u++]),a-u<c)throw new Error('"seq" specified length of "'+c+'", only "'+(a-u)+'" remaining');if(2!==t[u++])throw new Error('Could not find expected "int" for "r"');var f=t[u++];if(a-u-2<f)throw new Error('"r" specified length of "'+f+'", only "'+(a-u-2)+'" available');if(s<f)throw new Error('"r" specified length of "'+f+'", max of "'+s+'" is acceptable');var h=u;if(u+=f,2!==t[u++])throw new Error('Could not find expected "int" for "s"');var l=t[u++];if(a-u!==l)throw new Error('"s" specified length of "'+l+'", expected "'+(a-u)+'"');if(s<l)throw new Error('"s" specified length of "'+l+'", max of "'+s+'" is acceptable');var p=u;if((u+=l)!==a)throw new Error('Expected to consume entire buffer, but "'+(a-u)+'" bytes remain');var d=r-f,y=r-l,g=n.allocUnsafe(d+f+y+l);for(u=0;u<d;++u)g[u]=0;t.copy(g,u,h+Math.max(-d,0),h+f);for(var m=u=r;u<m+y;++u)g[u]=0;return t.copy(g,u,p+Math.max(-y,0),p+l),(g=g.toString("base64")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},joseToDer:function(t,e){t=o(t);var r=i(e),a=t.length;if(a!==2*r)throw new TypeError('"'+e+'" signatures must be "'+2*r+'" bytes, saw "'+a+'"');var u=s(t,0,r),c=s(t,r,t.length),f=r-u,h=r-c,l=2+f+1+1+h,p=l<128,d=n.allocUnsafe((p?2:3)+l),y=0;return d[y++]=48,p?d[y++]=l:(d[y++]=129,d[y++]=255&l),d[y++]=2,d[y++]=f,u<0?(d[y++]=0,y+=t.copy(d,y,0,r)):y+=t.copy(d,y,u,r),d[y++]=2,d[y++]=h,c<0?(d[y++]=0,t.copy(d,y,r)):t.copy(d,y,r+c),d}}},2221:t=>{"use strict";function e(t){return(t/8|0)+(t%8==0?0:1)}var r={ES256:e(256),ES384:e(384),ES512:e(521)};t.exports=function(t){var e=r[t];if(e)return e;throw new Error('Unknown algorithm "'+t+'"')}},5090:(t,e,r)=>{"use strict";r.d(e,{X:()=>o});var n=r(526),i=r(3687);class o{constructor(t=n.f3.slice(),e=(t=>null==(t=(0,i.Rf)("location",{returnEmptyObject:!0}))?void 0:t.origin)(),r="",o="/manifest.json",s,a=n._G){this.appDomain=e,this.scopes=t,this.redirectPath=r,this.manifestPath=o,this.coreNode=s,this.authenticatorURL=a}redirectURI(){return`${this.appDomain}${this.redirectPath}`}manifestURI(){return`${this.appDomain}${this.manifestPath}`}}},526:(t,e,r)=>{"use strict";r.d(e,{RS:()=>i,_G:()=>o,aL:()=>l,f0:()=>a,f3:()=>u,lB:()=>s,ud:()=>f,wR:()=>c,ym:()=>n,z1:()=>h});const n="blockstack",i="blockstack",o="https://browser.blockstack.org/auth",s={"@type":"Person","@context":"http://schema.org"};var a=(t=>(t.store_write="store_write",t.publish_data="publish_data",t.email="email",t))(a||{});const u=["store_write"],c="blockstack-transit-private-key",f="https://stacks-node-api.stacks.co",h="/v1/names",l="blockstack-session"},6873:(t,e,r)=>{"use strict";r.d(e,{J:()=>s,th:()=>a,xQ:()=>i,yz:()=>o});var n=r(735);function i(t){return`did:btc-addr:${t}`}function o(t){return`did:ecdsa-pub:${t}`}function s(t){const e=t.split(":");if(3!==e.length)throw new n.kn("Decentralized IDs must have 3 parts");if("did"!==e[0].toLowerCase())throw new n.kn('Decentralized IDs must start with "did"');return e[1].toLowerCase()}function a(t){if(t)return"btc-addr"===s(t)?t.split(":")[2]:void 0}},3750:(t,e,r)=>{"use strict";r.d(e,{R$:()=>h,ZW:()=>f,ph:()=>p,q8:()=>d});var n=r(3687),i=r(990),o=r(8414),s=r(7474),a=r(526),u=r(6873);const c="1.4.0";function f(){return(0,i.Qh)()}function h(t,e,r,o=a.f3.slice(),f,h=(0,n.nD)().getTime(),l={}){const p=t=>{const e=(0,n.Rf)("location",{throwIfUnavailable:!0,usageDesc:`makeAuthRequest([${t}=undefined])`});return null==e?void 0:e.origin};e||(e=`${p("redirectURI")}/`),r||(r=`${p("manifestURI")}/manifest.json`),f||(f=p("appDomain"));const d=Object.assign({},l,{jti:(0,n.gS)(),iat:Math.floor((new Date).getTime()/1e3),exp:Math.floor(h/1e3),iss:null,public_keys:[],domain_name:f,manifest_uri:r,redirect_uri:e,version:c,do_not_include_profile:!0,supports_hub_url:!0,scopes:o}),y=s.SECP256K1Client.derivePublicKey(t);d.public_keys=[y];const g=(0,i.y7)(y);return d.iss=(0,u.xQ)(g),new s.TokenSigner("ES256k",t).sign(d)}async function l(t,e){const r=await(0,o.pW)(t,n.lW.from(e),!0),i=JSON.stringify(r);return n.lW.from(i).toString("hex")}async function p(t,e){const r=n.lW.from(e,"hex").toString(),i=JSON.parse(r),s=await(0,o.ld)(t,i);if("string"!=typeof s)throw new Error("Unable to correctly decrypt private key");return s}async function d(t,e={},r,o=null,a=null,f=(0,n.nD)().getTime(),h=null,p=null,d=null,y=null,g=null){const m=s.SECP256K1Client.derivePublicKey(t),b=(0,i.y7)(m);let w=a,v=o,E={};null!=a&&(null!=h&&(w=await l(h,a),null!=o&&(v=await l(h,o))),E={email:(null==r?void 0:r.email)?r.email:null,profile_url:(null==r?void 0:r.profileUrl)?r.profileUrl:null,hubUrl:p,blockstackAPIUrl:d,associationToken:y,version:c});const A=Object.assign({},{jti:(0,n.gS)(),iat:Math.floor((new Date).getTime()/1e3),exp:Math.floor(f/1e3),iss:(0,u.xQ)(b),private_key:w,public_keys:[m],appPrivateKeyFromWalletSalt:g,profile:e,core_token:v},E);return new s.TokenSigner("ES256k",t).sign(A)}},131:(t,e,r)=>{"use strict";r.d(e,{N:()=>d});var n=r(9731);function i(t,e){let r;return e.proof&&e.proof.url&&(r=e.proof.url),{"@type":"Account",service:t,identifier:e.username,proofType:"http",proofUrl:r}}var o=r(2377),s=r(2179),a=r(7118),u=r(6258);const c={type:"object",properties:{"@context":{type:"string",optional:!0},"@type":{type:"string"}}};class f{constructor(t={}){this._profile=Object.assign({},{"@context":"http://schema.org/"},t)}toJSON(){return Object.assign({},this._profile)}toToken(t){return(0,n.K9)(this.toJSON(),t)}static validateSchema(t,e=!1){return c.strict=e,s.validate(c,t)}static fromToken(t,e=null){const r=(0,n.of)(t,e);return new f(r)}static makeZoneFile(t,e){return function(t,e){if(!e.includes("://"))throw new Error("Invalid token file url");const r=e.split("://")[0],n=e.split("://")[1].split("/"),i={$origin:t,$ttl:3600,uri:[{name:"_http._tcp",priority:10,weight:1,target:`${r}://${n[0]}${`/${n.slice(1).join("/")}`}`}]};return(0,o.makeZoneFile)(i,"{$origin}\n{$ttl}\n{uri}\n")}(t,e)}}const h={type:"object",strict:!1,properties:{"@context":{type:"string",optional:!0},"@type":{type:"string"},"@id":{type:"string",optional:!0},name:{type:"string",optional:!0},givenName:{type:"string",optional:!0},familyName:{type:"string",optional:!0},description:{type:"string",optional:!0},image:{type:"array",optional:!0,items:{type:"object",properties:{"@type":{type:"string"},name:{type:"string",optional:!0},contentUrl:{type:"string",optional:!0}}}},website:{type:"array",optional:!0,items:{type:"object",properties:{"@type":{type:"string"},url:{type:"string",optional:!0}}}},account:{type:"array",optional:!0,items:{type:"object",properties:{"@type":{type:"string"},service:{type:"string",optional:!0},identifier:{type:"string",optional:!0},proofType:{type:"string",optional:!0},proofUrl:{type:"string",optional:!0},proofMessage:{type:"string",optional:!0},proofSignature:{type:"string",optional:!0}}}},worksFor:{type:"array",optional:!0,items:{type:"object",properties:{"@type":{type:"string"},"@id":{type:"string",optional:!0}}}},knows:{type:"array",optional:!0,items:{type:"object",properties:{"@type":{type:"string"},"@id":{type:"string",optional:!0}}}},address:{type:"object",optional:!0,properties:{"@type":{type:"string"},streetAddress:{type:"string",optional:!0},addressLocality:{type:"string",optional:!0},postalCode:{type:"string",optional:!0},addressCountry:{type:"string",optional:!0}}},birthDate:{type:"string",optional:!0},taxID:{type:"string",optional:!0}}};class l extends f{constructor(t={}){super(t),this._profile=Object.assign({},{"@type":"Person"},this._profile)}static validateSchema(t,e=!1){return h.strict=e,s.validate(c,t)}static fromToken(t,e=null){const r=(0,n.of)(t,e);return new l(r)}static fromLegacyFormat(t){const e=function(t){const e={"@type":"Person"};if(t){t.name&&t.name.formatted&&(e.name=t.name.formatted),t.bio&&(e.description=t.bio),t.location&&t.location.formatted&&(e.address={"@type":"PostalAddress",addressLocality:t.location.formatted});const r=[];t.avatar&&t.avatar.url&&r.push({"@type":"ImageObject",name:"avatar",contentUrl:t.avatar.url}),t.cover&&t.cover.url&&r.push({"@type":"ImageObject",name:"cover",contentUrl:t.cover.url}),r.length&&(e.image=r),t.website&&(e.website=[{"@type":"WebSite",url:t.website}]);const n=[];t.bitcoin&&t.bitcoin.address&&n.push({"@type":"Account",role:"payment",service:"bitcoin",identifier:t.bitcoin.address}),t.twitter&&t.twitter.username&&n.push(i("twitter",t.twitter)),t.facebook&&t.facebook.username&&n.push(i("facebook",t.facebook)),t.github&&t.github.username&&n.push(i("github",t.github)),t.auth&&t.auth.length>0&&t.auth[0]&&t.auth[0].publicKeychain&&n.push({"@type":"Account",role:"key",service:"bip32",identifier:t.auth[0].publicKeychain}),t.pgp&&t.pgp.url&&n.push({"@type":"Account",role:"key",service:"pgp",identifier:t.pgp.fingerprint,contentUrl:t.pgp.url}),e.account=n}return e}(t);return new l(e)}toJSON(){return{profile:this.profile(),name:this.name(),givenName:this.givenName(),familyName:this.familyName(),description:this.description(),avatarUrl:this.avatarUrl(),verifiedAccounts:this.verifiedAccounts(),address:this.address(),birthDate:this.birthDate(),connections:this.connections(),organizations:this.organizations()}}profile(){return Object.assign({},this._profile)}name(){return function(t){if(!t)return null;let e=null;return t.name?e=t.name:(t.givenName||t.familyName)&&(e="",t.givenName&&(e=t.givenName),t.familyName&&(e+=` ${t.familyName}`)),e}(this.profile())}givenName(){return function(t){if(!t)return null;let e=null;return t.givenName?e=t.givenName:t.name&&(e=t.name.split(" ").slice(0,-1).join(" ")),e}(this.profile())}familyName(){return function(t){if(!t)return null;let e=null;return t.familyName?e=t.familyName:t.name&&(e=t.name.split(" ").pop()),e}(this.profile())}description(){return function(t){if(!t)return null;let e=null;return t.description&&(e=t.description),e}(this.profile())}avatarUrl(){return function(t){if(!t)return null;let e=null;return t.image&&t.image.map((t=>"avatar"===t.name?(e=t.contentUrl,e):null)),e}(this.profile())}verifiedAccounts(t){return function(t,e){if(!t)return null;const r=[];return t.hasOwnProperty("account")&&e&&t.account.map((t=>{let n=!1,i=null;return e.map((e=>(e.hasOwnProperty("proof_url")&&(e.proofUrl=e.proof_url),!(!e.valid||e.service!==t.service||e.identifier!==t.identifier||!e.proofUrl||(n=!0,i=e.proofUrl,0))))),n?(t.proofUrl=i,r.push(t),t):null})),r}(this.profile(),t)}address(){return function(t){if(!t)return null;let e=null;if(t.hasOwnProperty("address")){const r=[];t.address.hasOwnProperty("streetAddress")&&r.push(t.address.streetAddress),t.address.hasOwnProperty("addressLocality")&&r.push(t.address.addressLocality),t.address.hasOwnProperty("postalCode")&&r.push(t.address.postalCode),t.address.hasOwnProperty("addressCountry")&&r.push(t.address.addressCountry),r.length&&(e=r.join(", "))}return e}(this.profile())}birthDate(){return function(t){if(!t)return null;const e=["January","February","March","April","May","June","July","August","September","October","November","December"];let r=null;if(t.hasOwnProperty("birthDate")){const n=new Date(t.birthDate);r=`${e[n.getMonth()]} ${n.getDate()}, ${n.getFullYear()}`}return r}(this.profile())}connections(){return function(t){if(!t)return null;let e=[];return t.hasOwnProperty("knows")&&(e=t.knows),e}(this.profile())}organizations(){return(t=this.profile())?t.hasOwnProperty("worksFor")?t.worksFor:[]:null;var t}}var p=r(4025);function d(t){if(!t.username)return Promise.reject(new Error("No username provided"));const e={network:new p._Y},r=Object.assign(e,t),i=p._e.fromNameOrNetwork(r.network);let s;if(r.zoneFileLookupURL){const t=`${r.zoneFileLookupURL.replace(/\/$/,"")}/${r.username}`;s=i.fetchFn(t).then((t=>t.json()))}else s=i.getNameInfo(r.username);return s.then((t=>{if(t.hasOwnProperty("zonefile")&&t.hasOwnProperty("address"))return function(t,e,r=(0,u.eA)()){return new Promise(((i,s)=>{let u=null;try{u=(0,o.parseZoneFile)(t),u.hasOwnProperty("$origin")||(u=null)}catch(t){s(t)}let c=null;if(u&&Object.keys(u).length>0)c=function(t){if(!t.hasOwnProperty("uri"))return null;if(!Array.isArray(t.uri))return null;if(t.uri.length<1)return null;const e=t.uri.filter((t=>t.hasOwnProperty("target")&&"_http._tcp"===t.name));if(e.length<1)return null;const r=e[0];if(!r.hasOwnProperty("target"))return null;let n=r.target;return n.startsWith("https")||n.startsWith("http")||(n=`https://${n}`),n}(u);else try{return i(l.fromLegacyFormat(JSON.parse(t)).profile())}catch(t){return s(t)}c?r(c).then((t=>t.text())).then((t=>JSON.parse(t))).then((t=>{const r=t,o=(0,n.of)(r[0].token,e);i(o)})).catch((t=>{a.Y.error(`resolveZoneFileToProfile: error fetching token file ${c}: ${t}`),s(t)})):(a.Y.debug("Token file url not found. Resolving to blank profile."),i({}))}))}(t.zonefile,t.address,i.fetchFn);throw new Error("Invalid zonefile lookup response: did not contain `address` or `zonefile` field")}))}},5376:(t,e,r)=>{"use strict";r.d(e,{s:()=>y,z:()=>d});var n=r(4126),i=r(7474),o=r(3687),s=r(6258),a=Object.defineProperty,u=Object.defineProperties,c=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,p=(t,e,r)=>e in t?a(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;function d(){const t=(0,o.Rf)("location",{throwIfUnavailable:!0,usageDesc:"getAuthRequestFromURL"});if(null==t?void 0:t.search){const e=n.parse(null==t?void 0:t.search);return e.authRequest?e.authRequest.split(`${o.ym}:`).join(""):null}return null}async function y(t,e=(0,s.eA)()){if(!t)throw new Error("Invalid auth request");const r=(0,i.decodeToken)(t).payload;if("string"==typeof r)throw new Error("Unexpected token payload type of string");const n=r.manifest_uri;try{const t=await e(n),r=await t.text();return o=((t,e)=>{for(var r in e||(e={}))h.call(e,r)&&p(t,r,e[r]);if(f)for(var r of f(e))l.call(e,r)&&p(t,r,e[r]);return t})({},JSON.parse(r)),u(o,c({manifestURI:n}))}catch(t){throw console.log(t),new Error("Could not fetch manifest.json")}var o}},4630:()=>{},9687:(t,e,r)=>{"use strict";r.d(e,{V:()=>_});var n=r(5090),i=r(735);const o="1.0.0";class s{constructor(t){this.version=o,this.userData=t.userData,this.transitKey=t.transitKey,this.etags=t.etags?t.etags:{}}static fromJSON(t){if(t.version!==o)throw new i.M4(`JSON data version ${t.version} not supported by SessionData`);const e={coreNode:t.coreNode,userData:t.userData,transitKey:t.transitKey,etags:t.etags};return new s(e)}toString(){return JSON.stringify(this)}}var a=r(526);class u{constructor(t){if(t){const e=new s(t);this.setSessionData(e)}}getSessionData(){throw new Error("Abstract class")}setSessionData(t){throw new Error("Abstract class")}deleteSessionData(){throw new Error("Abstract class")}}class c extends u{constructor(t){super(t),this.sessionData||this.setSessionData(new s({}))}getSessionData(){if(!this.sessionData)throw new i.Fe("No session data was found.");return this.sessionData}setSessionData(t){return this.sessionData=t,!0}deleteSessionData(){return this.setSessionData(new s({})),!0}}class f extends u{constructor(t){if(super(t),t&&t.storeOptions&&t.storeOptions.localStorageKey&&"string"==typeof t.storeOptions.localStorageKey?this.key=t.storeOptions.localStorageKey:this.key=a.aL,!localStorage.getItem(this.key)){const t=new s({});this.setSessionData(t)}}getSessionData(){const t=localStorage.getItem(this.key);if(!t)throw new i.Fe("No session data was found in localStorage");const e=JSON.parse(t);return s.fromJSON(e)}setSessionData(t){return localStorage.setItem(this.key,t.toString()),!0}deleteSessionData(){return localStorage.removeItem(this.key),this.setSessionData(new s({})),!0}}var h=r(7474),l=r(1571),p=r(3750),d=r(3687),y=r(8414),g=r(990),m=r(6873),b=r(7118),w=r(97),v=r(9731),E=r(4126),A=r(6258),x=r(4025);const S="_blockstackDidCheckEchoReply";class _{constructor(t){let e=!0;if("undefined"==typeof window&&"undefined"==typeof self&&(e=!1),t&&t.appConfig)this.appConfig=t.appConfig;else{if(!e)throw new i.v0("You need to specify options.appConfig");this.appConfig=new n.X}t&&t.sessionStore?this.store=t.sessionStore:this.store=e?t?new f(t.sessionOptions):new f:t?new c(t.sessionOptions):new c}makeAuthRequest(t,e,r,n,o,s=(0,d.cG)().getTime(),a={}){const u=this.appConfig;if(!u)throw new i.M4("Missing AppConfig");return t=t||this.generateAndStoreTransitKey(),e=e||u.redirectURI(),r=r||u.manifestURI(),n=n||u.scopes,o=o||u.appDomain,p.R$(t,e,r,n,o,s,a)}generateAndStoreTransitKey(){const t=this.store.getSessionData(),e=p.ZW();return t.transitKey=e,this.store.setSessionData(t),e}getAuthResponseToken(){var t;const e=null==(t=(0,d.Rf)("location",{throwIfUnavailable:!0,usageDesc:"getAuthResponseToken"}))?void 0:t.search;if(e){const t=E.parse(e);return t.authResponse?t.authResponse:""}return""}isSignInPending(){try{if(function(){let t;if("undefined"!=typeof self)t=self;else{if("undefined"==typeof window)return!1;t=window}if(!t.location||!t.localStorage)return!1;const e=t[S];if("boolean"==typeof e)return e;const r=(n=t.location.search)?(/^[?#]/.test(n)?n.slice(1):n).split("&").reduce(((t,e)=>{const[r,n]=e.split("=");return t[r]=n?decodeURIComponent(n.replace(/\+/g," ")):"",t}),{}):{};var n;const i=r.echoReply;if(i){t[S]=!0;const e=`echo-reply-${i}`;return t.localStorage.setItem(e,"success"),t.setTimeout((()=>{const e=r.authContinuation;t.location.href=e}),10),!0}return!1}())return b.Y.info("protocolEchoReply detected from isSignInPending call, the page is about to redirect."),!0}catch(t){b.Y.error(`Error checking for protocol echo reply isSignInPending: ${t}`)}return!!this.getAuthResponseToken()}isUserSignedIn(){return!!this.store.getSessionData().userData}async handlePendingSignIn(t=this.getAuthResponseToken(),e=(0,A.eA)()){const r=this.store.getSessionData();if(r.userData)throw new i.zd("Existing user session found.");const n=this.store.getSessionData().transitKey;let o=this.appConfig&&this.appConfig.coreNode;o||(o=(new x._Y).bnsLookupUrl);const s=(0,h.decodeToken)(t).payload;if("string"==typeof s)throw new Error("Unexpected token payload type of string");if(!await(0,l.Oy)(t))throw new i.zd("Invalid authentication response.");let u=s.private_key,c=s.core_token;if((0,d.se)(s.version,"1.1.0")){if(void 0===n||null==n)throw new i.zd("Authenticating with protocol > 1.1.0 requires transit key, and none found.");if(void 0!==s.private_key&&null!==s.private_key)try{u=await p.ph(n,s.private_key)}catch(t){if(b.Y.warn("Failed decryption of appPrivateKey, will try to use as given"),!(0,g.C4)(s.private_key))throw new i.zd("Failed decrypting appPrivateKey. Usually means that the transit key has changed during login.")}if(null!=c)try{c=await p.ph(n,c)}catch(t){b.Y.info("Failed decryption of coreSessionToken, will try to use as given")}}let f,y=w.sM;(0,d.se)(s.version,"1.2.0")&&null!==s.hubUrl&&void 0!==s.hubUrl&&(y=s.hubUrl),(0,d.se)(s.version,"1.3.0")&&null!==s.associationToken&&void 0!==s.associationToken&&(f=s.associationToken);const E={profile:s.profile,email:s.email,decentralizedID:s.iss,identityAddress:(0,m.th)(s.iss),appPrivateKey:u,coreSessionToken:c,authResponseToken:t,hubUrl:y,appPrivateKeyFromWalletSalt:s.appPrivateKeyFromWalletSalt,coreNode:s.blockstackAPIUrl,gaiaAssociationToken:f},S=s.profile_url;if(!E.profile&&S){const t=await e(S);if(t.ok){const e=await t.text(),r=JSON.parse(e);E.profile=(0,v.of)(r[0].token)}else E.profile=Object.assign({},a.lB)}else E.profile=s.profile;return r.userData=E,this.store.setSessionData(r),E}loadUserData(){const t=this.store.getSessionData().userData;if(!t)throw new i.M4("No user data found. Did the user sign in?");return t}encryptContent(t,e){const r=Object.assign({},e);return r.privateKey||(r.privateKey=this.loadUserData().appPrivateKey),async function(t,e){const r=Object.assign({},e);let n,i;if(!r.publicKey){if(!r.privateKey)throw new Error("Either public key or private key must be supplied for encryption.");r.publicKey=(0,g.GU)(r.privateKey)}i="boolean"==typeof r.wasString?r.wasString:"string"==typeof t;const o="string"==typeof t?d.lW.from(t):t,s=await(0,y.pW)(r.publicKey,o,i,r.cipherTextEncoding);let a=JSON.stringify(s);if(r.sign){"string"==typeof r.sign?n=r.sign:n||(n=r.privateKey);const t=(0,y.P8)(n,a),e={signature:t.signature,publicKey:t.publicKey,cipherText:a};a=JSON.stringify(e)}return a}(t,r)}decryptContent(t,e){const r=Object.assign({},e);return r.privateKey||(r.privateKey=this.loadUserData().appPrivateKey),function(t,e){const r=Object.assign({},e);if(!r.privateKey)throw new Error("Private key is required for decryption.");try{const e=JSON.parse(t);return(0,y.ld)(r.privateKey,e)}catch(t){throw t instanceof SyntaxError?new Error("Failed to parse encrypted content JSON. The content may not be encrypted. If using getFile, try passing { decrypt: false }."):t}}(t,r)}signUserOut(t){this.store.deleteSessionData(),t&&"undefined"!=typeof location&&location.href&&(location.href=t)}}},1571:(t,e,r)=>{"use strict";r.d(e,{K8:()=>c,Lw:()=>y,Oy:()=>g,fI:()=>h,fZ:()=>d,mb:()=>p,si:()=>u,uk:()=>f,vl:()=>l});var n=r(3687),i=r(990),o=r(7474),s=r(6873),a=r(5376);function u(t){const e=(0,o.decodeToken)(t).payload;if("string"==typeof e)throw new Error("Unexpected token payload type of string");const r=e.public_keys;if(1!==r.length)throw new Error("Multiple public keys are not supported");{const e=r[0];try{return new o.TokenVerifier("ES256k",e).verify(t)}catch(t){return!1}}}function c(t){const e=(0,o.decodeToken)(t).payload;if("string"==typeof e)throw new Error("Unexpected token payload type of string");const r=e.public_keys,n=(0,s.th)(e.iss);if(1!==r.length)throw new Error("Multiple public keys are not supported");return(0,i.y7)(r[0])===n}function f(t){const e=(0,o.decodeToken)(t).payload;if("string"==typeof e)throw new Error("Unexpected token payload type of string");if(e.iat){if("number"!=typeof e.iat)return!1;const t=new Date(1e3*e.iat);return!((new Date).getTime()<t.getTime())}return!0}function h(t){const e=(0,o.decodeToken)(t).payload;if("string"==typeof e)throw new Error("Unexpected token payload type of string");if(e.exp){if("number"!=typeof e.exp)return!1;const t=new Date(1e3*e.exp);return!((new Date).getTime()>t.getTime())}return!0}function l(t){const e=(0,o.decodeToken)(t).payload;if("string"==typeof e)throw new Error("Unexpected token payload type of string");return(0,n.ko)(e.domain_name,e.manifest_uri)}function p(t){const e=(0,o.decodeToken)(t).payload;if("string"==typeof e)throw new Error("Unexpected token payload type of string");return(0,n.ko)(e.domain_name,e.redirect_uri)}async function d(t){if("none"===(0,o.decodeToken)(t).header.alg)throw new Error("Token must be signed in order to be verified");return(await Promise.all([h(t),f(t),u(t),c(t),l(t),p(t)])).every((t=>t))}async function y(t){if(!await d(t))throw new Error("Token is an invalid auth request");return(0,a.s)(t)}async function g(t){return(await Promise.all([h(t),f(t),u(t),c(t)])).every((t=>t))}},63:t=>{"use strict";t.exports=function(t,e){for(var r={},n=Object.keys(t),i=Array.isArray(e),o=0;o<n.length;o++){var s=n[o],a=t[s];(i?-1!==e.indexOf(s):e(s,a,t))&&(r[s]=a)}return r}},2333:(t,e)=>{e.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,f=-7,h=r?i-1:0,l=r?-1:1,p=t[e+h];for(h+=l,o=p&(1<<-f)-1,p>>=-f,f+=a;f>0;o=256*o+t[e+h],h+=l,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=256*s+t[e+h],h+=l,f-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=c}return(p?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var s,a,u,c=8*o-i-1,f=(1<<c)-1,h=f>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?l/u:l*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=f?(a=0,s=f):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[r+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[r+p]=255&s,p+=d,s/=256,c-=8);t[r+p-d]|=128*y}},9996:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cryptoClients=e.SECP256K1Client=void 0;const n=r(7650);Object.defineProperty(e,"SECP256K1Client",{enumerable:!0,get:function(){return n.SECP256K1Client}});const i={ES256K:n.SECP256K1Client};e.cryptoClients=i},7650:(t,e,r)=>{"use strict";var n=r(8834).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.SECP256K1Client=void 0;const i=r(1377),o=r(6053),s=r(6698),a=r(6120),u=r(8643);s.utils.hmacSha256Sync=(t,...e)=>{const r=i.hmac.create(o.sha256,t);return e.forEach((t=>r.update(t))),r.digest()};class c{static derivePublicKey(t,e=!0){return 66===t.length&&(t=t.slice(0,64)),t.length<64&&(t=t.padStart(64,"0")),n.from(s.getPublicKey(t,e)).toString("hex")}static signHash(t,e,r="jose"){if(!t||!e)throw new u.MissingParametersError("a signing input hash and private key are all required");const i=n.from(s.signSync(t,e.slice(0,64),{der:!0,canonical:!1}));if("der"===r)return i.toString("hex");if("jose"===r)return(0,a.derToJose)(i,"ES256");throw Error("Invalid signature format")}static loadSignature(t){return(0,a.joseToDer)(t,"ES256")}static verifyHash(t,e,r){if(!t||!e||!r)throw new u.MissingParametersError("a signing input hash, der signature, and public key are all required");return s.verify(e,t,r,{strict:!1})}}e.SECP256K1Client=c,c.algorithmName="ES256K"},874:function(t,e,r){"use strict";var n=r(8834).Buffer,i=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.hashSha256Async=e.hashSha256=void 0;const o=r(6053);function s(t){return n.from((0,o.sha256)(t))}e.hashSha256=s,e.hashSha256Async=function(t){return i(this,void 0,void 0,(function*(){try{if("undefined"!=typeof crypto&&void 0!==crypto.subtle){const e="string"==typeof t?n.from(t):t,r=yield crypto.subtle.digest("SHA-256",e);return n.from(r)}{const e=r(1812);if(!e.createHash)throw new Error("`crypto` module does not contain `createHash`");return Promise.resolve(e.createHash("sha256").update(t).digest())}}catch(e){return console.log(e),console.log('Crypto lib not found. Neither the global `crypto.subtle` Web Crypto API, nor the or the Node.js `require("crypto").createHash` module is available. Falling back to JS implementation.'),Promise.resolve(s(t))}}))}},8917:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeToken=void 0;const n=r(9487);e.decodeToken=function(t){if("string"==typeof t){const e=t.split(".");return{header:JSON.parse(n.default.decode(e[0])),payload:JSON.parse(n.default.decode(e[1])),signature:e[2]}}if("object"==typeof t){if("string"!=typeof t.payload)throw new Error("Expected token payload to be a base64 or json string");let e=t.payload;"{"!==t.payload[0]&&(e=n.default.decode(e));const r=[];return t.header.map((t=>{const e=JSON.parse(n.default.decode(t));r.push(e)})),{header:r,payload:JSON.parse(e),signature:t.signature}}}},8643:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidTokenError=e.MissingParametersError=void 0;class r extends Error{constructor(t){super(),this.name="MissingParametersError",this.message=t||""}}e.MissingParametersError=r;class n extends Error{constructor(t){super(),this.name="InvalidTokenError",this.message=t||""}}e.InvalidTokenError=n},7474:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(5650),e),i(r(7458),e),i(r(8917),e),i(r(8643),e),i(r(9996),e)},5650:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.TokenSigner=e.createUnsecuredToken=void 0;const i=r(9487),o=r(9996),s=r(8643),a=r(874);function u(t,e){const r=[],n=i.default.encode(JSON.stringify(e));r.push(n);const o=i.default.encode(JSON.stringify(t));return r.push(o),r.join(".")}e.createUnsecuredToken=function(t){return u(t,{typ:"JWT",alg:"none"})+"."},e.TokenSigner=class{constructor(t,e){if(!t||!e)throw new s.MissingParametersError("a signing algorithm and private key are required");if("string"!=typeof t)throw new Error("signing algorithm parameter must be a string");if(t=t.toUpperCase(),!o.cryptoClients.hasOwnProperty(t))throw new Error("invalid signing algorithm");this.tokenType="JWT",this.cryptoClient=o.cryptoClients[t],this.rawPrivateKey=e}header(t={}){const e={typ:this.tokenType,alg:this.cryptoClient.algorithmName};return Object.assign({},e,t)}sign(t,e=!1,r={}){const n=this.header(r),i=u(t,n),o=(0,a.hashSha256)(i);return this.createWithSignedHash(t,e,n,i,o)}signAsync(t,e=!1,r={}){return n(this,void 0,void 0,(function*(){const n=this.header(r),i=u(t,n),o=yield(0,a.hashSha256Async)(i);return this.createWithSignedHash(t,e,n,i,o)}))}createWithSignedHash(t,e,r,n,o){const s=this.cryptoClient.signHash(o,this.rawPrivateKey);return e?{header:[i.default.encode(JSON.stringify(r))],payload:JSON.stringify(t),signature:[s]}:[n,s].join(".")}}},7458:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenVerifier=void 0;const n=r(9487),i=r(9996),o=r(8643),s=r(874);e.TokenVerifier=class{constructor(t,e){if(!t||!e)throw new o.MissingParametersError("a signing algorithm and public key are required");if("string"!=typeof t)throw"signing algorithm parameter must be a string";if(t=t.toUpperCase(),!i.cryptoClients.hasOwnProperty(t))throw"invalid signing algorithm";this.tokenType="JWT",this.cryptoClient=i.cryptoClients[t],this.rawPublicKey=e}verify(t){return"string"==typeof t?this.verifyCompact(t,!1):"object"==typeof t&&this.verifyExpanded(t,!1)}verifyAsync(t){return"string"==typeof t?this.verifyCompact(t,!0):"object"==typeof t?this.verifyExpanded(t,!0):Promise.resolve(!1)}verifyCompact(t,e){const r=t.split("."),n=r[0]+"."+r[1],i=t=>{const e=this.cryptoClient.loadSignature(r[2]);return this.cryptoClient.verifyHash(t,e,this.rawPublicKey)};if(e)return(0,s.hashSha256Async)(n).then((t=>i(t)));{const t=(0,s.hashSha256)(n);return i(t)}}verifyExpanded(t,e){const r=[t.header.join("."),n.default.encode(t.payload)].join(".");let i=!0;const o=e=>(t.signature.map((t=>{const r=this.cryptoClient.loadSignature(t);this.cryptoClient.verifyHash(e,r,this.rawPublicKey)||(i=!1)})),i);if(e)return(0,s.hashSha256Async)(r).then((t=>o(t)));{const t=(0,s.hashSha256)(r);return o(t)}}}},9907:(t,e,r)=>{t=r.nmd(t);var n="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object Boolean]",a="[object Date]",u="[object Function]",c="[object GeneratorFunction]",f="[object Map]",h="[object Number]",l="[object Object]",p="[object Promise]",d="[object RegExp]",y="[object Set]",g="[object String]",m="[object Symbol]",b="[object WeakMap]",w="[object ArrayBuffer]",v="[object DataView]",E="[object Float32Array]",A="[object Float64Array]",x="[object Int8Array]",S="[object Int16Array]",_="[object Int32Array]",k="[object Uint8Array]",B="[object Uint8ClampedArray]",O="[object Uint16Array]",I="[object Uint32Array]",U=/\w*$/,T=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,P={};P[o]=P["[object Array]"]=P[w]=P[v]=P[s]=P[a]=P[E]=P[A]=P[x]=P[S]=P[_]=P[f]=P[h]=P[l]=P[d]=P[y]=P[g]=P[m]=P[k]=P[B]=P[O]=P[I]=!0,P["[object Error]"]=P[u]=P[b]=!1;var L="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,C="object"==typeof self&&self&&self.Object===Object&&self,R=L||C||Function("return this")(),F=e&&!e.nodeType&&e,N=F&&t&&!t.nodeType&&t,D=N&&N.exports===F;function $(t,e){return t.set(e[0],e[1]),t}function M(t,e){return t.add(e),t}function z(t,e,r,n){var i=-1,o=t?t.length:0;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function H(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function K(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function q(t,e){return function(r){return t(e(r))}}function V(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var W,G=Array.prototype,J=Function.prototype,Z=Object.prototype,Y=R["__core-js_shared__"],X=(W=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",Q=J.toString,tt=Z.hasOwnProperty,et=Z.toString,rt=RegExp("^"+Q.call(tt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nt=D?R.Buffer:void 0,it=R.Symbol,ot=R.Uint8Array,st=q(Object.getPrototypeOf,Object),at=Object.create,ut=Z.propertyIsEnumerable,ct=G.splice,ft=Object.getOwnPropertySymbols,ht=nt?nt.isBuffer:void 0,lt=q(Object.keys,Object),pt=Rt(R,"DataView"),dt=Rt(R,"Map"),yt=Rt(R,"Promise"),gt=Rt(R,"Set"),mt=Rt(R,"WeakMap"),bt=Rt(Object,"create"),wt=Mt(pt),vt=Mt(dt),Et=Mt(yt),At=Mt(gt),xt=Mt(mt),St=it?it.prototype:void 0,_t=St?St.valueOf:void 0;function kt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Bt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Ot(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function It(t){this.__data__=new Bt(t)}function Ut(t,e,r){var n=t[e];tt.call(t,e)&&zt(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function Tt(t,e){for(var r=t.length;r--;)if(zt(t[r][0],e))return r;return-1}function jt(t,e,r,n,i,p,b){var T;if(n&&(T=p?n(t,i,p,b):n(t)),void 0!==T)return T;if(!Wt(t))return t;var j=Ht(t);if(j){if(T=function(t){var e=t.length,r=t.constructor(e);return e&&"string"==typeof t[0]&&tt.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!e)return function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}(t,T)}else{var L=Nt(t),C=L==u||L==c;if(qt(t))return function(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}(t,e);if(L==l||L==o||C&&!p){if(H(t))return p?t:{};if(T=function(t){return"function"!=typeof t.constructor||$t(t)?{}:Wt(e=st(t))?at(e):{};var e}(C?{}:t),!e)return function(t,e){return Lt(t,Ft(t),e)}(t,function(t,e){return t&&Lt(e,Gt(e),t)}(T,t))}else{if(!P[L])return p?t:{};T=function(t,e,r,n){var i,o=t.constructor;switch(e){case w:return Pt(t);case s:case a:return new o(+t);case v:return function(t,e){var r=e?Pt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,n);case E:case A:case x:case S:case _:case k:case B:case O:case I:return function(t,e){var r=e?Pt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,n);case f:return function(t,e,r){return z(e?r(K(t),!0):K(t),$,new t.constructor)}(t,n,r);case h:case g:return new o(t);case d:return function(t){var e=new t.constructor(t.source,U.exec(t));return e.lastIndex=t.lastIndex,e}(t);case y:return function(t,e,r){return z(e?r(V(t),!0):V(t),M,new t.constructor)}(t,n,r);case m:return i=t,_t?Object(_t.call(i)):{}}}(t,L,jt,e)}}b||(b=new It);var R=b.get(t);if(R)return R;if(b.set(t,T),!j)var F=r?function(t){return function(t,e,r){var n=e(t);return Ht(t)?n:function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}(n,r(t))}(t,Gt,Ft)}(t):Gt(t);return function(t,e){for(var r=-1,n=t?t.length:0;++r<n&&!1!==e(t[r],r););}(F||t,(function(i,o){F&&(i=t[o=i]),Ut(T,o,jt(i,e,r,n,o,t,b))})),T}function Pt(t){var e=new t.constructor(t.byteLength);return new ot(e).set(new ot(t)),e}function Lt(t,e,r,n){r||(r={});for(var i=-1,o=e.length;++i<o;){var s=e[i],a=n?n(r[s],t[s],s,r,t):void 0;Ut(r,s,void 0===a?t[s]:a)}return r}function Ct(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function Rt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!Wt(t)||(e=t,X&&X in e))&&(Vt(t)||H(t)?rt:T).test(Mt(t));var e}(r)?r:void 0}kt.prototype.clear=function(){this.__data__=bt?bt(null):{}},kt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},kt.prototype.get=function(t){var e=this.__data__;if(bt){var r=e[t];return r===n?void 0:r}return tt.call(e,t)?e[t]:void 0},kt.prototype.has=function(t){var e=this.__data__;return bt?void 0!==e[t]:tt.call(e,t)},kt.prototype.set=function(t,e){return this.__data__[t]=bt&&void 0===e?n:e,this},Bt.prototype.clear=function(){this.__data__=[]},Bt.prototype.delete=function(t){var e=this.__data__,r=Tt(e,t);return!(r<0||(r==e.length-1?e.pop():ct.call(e,r,1),0))},Bt.prototype.get=function(t){var e=this.__data__,r=Tt(e,t);return r<0?void 0:e[r][1]},Bt.prototype.has=function(t){return Tt(this.__data__,t)>-1},Bt.prototype.set=function(t,e){var r=this.__data__,n=Tt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},Ot.prototype.clear=function(){this.__data__={hash:new kt,map:new(dt||Bt),string:new kt}},Ot.prototype.delete=function(t){return Ct(this,t).delete(t)},Ot.prototype.get=function(t){return Ct(this,t).get(t)},Ot.prototype.has=function(t){return Ct(this,t).has(t)},Ot.prototype.set=function(t,e){return Ct(this,t).set(t,e),this},It.prototype.clear=function(){this.__data__=new Bt},It.prototype.delete=function(t){return this.__data__.delete(t)},It.prototype.get=function(t){return this.__data__.get(t)},It.prototype.has=function(t){return this.__data__.has(t)},It.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Bt){var n=r.__data__;if(!dt||n.length<199)return n.push([t,e]),this;r=this.__data__=new Ot(n)}return r.set(t,e),this};var Ft=ft?q(ft,Object):function(){return[]},Nt=function(t){return et.call(t)};function Dt(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||j.test(t))&&t>-1&&t%1==0&&t<e}function $t(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Z)}function Mt(t){if(null!=t){try{return Q.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function zt(t,e){return t===e||t!=t&&e!=e}(pt&&Nt(new pt(new ArrayBuffer(1)))!=v||dt&&Nt(new dt)!=f||yt&&Nt(yt.resolve())!=p||gt&&Nt(new gt)!=y||mt&&Nt(new mt)!=b)&&(Nt=function(t){var e=et.call(t),r=e==l?t.constructor:void 0,n=r?Mt(r):void 0;if(n)switch(n){case wt:return v;case vt:return f;case Et:return p;case At:return y;case xt:return b}return e});var Ht=Array.isArray;function Kt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}(t.length)&&!Vt(t)}var qt=ht||function(){return!1};function Vt(t){var e=Wt(t)?et.call(t):"";return e==u||e==c}function Wt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Gt(t){return Kt(t)?function(t,e){var r=Ht(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Kt(t)}(t)&&tt.call(t,"callee")&&(!ut.call(t,"callee")||et.call(t)==o)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,i=!!n;for(var s in t)!e&&!tt.call(t,s)||i&&("length"==s||Dt(s,n))||r.push(s);return r}(t):function(t){if(!$t(t))return lt(t);var e=[];for(var r in Object(t))tt.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}t.exports=function(t){return jt(t,!0,!0)}},4406:t=>{var e,r,n=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var a,u=[],c=!1,f=-1;function h(){c&&a&&(c=!1,a.length?u=a.concat(u):f=-1,u.length&&l())}function l(){if(!c){var t=s(h);c=!0;for(var e=u.length;e;){for(a=u,u=[];++f<e;)a&&a[f].run();f=-1,e=u.length}a=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function d(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new p(t,e)),1!==u.length||c||s(l)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=d,n.addListener=d,n.once=d,n.off=d,n.removeListener=d,n.removeAllListeners=d,n.emit=d,n.prependListener=d,n.prependOnceListener=d,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},4126:(t,e,r)=>{"use strict";const n=r(7785),i=r(5554),o=r(5452),s=r(63);function a(t){if("string"!=typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(t,e){return e.encode?e.strict?n(t):encodeURIComponent(t):t}function c(t,e){return e.decode?i(t):t}function f(t){return Array.isArray(t)?t.sort():"object"==typeof t?f(Object.keys(t)).sort(((t,e)=>Number(t)-Number(e))).map((e=>t[e])):t}function h(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function l(t){const e=(t=h(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function p(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function d(t,e){a((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);const r=function(t){let e;switch(t.arrayFormat){case"index":return(t,r,n)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===n[t]&&(n[t]={}),n[t][e[1]]=r):n[t]=r};case"bracket":return(t,r,n)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==n[t]?n[t]=[].concat(n[t],r):n[t]=[r]:n[t]=r};case"comma":case"separator":return(e,r,n)=>{const i="string"==typeof r&&r.includes(t.arrayFormatSeparator),o="string"==typeof r&&!i&&c(r,t).includes(t.arrayFormatSeparator);r=o?c(r,t):r;const s=i||o?r.split(t.arrayFormatSeparator).map((e=>c(e,t))):null===r?r:c(r,t);n[e]=s};default:return(t,e,r)=>{void 0!==r[t]?r[t]=[].concat(r[t],e):r[t]=e}}}(e),n=Object.create(null);if("string"!=typeof t)return n;if(!(t=t.trim().replace(/^[?#&]/,"")))return n;for(const i of t.split("&")){if(""===i)continue;let[t,s]=o(e.decode?i.replace(/\+/g," "):i,"=");s=void 0===s?null:["comma","separator"].includes(e.arrayFormat)?s:c(s,e),r(c(t,e),s,n)}for(const t of Object.keys(n)){const r=n[t];if("object"==typeof r&&null!==r)for(const t of Object.keys(r))r[t]=p(r[t],e);else n[t]=p(r,e)}return!1===e.sort?n:(!0===e.sort?Object.keys(n).sort():Object.keys(n).sort(e.sort)).reduce(((t,e)=>{const r=n[e];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?t[e]=f(r):t[e]=r,t}),Object.create(null))}e.extract=l,e.parse=d,e.stringify=(t,e)=>{if(!t)return"";a((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);const r=r=>e.skipNull&&null==t[r]||e.skipEmptyString&&""===t[r],n=function(t){switch(t.arrayFormat){case"index":return e=>(r,n)=>{const i=r.length;return void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[u(e,t),"[",i,"]"].join("")]:[...r,[u(e,t),"[",u(i,t),"]=",u(n,t)].join("")]};case"bracket":return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[u(e,t),"[]"].join("")]:[...r,[u(e,t),"[]=",u(n,t)].join("")];case"comma":case"separator":return e=>(r,n)=>null==n||0===n.length?r:0===r.length?[[u(e,t),"=",u(n,t)].join("")]:[[r,u(n,t)].join(t.arrayFormatSeparator)];default:return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,u(e,t)]:[...r,[u(e,t),"=",u(n,t)].join("")]}}(e),i={};for(const e of Object.keys(t))r(e)||(i[e]=t[e]);const o=Object.keys(i);return!1!==e.sort&&o.sort(e.sort),o.map((r=>{const i=t[r];return void 0===i?"":null===i?u(r,e):Array.isArray(i)?i.reduce(n(r),[]).join("&"):u(r,e)+"="+u(i,e)})).filter((t=>t.length>0)).join("&")},e.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);const[r,n]=o(t,"#");return Object.assign({url:r.split("?")[0]||"",query:d(l(t),e)},e&&e.parseFragmentIdentifier&&n?{fragmentIdentifier:c(n,e)}:{})},e.stringifyUrl=(t,r)=>{r=Object.assign({encode:!0,strict:!0},r);const n=h(t.url).split("?")[0]||"",i=e.extract(t.url),o=e.parse(i,{sort:!1}),s=Object.assign(o,t.query);let a=e.stringify(s,r);a&&(a=`?${a}`);let c=function(t){let e="";const r=t.indexOf("#");return-1!==r&&(e=t.slice(r)),e}(t.url);return t.fragmentIdentifier&&(c=`#${u(t.fragmentIdentifier,r)}`),`${n}${a}${c}`},e.pick=(t,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0},n);const{url:i,query:o,fragmentIdentifier:a}=e.parseUrl(t,n);return e.stringifyUrl({url:i,query:s(o,r),fragmentIdentifier:a},n)},e.exclude=(t,r,n)=>{const i=Array.isArray(r)?t=>!r.includes(t):(t,e)=>!r(t,e);return e.pick(t,i,n)}},7834:(t,e,r)=>{var n=r(8834),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},2179:(t,e,r)=>{t.exports=r(8224)},8224:(t,e,r)=>{!function(){var e={};if(e.async=r(625),"object"!=typeof e.async)throw new Error("Module async is required (https://github.com/caolan/async)");var n=e.async;function i(t,e){if(!e||"object"!=typeof e)return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}function o(){var t={},e=Array.prototype.slice.call(arguments),r=null,n=null;return e.forEach((function(e){if(e&&e.constructor===Object)for(r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]]})),t}function s(){this.custom={},this.extend=function(t){return i(this.custom,t)},this.reset=function(){this.custom={}},this.remove=function(t){u.array(t)||(t=[t]),t.forEach((function(t){delete this.custom[t]}),this)}}function a(t,e){var r=["@"];if(this._schema=t,this._custom={},null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this._custom["$"+n]=e[n]);this._getDepth=function(){return r.length},this._dumpStack=function(){return r.map((function(t){return t.replace(/^\[/g,"")})).join(".").replace(/\.\u001b\u001c\u001d\u001e/g,"[")},this._deeperObject=function(t){return r.push(/^[a-z$_][a-z0-9$_]*$/i.test(t)?t:'["'+t+'"]'),this},this._deeperArray=function(t){return r.push("["+t+"]"),this},this._back=function(){return r.pop(),this}}var u={function:function(t){return"function"==typeof t},string:function(t){return"string"==typeof t},number:function(t){return"number"==typeof t&&!isNaN(t)},integer:function(t){return"number"==typeof t&&t%1==0},NaN:function(t){return"number"==typeof t&&isNaN(t)},boolean:function(t){return"boolean"==typeof t},null:function(t){return null===t},date:function(t){return null!=t&&t instanceof Date},object:function(t){return"object"==typeof t&&t.constructor!==Array&&null!=t},array:function(t){return null!=t&&t.constructor===Array},any:function(){return!0}};function c(t,e){return"function"==typeof t?e instanceof t:u[t=t in u?t:"any"](e)}function f(t,e){for(var r=[],n=t.indexOf(e);-1!==n;)r.push(n),n=t.indexOf(e,n+1);return r}var h={void:/^$/,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)?(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,"date-time":/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{3})?(Z?|(-|\+)\d{2}:\d{2})$/,date:/^\d{4}-\d{2}-\d{2}$/,coolDateTime:/^\d{4}(-|\/)\d{2}(-|\/)\d{2}(T| )\d{2}:\d{2}:\d{2}(\.\d{3})?Z?$/,time:/^\d{2}\:\d{2}\:\d{2}$/,color:/^#([0-9a-f])+$/i,email:new RegExp("(?:[^\\W_](?:[\\w\\.\\+]+)@(?:localhost|(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:northwesternmutual|travelersinsurance|vermgensberatung|vermgensberater|americanexpress|kerryproperties|sandvikcoromant|afamilycompany|americanfamily|bananarepublic|cancerresearch|cookingchannel|kerrylogistics|weatherchannel|international|lifeinsurance|spreadbetting|travelchannel|wolterskluwer|construction|lplfinancial|scholarships|versicherung|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|foodnetwork|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|williamhill||accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nationwide|nextdirect|onyourside|properties|protection|prudential|realestate|republican|restaurant|schaeffler|swiftcover|tatamotors|technology|university|vlaanderen|volkswagen|accenture|alfaromeo|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|frontdoor|fujixerox|furniture|goldpoint|hisamitsu|homedepot|homegoods|homesense|institute|insurance|kuokgroup|lancaster|landrover|lifestyle|marketing|marshalls|melbourne|microsoft|panasonic|passagens|pramerica|richardli|scjohnson|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations||yodobashi|abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|budapest|builders|business|capetown|catering|catholic|cipriani|cityeats|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|etisalat|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|maserati|mckinsey|memorial|merckmsd|mortgage|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|showtime|softbank|software|stcgroup|supplies|training|vanguard|ventures|verisign|woodside||yokohama|abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|bugatti|capital|caravan|careers|channel|charity|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|grocery|guitars|hamburg|hangout|hitachi|holiday|hosting|hoteles|hotmail|hyundai|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lanxess|lasalle|latrobe|leclerc|limited|lincoln|markets|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|singles|staples|storage|support|surgery|systems|temasek|theater|theatre|tickets|tiffany|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|||||||||yamaxun|youtube|zuerich|abarth|abbott|abbvie|africa|agency|airbus|airtel|alipay|alsace|alstom|amazon|anquan|aramco|author|bayern|beauty|berlin|bharti|bostik|boston|broker|camera|career|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hotels|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kinder|kindle|kosher|lancia|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|monash|mormon|moscow|museum|mutual|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|pictet|quebec|racing|realty|reisen|repair|report|review|rocher|rogers|ryukyu|safety|sakura|sanofi|school|schule|search|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|vuelos|walter|webcam|xihuan|||||||||||||yachts|yandex|zappos|actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|bosch|build|canon|cards|chase|cheap|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|drive|dubai|earth|edeka|email|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glade|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|irish|iveco|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|linde|lipsy|lixil|loans|locus|lotte|lotto|macys|mango|media|miami|money|movie|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|rugby|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|sport|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vodka|volvo|wales|watch|weber|weibo|works|world|xerox||||||||||||||yahoo|aarp|able|adac|aero|akdn|ally|amex|arab|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|duck|dvag|erni|fage|fail|fans|farm|fast|fiat|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|hgtv|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|loft|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|raid|read|reit|rent|rest|rich|rmit|room|rsvp|ruhr|safe|sale|sarl|save|saxo|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|||||||||||||||||||||||||||yoga|zara|zero|zone|aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|cbs|ceo|cfa|cfd|com|cpa|crs|csc|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gay|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|ibm|ice|icu|ifm|inc|ing|ink|int|ist|itv|jcb|jio|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|llc|llp|lol|lpl|ltd|man|map|mba|med|men|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|off|one|ong|onl|ooo|org|ott|ovh|pay|pet|phd|pid|pin|pnc|pro|pru|pub|pwc|qvc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|sca|scb|ses|sew|sex|sfr|ski|sky|soy|spa|srl|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin||||||||||||||||||||||||||||||||xxx|xyz|you|yun|zip|ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||ye|yt|za|zm|zw))))"),numeric:/^[0-9]+$/,integer:/^\-?[0-9]+$/,decimal:/^\-?[0-9]*\.?[0-9]+$/,alpha:/^[a-z]+$/i,alphaNumeric:/^[a-z0-9]+$/i,alphaDash:/^[a-z0-9_-]+$/i,javascript:/^[a-z_\$][a-z0-9_\$]*$/i,upperString:/^[A-Z ]*$/,lowerString:/^[a-z ]*$/,v4uuid:/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[0-9a-f]{4}-[0-9a-f]{12}$/i},l={optional:function(t,e){!0!==("boolean"==typeof t.optional?t.optional:"true"===t.optional)&&void 0===e&&this.report("is missing and not optional",null,"optional")},type:function(t,e){if(void 0!==e&&("string"==typeof t.type||t.type instanceof Array||"function"==typeof t.type)){var r=u.array(t.type)?t.type:[t.type];r.some((function(t){return c(t,e)}))||(r=r.map((function(t){return"function"==typeof t?"an instance of "+t.name:t})),this.report("must be "+r.join(" or ")+", but is "+function(t){for(var e in u)if(c(e,t))return"any"===e||"object"===e&&t.constructor!==Object?"an instance of "+t.constructor.name:e}(e),null,"type"))}},uniqueness:function(t,e){if("string"==typeof t.uniqueness&&(t.uniqueness="true"===t.uniqueness),"boolean"==typeof t.uniqueness&&!1!==t.uniqueness&&(u.array(e)||"string"==typeof e))for(var r=[],n=0;n<e.length;n++)if(!(r.indexOf(e[n])>=0)){var i=f(e,e[n]);i.length>1&&(r.push(e[n]),this.report("has value ["+e[n]+"] more than once at indexes ["+i.join(", ")+"]",null,"uniqueness"))}},pattern:function(t,e){var r=t.pattern;if("string"==typeof e){var n=!1;u.array(r)||(r=[r]),r.forEach((function(t){"string"==typeof t&&t in h&&(t=h[t]),t instanceof RegExp&&t.test(e)&&(n=!0)})),n||this.report("must match ["+r.join(" or ")+'], but is equal to "'+e+'"',null,"pattern")}},validDate:function(t,e){"true"===String(t.validDate)&&e instanceof Date&&isNaN(e.getTime())&&this.report("must be a valid date",null,"validDate")},minLength:function(t,e){if("string"==typeof e||u.array(e)){var r=Number(t.minLength);isNaN(r)||e.length<r&&this.report("must be longer than "+r+" elements, but it has "+e.length,null,"minLength")}},maxLength:function(t,e){if("string"==typeof e||u.array(e)){var r=Number(t.maxLength);isNaN(r)||e.length>r&&this.report("must be shorter than "+r+" elements, but it has "+e.length,null,"maxLength")}},exactLength:function(t,e){if("string"==typeof e||u.array(e)){var r=Number(t.exactLength);isNaN(r)||e.length!==r&&this.report("must have exactly "+r+" elements, but it have "+e.length,null,"exactLength")}},lt:function(t,e){var r=Number(t.lt);"number"!=typeof e||isNaN(r)||e>=r&&this.report("must be less than "+r+', but is equal to "'+e+'"',null,"lt")},lte:function(t,e){var r=Number(t.lte);"number"!=typeof e||isNaN(r)||e>r&&this.report("must be less than or equal to "+r+', but is equal to "'+e+'"',null,"lte")},gt:function(t,e){var r=Number(t.gt);"number"!=typeof e||isNaN(r)||e<=r&&this.report("must be greater than "+r+', but is equal to "'+e+'"',null,"gt")},gte:function(t,e){var r=Number(t.gte);"number"!=typeof e||isNaN(r)||e<r&&this.report("must be greater than or equal to "+r+', but is equal to "'+e+'"',null,"gte")},eq:function(t,e){if("number"==typeof e||"string"==typeof e||"boolean"==typeof e){var r=t.eq;if("number"==typeof r||"string"==typeof r||"boolean"==typeof r||u.array(r))if(u.array(r)){for(var n=0;n<r.length;n++)if(e===r[n])return;this.report("must be equal to ["+r.map((function(t){return'"'+t+'"'})).join(" or ")+'], but is equal to "'+e+'"',null,"eq")}else e!==r&&this.report('must be equal to "'+r+'", but is equal to "'+e+'"',null,"eq")}},ne:function(t,e){if("number"==typeof e||"string"==typeof e){var r=t.ne;if("number"==typeof r||"string"==typeof r||u.array(r))if(u.array(r)){for(var n=0;n<r.length;n++)if(e===r[n])return void this.report('must not be equal to "'+r[n]+'"',null,"ne")}else e===r&&this.report('must not be equal to "'+r+'"',null,"ne")}},someKeys:function(t,e){var r=t.someKeys;u.object(e)&&(r.some((function(t){return t in e}))||this.report("must have at least key "+r.map((function(t){return'"'+t+'"'})).join(" or "),null,"someKeys"))},strict:function(t,e){if("string"==typeof t.strict&&(t.strict="true"===t.strict),!0===t.strict&&u.object(e)&&u.object(t.properties)&&void 0===t.properties["*"]){var r=Object.keys(e).filter((function(e){return void 0===t.properties[e]}));if(r.length>0){var n="should not contains "+(r.length>1?"properties":"property")+" ["+r.map((function(t){return'"'+t+'"'})).join(", ")+"]";this.report(n,null,"strict")}}},exec:function(t,e,r){var n=this;if("function"==typeof r)return this.asyncExec(t,e,r);(u.array(t.exec)?t.exec:[t.exec]).forEach((function(r){"function"==typeof r&&r.call(n,t,e)}))},properties:function(t,e,r){if("function"==typeof r)return this.asyncProperties(t,e,r);if(t.properties instanceof Object&&e instanceof Object){var n,i=t.properties;if(null!=i["*"])for(n in e)n in i||(this._deeperObject(n),this._validate(i["*"],e[n]),this._back());for(n in i)"*"!==n&&(this._deeperObject(n),this._validate(i[n],e[n]),this._back())}},items:function(t,e,r){if("function"==typeof r)return this.asyncItems(t,e,r);if(t.items instanceof Object&&e instanceof Object){var n,i,o=t.items;if(u.array(o)&&u.array(e))for(n=0,i=o.length;n<i;n++)this._deeperArray(n),this._validate(o[n],e[n]),this._back();else for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this._deeperArray(s),this._validate(o,e[s]),this._back())}}},p={asyncExec:function(t,e,r){var i=this;n.eachSeries(u.array(t.exec)?t.exec:[t.exec],(function(r,o){if("function"==typeof r){if(r.length>2)return r.call(i,t,e,o);r.call(i,t,e)}n.nextTick(o)}),r)},asyncProperties:function(t,e,r){if(!(t.properties instanceof Object&&u.object(e)))return r();var i=this,o=t.properties;n.series([function(t){if(null==o["*"])return t();n.eachSeries(Object.keys(e),(function(t,r){if(t in o)return n.nextTick(r);i._deeperObject(t),i._asyncValidate(o["*"],e[t],(function(t){i._back(),r(t)}))}),t)},function(t){n.eachSeries(Object.keys(o),(function(t,r){if("*"===t)return n.nextTick(r);i._deeperObject(t),i._asyncValidate(o[t],e[t],(function(t){i._back(),r(t)}))}),t)}],r)},asyncItems:function(t,e,r){if(!(t.items instanceof Object&&e instanceof Object))return r();var i=this,o=t.items;u.array(o)&&u.array(e)?n.timesSeries(o.length,(function(t,r){i._deeperArray(t),i._asyncValidate(o[t],e[t],(function(t,e){i._back(),r(t,e)})),i._back()}),r):n.eachSeries(Object.keys(e),(function(t,r){i._deeperArray(t),i._asyncValidate(o,e[t],(function(t,e){i._back(),r(t,e)}))}),r)}};function d(t,e){a.prototype.constructor.call(this,t,o(d.custom,e));var r=[];this._basicFields=Object.keys(l),this._customFields=Object.keys(this._custom),this.origin=null,this.report=function(t,e,n){var i={code:e||this.userCode||null,reason:n||"unknown",message:this.userError||t||"is invalid",property:this.userAlias?this.userAlias+" ("+this._dumpStack()+")":this._dumpStack()};return r.push(i),this},this.result=function(){return{error:r,valid:0===r.length,format:function(){return!0===this.valid?"Candidate is valid":this.error.map((function(t){return"Property "+t.property+": "+t.message})).join("\n")}}}}i(d.prototype,l),i(d.prototype,p),i(d,new s),d.prototype.validate=function(t,e){if(this.origin=t,"function"==typeof e){var r=this;return n.nextTick((function(){r._asyncValidate(r._schema,t,(function(t){r.origin=null,e(t,r.result())}))}))}return this._validate(this._schema,t).result()},d.prototype._validate=function(t,e,r){return this.userCode=t.code||null,this.userError=t.error||null,this.userAlias=t.alias||null,this._basicFields.forEach((function(r){!(r in t)&&"optional"!==r||"function"!=typeof this[r]||this[r](t,e)}),this),this._customFields.forEach((function(r){r in t&&"function"==typeof this._custom[r]&&this._custom[r].call(this,t,e)}),this),this},d.prototype._asyncValidate=function(t,e,r){var i=this;this.userCode=t.code||null,this.userError=t.error||null,this.userAlias=t.alias||null,n.series([function(r){n.eachSeries(Object.keys(l),(function(r,o){n.nextTick((function(){if((r in t||"optional"===r)&&"function"==typeof i[r]){if(i[r].length>2)return i[r](t,e,o);i[r](t,e)}o()}))}),r)},function(r){n.eachSeries(Object.keys(i._custom),(function(r,o){n.nextTick((function(){if(r in t&&"function"==typeof i._custom[r]){if(i._custom[r].length>2)return i._custom[r].call(i,t,e,o);i._custom[r].call(i,t,e)}o()}))}),r)}],r)};var y={number:function(t,e){var r;if("number"==typeof t)return t;if(""===t)return void 0!==e.def?e.def:null;if("string"==typeof t){if("number"==typeof(r=parseFloat(t.replace(/,/g,".").replace(/ /g,""))))return r}else if(t instanceof Date)return+t;return null},integer:function(t,e){var r;if("number"==typeof t&&t%1==0)return t;if(""===t)return void 0!==e.def?e.def:null;if("string"==typeof t){if("number"==typeof(r=parseInt(t.replace(/ /g,""),10)))return r}else{if("number"==typeof t)return parseInt(t,10);if("boolean"==typeof t)return t?1:0;if(t instanceof Date)return+t}return null},string:function(t,e){return"boolean"==typeof t||"number"==typeof t||t instanceof Date?t.toString():u.array(t)?e.items||e.properties?t:t.join(String(e.joinWith||",")):t instanceof Object?e.items||e.properties?t:JSON.stringify(t):"string"==typeof t&&t.length?t:null},date:function(t,e){if(t instanceof Date)return t;var r=new Date(t);return isNaN(r.getTime())?null:r},boolean:function(t,e){return void 0===t?null:("string"!=typeof t||"false"!==t.toLowerCase())&&!!t},object:function(t,e){if("string"!=typeof t||u.object(t))return t;try{return JSON.parse(t)}catch(t){return null}},array:function(t,e){if(u.array(t))return t;if(void 0===t)return null;if("string"==typeof t){if("["===t.substring(0,1)&&"]"===t.slice(-1))try{return JSON.parse(t)}catch(t){return null}return t.split(String(e.splitWith||","))}return u.array(t)?null:[t]}},g={upper:function(t){return t.toUpperCase()},lower:function(t){return t.toLowerCase()},title:function(t){return t.replace(/\S*/g,(function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}))},capitalize:function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()},ucfirst:function(t){return t.charAt(0).toUpperCase()+t.substr(1)},trim:function(t){return t.trim()}},m={strict:function(t,e){return"string"==typeof t.strict&&(t.strict="true"===t.strict),!0!==t.strict?e:u.object(t.properties)&&u.object(e)?(Object.keys(e).forEach((function(r){r in t.properties||delete e[r]})),e):e},optional:function(t,e){return!0===("boolean"==typeof t.optional?t.optional:"false"!==t.optional)||void 0!==e?e:(this.report(),t.def===Date?new Date:t.def)},type:function(t,e){if("string"!=typeof t.type||"function"!=typeof y[t.type])return e;var r,n="boolean"!=typeof t.optional||t.optional;return"function"==typeof y[t.type]?(null===(r=y[t.type](e,t))&&!n||!r&&isNaN(r)||null===r&&"string"===t.type)&&(r=t.def):n||(r=t.def),(null!=r||void 0!==t.def&&t.def===r)&&r!==e?(this.report(),r):e},rules:function(t,e){var r=t.rules;if("string"!=typeof e||"string"!=typeof r&&!u.array(r))return e;var n=!1;return(u.array(r)?r:[r]).forEach((function(t){"function"==typeof g[t]&&(e=g[t](e),n=!0)})),n&&this.report(),e},min:function(t,e){var r=Number(e);if(isNaN(r))return e;var n=Number(t.min);return isNaN(n)?e:r<n?(this.report(),n):e},max:function(t,e){var r=Number(e);if(isNaN(r))return e;var n=Number(t.max);return isNaN(n)?e:r>n?(this.report(),n):e},minLength:function(t,e){var r=Number(t.minLength);if("string"!=typeof e||isNaN(r)||r<0)return e;var n="",i=r-e.length;if(i>0){for(var o=0;o<i;o++)n+="-";return this.report(),e+n}return e},maxLength:function(t,e){var r=Number(t.maxLength);return"string"!=typeof e||isNaN(r)||r<0?e:e.length>r?(this.report(),e.slice(0,r)):e},properties:function(t,e,r){if("function"==typeof r)return this.asyncProperties(t,e,r);if(!e||"object"!=typeof e)return e;var n,i,o=t.properties;if(void 0!==o["*"])for(i in e)i in o||(this._deeperObject(i),void 0!==(n=this._sanitize(t.properties["*"],e[i]))&&(e[i]=n),this._back());for(i in t.properties)"*"!==i&&(this._deeperObject(i),void 0!==(n=this._sanitize(t.properties[i],e[i]))&&(e[i]=n),this._back());return e},items:function(t,e,r){if("function"==typeof r)return this.asyncItems(t,e,r);if(!(t.items instanceof Object&&e instanceof Object))return e;var n;if(u.array(t.items)&&u.array(e)){var i=t.items.length<e.length?t.items.length:e.length;for(n=0;n<i;n++)this._deeperArray(n),e[n]=this._sanitize(t.items[n],e[n]),this._back()}else for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this._deeperArray(n),e[n]=this._sanitize(t.items,e[n]),this._back());return e},exec:function(t,e,r){return"function"==typeof r?this.asyncExec(t,e,r):((u.array(t.exec)?t.exec:[t.exec]).forEach((function(r){"function"==typeof r&&(e=r.call(this,t,e))}),this),e)}},b={asyncExec:function(t,e,r){var i=this,o=u.array(t.exec)?t.exec:[t.exec];n.eachSeries(o,(function(r,n){if("function"==typeof r){if(r.length>2)return r.call(i,t,e,(function(t,r){if(t)return n(t);e=r,n()}));e=r.call(i,t,e)}n()}),(function(t){r(t,e)}))},asyncProperties:function(t,e,r){if(!e||"object"!=typeof e)return r(null,e);var i=this,o=t.properties;n.series([function(t){if(null==o["*"])return t();var r=o["*"];n.eachSeries(Object.keys(e),(function(t,n){if(t in o)return n();i._deeperObject(t),i._asyncSanitize(r,e[t],(function(r,o){void 0!==o&&(e[t]=o),i._back(),n()}))}),t)},function(t){n.eachSeries(Object.keys(o),(function(t,r){if("*"===t)return r();i._deeperObject(t),i._asyncSanitize(o[t],e[t],(function(n,o){if(n)return r(n);void 0!==o&&(e[t]=o),i._back(),r()}))}),t)}],(function(t){return r(t,e)}))},asyncItems:function(t,e,r){if(!(t.items instanceof Object&&e instanceof Object))return r(null,e);var i=this,o=t.items;if(u.array(o)&&u.array(e)){var s=o.length<e.length?o.length:e.length;n.timesSeries(s,(function(t,r){i._deeperArray(t),i._asyncSanitize(o[t],e[t],(function(n,o){if(n)return r(n);e[t]=o,i._back(),r()}))}),(function(t){r(t,e)}))}else n.eachSeries(Object.keys(e),(function(t,r){i._deeperArray(t),i._asyncSanitize(o,e[t],(function(n,o){if(n)return r();e[t]=o,i._back(),r()}))}),(function(t){r(t,e)}));return e}};function w(t,e){a.prototype.constructor.call(this,t,o(w.custom,e));var r=[];this._basicFields=Object.keys(m),this._customFields=Object.keys(this._custom),this.origin=null,this.report=function(t){var e={message:t||"was sanitized",property:this.userAlias?this.userAlias+" ("+this._dumpStack()+")":this._dumpStack()};r.some((function(t){return t.property===e.property}))||r.push(e)},this.result=function(t){return{data:t,reporting:r,format:function(){return this.reporting.map((function(t){return"Property "+t.property+" "+t.message})).join("\n")}}}}i(w.prototype,m),i(w.prototype,b),i(w,new s),w.prototype.sanitize=function(t,e){if(this.origin=t,"function"==typeof e){var r=this;return this._asyncSanitize(this._schema,t,(function(t,n){r.origin=null,e(t,r.result(n))}))}var n=this._sanitize(this._schema,t);return this.origin=null,this.result(n)},w.prototype._sanitize=function(t,e){return this.userAlias=t.alias||null,this._basicFields.forEach((function(r){!(r in t)&&"optional"!==r||"function"!=typeof this[r]||(e=this[r](t,e))}),this),this._customFields.forEach((function(r){r in t&&"function"==typeof this._custom[r]&&(e=this._custom[r].call(this,t,e))}),this),e},w.prototype._asyncSanitize=function(t,e,r){var i=this;this.userAlias=t.alias||null,n.waterfall([function(r){n.reduce(i._basicFields,e,(function(e,r,o){n.nextTick((function(){if((r in t||"optional"===r)&&"function"==typeof i[r]){if(i[r].length>2)return i[r](t,e,o);e=i[r](t,e)}o(null,e)}))}),r)},function(e,r){n.reduce(i._customFields,e,(function(e,r,o){n.nextTick((function(){if(r in t&&"function"==typeof i._custom[r]){if(i._custom[r].length>2)return i._custom[r].call(i,t,e,o);e=i._custom[r].call(i,t,e)}o(null,e)}))}),r)}],r)};var v=2147483647,E={int:function(t,e){return t+(0|Math.random()*(e-t+1))},float:function(t,e){return Math.random()*(e-t)+t},bool:function(){return Math.random()>.5},char:function(t,e){return String.fromCharCode(this.int(t,e))},fromList:function(t){return t[this.int(0,t.length-1)]}},A={"date-time":function(){return(new Date).toISOString()},date:function(){return(new Date).toISOString().replace(/T.*$/,"")},time:function(){return(new Date).toLocaleTimeString({},{hour12:!1})},color:function(t,e){var r="#";t<1&&(t=1);for(var n=0,i=E.int(t,e);n<i;n++)r+=E.fromList("0123456789abcdefABCDEF");return r},numeric:function(){return""+E.int(0,v)},integer:function(){return!0===E.bool()?"-"+this.numeric():this.numeric()},decimal:function(){return this.integer()+"."+this.numeric()},alpha:function(t,e){var r="";t<1&&(t=1);for(var n=0,i=E.int(t,e);n<i;n++)r+=E.fromList("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ");return r},alphaNumeric:function(t,e){var r="";t<1&&(t=1);for(var n=0,i=E.int(t,e);n<i;n++)r+=E.fromList("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789");return r},alphaDash:function(t,e){var r="";t<1&&(t=1);for(var n=0,i=E.int(t,e);n<i;n++)r+=E.fromList("_-abcdefghijklmnopqrstuvwxyz_-ABCDEFGHIJKLMNOPQRSTUVWXYZ_-0123456789_-");return r},javascript:function(t,e){for(var r=E.fromList("_$abcdefghijklmnopqrstuvwxyz_$ABCDEFGHIJKLMNOPQRSTUVWXYZ_$"),n=0,i=E.int(t,e-1);n<i;n++)r+=E.fromList("_$abcdefghijklmnopqrstuvwxyz_$ABCDEFGHIJKLMNOPQRSTUVWXYZ_$0123456789_$");return r}};function x(t){var e=-2147483648,r=v;return null!=t.gte?e=t.gte:null!=t.gt&&(e=t.gt+1),null!=t.lte?r=t.lte:null!=t.lt&&(r=t.lt-1),{min:e,max:r}}var S={string:function(t){if(null!=t.eq)return t.eq;var e="",r=null!=t.minLength?t.minLength:0,n=null!=t.maxLength?t.maxLength:32;if("string"==typeof t.pattern&&"function"==typeof A[t.pattern])return A[t.pattern](r,n);for(var i=null!=t.exactLength?t.exactLength:E.int(r,n),o=0;o<i;o++)e+=E.char(32,126);return e},number:function(t){if(null!=t.eq)return t.eq;var e=x(t),r=E.float(e.min,e.max);if(null!=t.ne)for(var n=u.array(t.ne)?t.ne:[t.ne];-1!==n.indexOf(r);)r=E.float(e.min,e.max);return r},integer:function(t){if(null!=t.eq)return t.eq;var e=x(t),r=E.int(e.min,e.max);if(null!=t.ne)for(var n=u.array(t.ne)?t.ne:[t.ne];-1!==n.indexOf(r);)r=E.int(e.min,e.max);return r},boolean:function(t){return null!=t.eq?t.eq:E.bool()},null:function(t){return null},date:function(t){return null!=t.eq?t.eq:new Date},object:function(t){var e={},r=t.properties||{};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(!0===r[n].optional&&!0===E.bool())continue;if("*"!==n)e[n]=this.generate(r[n]);else for(var i="__random_key_",o=i+0,s=E.int(1,9),a=1;a<=s;a++)o in r||(e[o]=this.generate(r[n])),o=i+a}return e},array:function(t){var e,r,n,i,o=t.items||{},s=null!=t.minLength?t.minLength:0,a=null!=t.maxLength?t.maxLength:16;if(u.array(o))for(n=o.length,null!=t.exactLength?n=t.exactLength:n<s?n=s:n>a&&(n=a),r=new Array(n),e=null,i=0;i<n;i++)e=o[i].type||"any",u.array(e)&&(e=e[E.int(0,e.length-1)]),r[i]=this[e](o[i]);else for(n=null!=t.exactLength?t.exactLength:E.int(s,a),r=new Array(n),e=o.type||"any",u.array(e)&&(e=e[E.int(0,e.length-1)]),i=0;i<n;i++)r[i]=this[e](o);return r},any:function(t){var e=Object.keys(S);return this[e[E.int(0,e.length-2)]](t)}};function _(){}i(_.prototype,S);var k=null;_.instance=function(){return k instanceof _||(k=new _),k},_.prototype.generate=function(t){var e=t.type||"any";return u.array(e)&&(e=e[E.int(0,e.length-1)]),this[e](t)};var B={};t.exports?t.exports=B:window.SchemaInspector=B,B.newSanitization=function(t,e){return new w(t,e)},B.newValidation=function(t,e){return new d(t,e)},B.Validation=d,B.Sanitization=w,B.sanitize=function(t,e,r,n){return 3===arguments.length&&"function"==typeof r&&(n=r,r=null),new w(t,r).sanitize(e,n)},B.validate=function(t,e,r,n){return 3===arguments.length&&"function"==typeof r&&(n=r,r=null),new d(t,r).validate(e,n)},B.generate=function(t,e){if("number"==typeof e){for(var r=new Array(e),n=0;n<e;n++)r[n]=_.instance().generate(t);return r}return _.instance().generate(t)}}()},5452:t=>{"use strict";t.exports=(t,e)=>{if("string"!=typeof t||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];const r=t.indexOf(e);return-1===r?[t]:[t.slice(0,r),t.slice(r+e.length)]}},7785:t=>{"use strict";t.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,(t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`))},2377:(t,e,r)=>{"use strict";t.exports=r(8613)},8613:(t,e)=>{"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function n(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return r(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function i(t,e){return void 0===e&&(e="{$origin}\n{$ttl}\n\n; SOA Record\n{name} {ttl}    IN  SOA {mname}{rname}(\n{serial} ;serial\n{refresh} ;refresh\n{retry} ;retry\n{expire} ;expire\n{minimum} ;minimum ttl\n)\n\n; NS Records\n{ns}\n\n; MX Records\n{mx}\n\n; A Records\n{a}\n\n; AAAA Records\n{aaaa}\n\n; CNAME Records\n{cname}\n\n; PTR Records\n{ptr}\n\n; TXT Records\n{txt}\n\n; SRV Records\n{srv}\n\n; SPF Records\n{spf}\n\n; URI Records\n{uri}\n"),e=function(t,e){var r="";return void 0!==t&&(r+="$ORIGIN "+t),e.replace("{$origin}",r)}(t.$origin,e),e=function(t,e){var r="";return void 0!==t&&(r+="$TTL "+t),e.replace("{$ttl}",r)}(t.$ttl,e),e=function(t,e){var r=e;if(void 0!==t)for(var n in t.name=t.name||"@",t.ttl=t.ttl||"",t)r=r.replace("{"+n+"}",t[n]+"\t");return r}(t.soa,e),e=function(t,e){var r="";if(t)for(var i,o=n(t);!(i=o()).done;){var s=i.value;r+=(s.name||"@")+"\t",s.ttl&&(r+=s.ttl+"\t"),r+="IN\tNS\t"+s.host+"\n"}return e.replace("{ns}",r)}(t.ns,e),e=function(t,e){var r="";if(t)for(var i,o=n(t);!(i=o()).done;){var s=i.value;r+=(s.name||"@")+"\t",s.ttl&&(r+=s.ttl+"\t"),r+="IN\tA\t"+s.ip+"\n"}return e.replace("{a}",r)}(t.a,e),e=function(t,e){var r="";if(t)for(var i,o=n(t);!(i=o()).done;){var s=i.value;r+=(s.name||"@")+"\t",s.ttl&&(r+=s.ttl+"\t"),r+="IN\tAAAA\t"+s.ip+"\n"}return e.replace("{aaaa}",r)}(t.aaaa,e),e=function(t,e){var r="";if(t)for(var i,o=n(t);!(i=o()).done;){var s=i.value;r+=(s.name||"@")+"\t",s.ttl&&(r+=s.ttl+"\t"),r+="IN\tCNAME\t"+s.alias+"\n"}return e.replace("{cname}",r)}(t.cname,e),e=function(t,e){var r="";if(t)for(var i,o=n(t);!(i=o()).done;){var s=i.value;r+=(s.name||"@")+"\t",s.ttl&&(r+=s.ttl+"\t"),r+="IN\tMX\t"+s.preference+"\t"+s.host+"\n"}return e.replace("{mx}",r)}(t.mx,e),e=function(t,e){var r="";if(t)for(var i,o=n(t);!(i=o()).done;){var s=i.value;r+=(s.name||"@")+"\t",s.ttl&&(r+=s.ttl+"\t"),r+="IN\tPTR\t"+s.host+"\n"}return e.replace("{ptr}",r)}(t.ptr,e),e=function(t,e){var r="";if(t)for(var i,o=n(t);!(i=o()).done;){var s=i.value;r+=(s.name||"@")+"\t",s.ttl&&(r+=s.ttl+"\t"),r+="IN\tTXT\t";var a=s.txt;"string"==typeof a?r+='"'+a+'"':a instanceof Array&&(r+=a.map((function(t){return'"'+t+'"'})).join(" ")),r+="\n"}return e.replace("{txt}",r)}(t.txt,e),e=function(t,e){var r="";if(t)for(var i,o=n(t);!(i=o()).done;){var s=i.value;r+=(s.name||"@")+"\t",s.ttl&&(r+=s.ttl+"\t"),r+="IN\tSRV\t"+s.priority+"\t",r+=s.weight+"\t",r+=s.port+"\t",r+=s.target+"\n"}return e.replace("{srv}",r)}(t.srv,e),e=function(t,e){var r="";if(t)for(var i,o=n(t);!(i=o()).done;){var s=i.value;r+=(s.name||"@")+"\t",s.ttl&&(r+=s.ttl+"\t"),r+="IN\tSPF\t"+s.data+"\n"}return e.replace("{spf}",r)}(t.spf,e),(e=function(t,e){e=(e=e.replace("{zone}",t.$origin||!!t.soa&&t.soa.name||"")).replace("{datetime}",(new Date).toISOString());var r=Math.round(Date.now()/1e3);return e.replace("{time}",""+r)}(t,e=function(t,e){var r="";if(t)for(var i,o=n(t);!(i=o()).done;){var s=i.value;r+=(s.name||"@")+"\t",s.ttl&&(r+=s.ttl+"\t"),r+="IN\tURI\t"+s.priority+"\t",r+=s.weight+"\t",r+='"'+s.target+'"\n'}return e.replace("{uri}",r)}(t.uri,e))).replace(/\n{2,}/gim,"\n\n")}function o(t){return function(t){for(var e,r={},i=n(t.split("\n"));!(e=i()).done;){var o=e.value;if(o&&o.trim()){var m=o.toUpperCase();/\s+TXT\s+/.test(m)?(r.txt=r.txt||[],r.txt.push(l(o))):0===m.indexOf("$ORIGIN")?r.$origin=o.split(/\s+/g)[1]:0===m.indexOf("$TTL")?r.$ttl=parseInt(o.split(/\s+/g)[1],10):/\s+SOA\s+/.test(m)?r.soa=s(o):/\s+NS\s+/.test(m)?(r.ns=r.ns||[],r.ns.push(a(o))):/\s+A\s+/.test(m)?(r.a=r.a||[],r.a.push(u(o,r.a))):/\s+AAAA\s+/.test(m)?(r.aaaa=r.aaaa||[],r.aaaa.push(c(o))):/\s+CNAME\s+/.test(m)?(r.cname=r.cname||[],r.cname.push(f(o))):/\s+MX\s+/.test(m)?(r.mx=r.mx||[],r.mx.push(h(o))):/\s+PTR\s+/.test(m)?(r.ptr=r.ptr||[],r.ptr.push(p(o,r.ptr,r.$origin))):/\s+SRV\s+/.test(m)?(r.srv=r.srv||[],r.srv.push(d(o))):/\s+SPF\s+/.test(m)?(r.spf=r.spf||[],r.spf.push(y(o))):/\s+URI\s+/.test(m)&&(r.uri=r.uri||[],r.uri.push(g(o)))}}return r}(t=function(t){for(var e=[],r=/\([\s\S]*?\)/gim,n=r.exec(t);null!==n;){var i=n[0].replace(/\s+/gm," ");e.push({match:n,replacement:i}),n=r.exec(t)}for(var o=t.split(""),s=0,a=e;s<a.length;s++){var u=a[s],c=u.match;o.splice(c.index,c[0].length,u.replacement)}return o.join("").replace(/\(|\)/gim," ")}(t=function(t){return t.replace(/(^|[^\\]);.*/g,(function(t,e){return e||""}))}(t)))}function s(t){var e={},r=t.trim().split(/\s+/g),n=r.length;return e.name=r[0],e.minimum=parseInt(r[n-1],10),e.expire=parseInt(r[n-2],10),e.retry=parseInt(r[n-3],10),e.refresh=parseInt(r[n-4],10),e.serial=parseInt(r[n-5],10),e.rname=r[n-6],e.mname=r[n-7],isNaN(r[1])||(e.ttl=parseInt(r[1],10)),e}function a(t){var e=t.trim().split(/\s+/g),r={name:e[0],host:e[e.length-1]};return isNaN(e[1])||(r.ttl=parseInt(e[1],10)),r}function u(t,e){var r=t.trim().split(/\s+/g),n=t.trim().toUpperCase().split(/\s+/g),i={name:r[0],ip:r[r.length-1]};return 0===n.lastIndexOf("A")&&(i.name=e.length?e[e.length-1].name:"@"),isNaN(r[1])||(i.ttl=parseInt(r[1],10)),i}function c(t){var e=t.trim().split(/\s+/g),r={name:e[0],ip:e[e.length-1]};return isNaN(e[1])||(r.ttl=parseInt(e[1],10)),r}function f(t){var e=t.trim().split(/\s+/g),r={name:e[0],alias:e[e.length-1]};return isNaN(e[1])||(r.ttl=parseInt(e[1],10)),r}function h(t){var e=t.trim().split(/\s+/g),r=e.length,n={name:e[0],preference:parseInt(e[r-2],10),host:e[r-1]};return isNaN(e[1])||(n.ttl=parseInt(e[1],10)),n}function l(t){var e=t.trim().match(/[^\s"']+|"[^"]*"|'[^']*'/g);if(!e)throw new Error("Failure to tokenize TXT record");var r,n=e.length,i=e.indexOf("TXT");function o(t){return t.indexOf('"')>-1&&(t=t.split('"')[1]),t}r=n-i-1>1?[].concat(e.slice(i+1).map(o)):o(e[n-1]);var s={name:e[0],txt:r};return isNaN(e[1])||(s.ttl=parseInt(e[1],10)),s}function p(t,e,r){var n=t.trim().split(/\s+/g);0===t.trim().toUpperCase().split(/\s+/g).lastIndexOf("PTR")&&e[e.length-1]&&n.unshift(e[e.length-1].name);var i={name:n[0],fullname:n[0]+"."+r,host:n[n.length-1]};return isNaN(n[1])||(i.ttl=parseInt(n[1],10)),i}function d(t){var e=t.trim().split(/\s+/g),r=e.length,n={name:e[0],target:e[r-1],priority:parseInt(e[r-4],10),weight:parseInt(e[r-3],10),port:parseInt(e[r-2],10)};return isNaN(e[1])||(n.ttl=parseInt(e[1],10)),n}function y(t){for(var e=t.trim().split(/\s+/g),r={name:e[0],data:""},n=e.length;n-- >4;)r.data=e[n]+" "+r.data.trim();return isNaN(e[1])||(r.ttl=parseInt(e[1],10)),r}function g(t){var e=t.trim().split(/\s+/g),r=e.length,n={name:e[0],target:e[r-1].replace(/"/g,""),priority:parseInt(e[r-3],10),weight:parseInt(e[r-2],10)};return isNaN(e[1])||(n.ttl=parseInt(e[1],10)),n}(function(){var t=function(t){this.jsonZoneFile="object"==typeof t?JSON.parse(JSON.stringify(t)):"string"==typeof t?o(t):void 0}.prototype;t.toJSON=function(){return this.jsonZoneFile},t.toString=function(){return i(this.toJSON())}})(),e.makeZoneFile=i,e.parseZoneFile=o},97:(t,e,r)=>{"use strict";var n,i;r.d(e,{Kn:()=>i,oK:()=>n,sM:()=>o}),function(t){t[t.Testnet=2147483648]="Testnet",t[t.Mainnet=1]="Mainnet"}(n||(n={})),function(t){t[t.Mainnet=0]="Mainnet",t[t.Testnet=128]="Testnet"}(i||(i={}));const o="https://hub.blockstack.org"},735:(t,e,r)=>{"use strict";r.d(e,{Fe:()=>f,M4:()=>c,kn:()=>s,v0:()=>o,vP:()=>u,zd:()=>a});const n={MISSING_PARAMETER:"missing_parameter",REMOTE_SERVICE_ERROR:"remote_service_error",INVALID_STATE:"invalid_state",NO_SESSION_DATA:"no_session_data",DOES_NOT_EXIST:"does_not_exist",FAILED_DECRYPTION_ERROR:"failed_decryption_error",INVALID_DID_ERROR:"invalid_did_error",NOT_ENOUGH_FUNDS_ERROR:"not_enough_error",INVALID_AMOUNT_ERROR:"invalid_amount_error",LOGIN_FAILED_ERROR:"login_failed",SIGNATURE_VERIFICATION_ERROR:"signature_verification_failure",CONFLICT_ERROR:"conflict_error",NOT_ENOUGH_PROOF_ERROR:"not_enough_proof_error",BAD_PATH_ERROR:"bad_path_error",VALIDATION_ERROR:"validation_error",PAYLOAD_TOO_LARGE_ERROR:"payload_too_large_error",PRECONDITION_FAILED_ERROR:"precondition_failed_error",UNKNOWN:"unknown"};Object.freeze(n);class i extends Error{constructor(t){super();let e=t.message,r=`Error Code: ${t.code}`,n=this.stack;if(n)r+=`Stack Trace:\n${n}`;else try{throw new Error}catch(t){n=t.stack}e+=`\nIf you believe this exception is caused by a bug in stacks.js,\n      please file a bug report: https://github.com/blockstack/stacks.js/issues\n\n${r}`,this.message=e,this.code=t.code,this.parameter=t.parameter?t.parameter:void 0}toString(){return`${super.toString()}\n    code: ${this.code} param: ${this.parameter?this.parameter:"n/a"}`}}class o extends i{constructor(t,e=""){super({code:n.MISSING_PARAMETER,message:e,parameter:t}),this.name="MissingParametersError"}}class s extends i{constructor(t=""){super({code:n.INVALID_DID_ERROR,message:t}),this.name="InvalidDIDError"}}class a extends i{constructor(t){const e=`Failed to login: ${t}`;super({code:n.LOGIN_FAILED_ERROR,message:e}),this.message=e,this.name="LoginFailedError"}}class u extends i{constructor(t="Unable to decrypt cipher object."){super({code:n.FAILED_DECRYPTION_ERROR,message:t}),this.message=t,this.name="FailedDecryptionError"}}class c extends i{constructor(t){super({code:n.INVALID_STATE,message:t}),this.message=t,this.name="InvalidStateError"}}class f extends i{constructor(t){super({code:n.INVALID_STATE,message:t}),this.message=t,this.name="NoSessionDataError"}}},7118:(t,e,r)=>{"use strict";r.d(e,{Y:()=>s});const n=["debug","info","warn","error","none"],i={},o={};for(let t=0;t<n.length;t++){const e=n[t];i[e]=t,o[t]=e}class s{static error(t){this.shouldLog("error")&&console.error(this.logMessage("error",t))}static warn(t){this.shouldLog("warn")&&console.warn(this.logMessage("warn",t))}static info(t){this.shouldLog("info")&&console.log(this.logMessage("info",t))}static debug(t){this.shouldLog("debug")&&console.log(this.logMessage("debug",t))}static logMessage(t,e){return`[${t.toUpperCase()}] ${e}`}static shouldLog(t){return i.debug<=i[t]}}},3687:(t,e,r)=>{"use strict";r.d(e,{NJ:()=>u,Rf:()=>d,cG:()=>f,ci:()=>g,eV:()=>b,gS:()=>l,ko:()=>p,lW:()=>s,nD:()=>c,nr:()=>m,se:()=>h,ym:()=>a});var n=r(7118),i=r(8834),o=r(8834).Buffer;const s=void 0!==o?o:i.Buffer,a="blockstack";function u(){return new Date((new Date).setFullYear((new Date).getFullYear()+1))}function c(){return new Date((new Date).setMonth((new Date).getMonth()+1))}function f(){return new Date((new Date).setHours((new Date).getHours()+1))}function h(t,e){void 0!==t&&""!==t||(t="0.0.0"),void 0!==e&&""!==t||(e="0.0.0");const r=t.split(".").map((t=>parseInt(t,10))),n=e.split(".").map((t=>parseInt(t,10)));for(let i=0;i<e.length;i++)if(i>=t.length&&n.push(0),r[i]<n[i])return!1;return!0}function l(){let t=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const r=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?r:3&r|8).toString(16)}))}function p(t,e){try{const r=new URL(t),n=new URL(e),i=0|parseInt(r.port||"0",10)||("https:"===r.protocol?443:80),o=0|parseInt(n.port||"0",10)||("https:"===n.protocol?443:80),s={scheme:r.protocol===n.protocol,hostname:r.hostname===n.hostname,port:i===o,absolute:(t.includes("http://")||t.includes("https://"))&&(e.includes("http://")||e.includes("https://"))};return s.scheme&&s.hostname&&s.port&&s.absolute}catch(t){return console.log(t),console.log("Parsing error in same URL origin check"),!1}}function d(t,{throwIfUnavailable:e,usageDesc:i,returnEmptyObject:o}={}){let s;try{if(s=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw new Error("Unexpected runtime environment - no supported global scope (`window`, `self`, `global`) available")}(),s){const e=s[t];if(e)return e}}catch(e){n.Y.error(`Error getting object '${t}' from global scope '${s}': ${e}`)}if(e){const e=function(t,e,r){return r?`Use of '${r}' requires \`${e}\` which is unavailable on the '${t}' object within the currently executing environment.`:`\`${e}\` is unavailable on the '${t}' object within the currently executing environment.`}(s,t.toString(),i);throw n.Y.error(e),new Error(e)}if(o)return{}}const y=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function g(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(const r of t)e+=y[r];return e}function m(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=2*r,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function b(...t){if(!t.every((t=>t instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),r=new Uint8Array(e);for(let e=0,n=0;e<t.length;e++){const i=t[e];r.set(i,n),n+=i.length}return r}},3141:(t,e,r)=>{"use strict";function n(t){try{0;const e=r(1516);return!!e&&(!t||t(e))}catch(t){return!1}}async function i(){if("undefined"!=typeof crypto&&void 0!==crypto.subtle)return{lib:crypto.subtle,name:"subtleCrypto"};try{return{lib:r(1516),name:"nodeCrypto"}}catch(t){throw new Error('Crypto lib not found. Either the WebCrypto "crypto.subtle" or Node.js "crypto" module must be available.')}}r.d(e,{H4:()=>n,ku:()=>i})},8414:(t,e,r)=>{"use strict";r.d(e,{ld:()=>v,pW:()=>w,P8:()=>E});var n=r(846),i=r(3929),o=r(9580),s=r(3687),a=r(735),u=r(3141);class c{constructor(t,e){this.createCipher=t,this.createDecipher=e}async encrypt(t,e,r,n){if("aes-128-cbc"!==t&&"aes-256-cbc"!==t)throw new Error(`Unsupported cipher algorithm "${t}"`);const i=this.createCipher(t,e,r),o=s.lW.concat([i.update(n),i.final()]);return Promise.resolve(o)}async decrypt(t,e,r,n){if("aes-128-cbc"!==t&&"aes-256-cbc"!==t)throw new Error(`Unsupported cipher algorithm "${t}"`);const i=this.createDecipher(t,e,r),o=s.lW.concat([i.update(n),i.final()]);return Promise.resolve(o)}}class f{constructor(t){this.subtleCrypto=t}async encrypt(t,e,r,n){let i,o;if("aes-128-cbc"===t)i="AES-CBC",o=128;else{if("aes-256-cbc"!==t)throw new Error(`Unsupported cipher algorithm "${t}"`);i="AES-CBC",o=256}const a=await this.subtleCrypto.importKey("raw",e,{name:i,length:o},!1,["encrypt"]),u=await this.subtleCrypto.encrypt({name:i,iv:r},a,n);return s.lW.from(u)}async decrypt(t,e,r,n){let i,o;if("aes-128-cbc"===t)i="AES-CBC",o=128;else{if("aes-256-cbc"!==t)throw new Error(`Unsupported cipher algorithm "${t}"`);i="AES-CBC",o=256}const a=await this.subtleCrypto.importKey("raw",e,{name:i,length:o},!1,["decrypt"]),u=await this.subtleCrypto.decrypt({name:i,iv:r},a,n);return s.lW.from(u)}}async function h(){const t=await(0,u.ku)();return"subtleCrypto"===t.name?new f(t.lib):new c(t.lib.createCipheriv,t.lib.createDecipheriv)}class l{constructor(t){this.createHmac=t}async digest(t,e){const r=this.createHmac("sha256",t).update(e).digest();return Promise.resolve(r)}}class p{constructor(t){this.subtleCrypto=t}async digest(t,e){const r=await this.subtleCrypto.importKey("raw",t,{name:"HMAC",hash:"SHA-256"},!0,["sign"]),n=await this.subtleCrypto.sign({name:"HMAC",hash:"SHA-256"},r,e);return s.lW.from(n)}}var d,y=r(990),g=r(4746);async function m(t,e){return(await async function(){const t=await(0,u.ku)();return"subtleCrypto"===t.name?new p(t.lib):new l(t.lib.createHmac)}()).digest(t,e)}function b(t){const e=(0,g.jf)(t);return{encryptionKey:e.slice(0,32),hmacKey:e.slice(32)}}async function w(t,e,r,n){const i=function(t){const e={result:!1,reason_data:"Invalid public key format",reason:d.InvalidFormat},r={result:!1,reason_data:"Public key is not a point",reason:d.IsNotPoint};if(66!==t.length&&130!==t.length)return e;const n=t.slice(0,2);if(130===t.length&&"04"!==n)return e;if(66===t.length&&"02"!==n&&"03"!==n)return e;if(null===t.match(/^[0-9a-f]+$/i))return e;try{return o.E9.fromHex(t).assertValidity(),{result:!0,reason_data:null,reason:null}}catch(t){return r}}(t);if(!i.result)throw i;const a=o.P6.randomPrivateKey(),u=(0,o.$3)(a,!0);let c=(0,o.ZV)(a,t,!0);c=c.slice(1);const f=b(s.lW.from(c)),l=o.P6.randomBytes(16),p=await async function(t,e,r){const n=await h();return await n.encrypt("aes-256-cbc",e,t,r)}(s.lW.from(l),f.encryptionKey,e),y=(0,s.eV)(l,u,p),g=await m(f.hmacKey,s.lW.from(y));let w;if(n&&"hex"!==n){if("base64"!==n)throw new Error(`Unexpected cipherTextEncoding "${n}"`);w=p.toString("base64")}else w=(0,s.ci)(p);const v={iv:(0,s.ci)(l),ephemeralPK:(0,s.ci)(u),cipherText:w,mac:(0,s.ci)(g),wasString:r};return n&&"hex"!==n&&(v.cipherTextEncoding=n),v}async function v(t,e){if(!e.ephemeralPK)throw new a.vP("Unable to get public key from cipher object. You might be trying to decrypt an unencrypted object.");const r=e.ephemeralPK;let n=(0,o.ZV)(t,r,!0);n=n.slice(1);const i=b(s.lW.from(n)),u=(0,s.nr)(e.iv);let c;if(e.cipherTextEncoding&&"hex"!==e.cipherTextEncoding){if("base64"!==e.cipherTextEncoding)throw new Error(`Unexpected cipherTextEncoding "${e.cipherText}"`);c=s.lW.from(e.cipherText,"base64")}else c=s.lW.from(e.cipherText,"hex");const f=(0,s.eV)(u,(0,s.nr)(r),c),l=await m(i.hmacKey,s.lW.from(f)),p=(0,s.nr)(e.mac);if(!function(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return 0===r}(s.lW.from(p),l))throw new a.vP("Decryption failed: failure in MAC check");const d=await async function(t,e,r){const n=await h();return await n.decrypt("aes-256-cbc",e,t,r)}(s.lW.from(u),i.encryptionKey,c);return e.wasString?d.toString():d}function E(t,e){const r=e instanceof s.lW?e:s.lW.from(e),n=(0,y.GU)(t),i=(0,g.Uz)(r),a=(0,o.kS)(i,t);return{signature:(0,s.ci)(a),publicKey:n}}o.P6.hmacSha256Sync=(t,...e)=>{const r=n.b.create(i.J,t);return e.forEach((t=>r.update(t))),r.digest()},function(t){t.InvalidFormat="InvalidFormat",t.IsNotPoint="IsNotPoint"}(d||(d={}))},990:(t,e,r)=>{"use strict";r.d(e,{GU:()=>L,C4:()=>C,Qh:()=>j,y7:()=>P});var n=r(846),i=r(3929),o=r(9580),s=r(3687);function a(t){const e=s.lW.isBuffer(t)?t:s.lW.from(t,"hex");if(32!=e.length&&33!=e.length)throw new Error(`Improperly formatted private-key. Private-key byte length should be 32 or 33. Length provided: ${e.length}`);if(33==e.length&&1!==e[32])throw new Error("Improperly formatted private-key. 33 bytes indicate compressed key, but the last byte must be == 01");return e}var u=r(7022),c=r.n(u);const f=new Array(16),h=k([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=k([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),p=k([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=k([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),y=_([0,1518500249,1859775393,2400959708,2840853838]),g=_([1352829926,1548603684,1836072691,2053994217,0]);function m(t,e){return t<<e|t>>>32-e}function b(t,e,r,n,i,o,s,a){return m(t+(e^r^n)+o+s|0,a)+i|0}function w(t,e,r,n,i,o,s,a){return m(t+(e&r|~e&n)+o+s|0,a)+i|0}function v(t,e,r,n,i,o,s,a){return m(t+((e|~r)^n)+o+s|0,a)+i|0}function E(t,e,r,n,i,o,s,a){return m(t+(e&n|r&~n)+o+s|0,a)+i|0}function A(t,e,r,n,i,o,s,a){return m(t+(e^(r|~n))+o+s|0,a)+i|0}function x(t,e,r){return e=+e,t[3+(r>>>=0)]=e>>>24,t[r+2]=e>>>16,t[r+1]=e>>>8,t[r]=255&e,r+4}function S(t,e,r){return e=+e,t[r>>>=0]=255&e,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,r+4}function _(t){return"undefined"!=typeof Uint32Array?new Uint32Array(t):t}function k(t){return"undefined"!=typeof Uint8Array?new Uint8Array(t):t}function B(t){return"undefined"!=typeof Uint8Array?new Uint8Array(t):new Array(t)}var O=r(3141);class I{digest(t){const e=new class{constructor(){this._block=B(64),this._blockSize=64,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1,this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}update(t){if(this._finalized)throw new Error("Digest already called");const e=this._block;let r=0;for(;this._blockOffset+t.length-r>=this._blockSize;){for(let n=this._blockOffset;n<this._blockSize;)e[n++]=t[r++];this._update(),this._blockOffset=0}for(;r<t.length;)e[this._blockOffset++]=t[r++];for(let e=0,r=8*t.length;r>0;++e)this._length[e]+=r,r=this._length[e]/4294967296|0,r>0&&(this._length[e]-=4294967296*r);return this}_update(){const t=f;for(let n=0;n<16;++n)t[n]=(r=4*n,(e=this._block)[r>>>=0]|e[r+1]<<8|e[r+2]<<16|e[r+3]<<24);var e,r;let n=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,a=0|this._e,u=0|this._a,c=0|this._b,x=0|this._c,S=0|this._d,_=0|this._e;for(let e=0;e<80;e+=1){let r,f;e<16?(r=b(n,i,o,s,a,t[h[e]],y[0],p[e]),f=A(u,c,x,S,_,t[l[e]],g[0],d[e])):e<32?(r=w(n,i,o,s,a,t[h[e]],y[1],p[e]),f=E(u,c,x,S,_,t[l[e]],g[1],d[e])):e<48?(r=v(n,i,o,s,a,t[h[e]],y[2],p[e]),f=v(u,c,x,S,_,t[l[e]],g[2],d[e])):e<64?(r=E(n,i,o,s,a,t[h[e]],y[3],p[e]),f=w(u,c,x,S,_,t[l[e]],g[3],d[e])):(r=A(n,i,o,s,a,t[h[e]],y[4],p[e]),f=b(u,c,x,S,_,t[l[e]],g[4],d[e])),n=a,a=s,s=m(o,10),o=i,i=r,u=_,_=S,S=m(x,10),x=c,c=f}const k=this._b+o+S|0;this._b=this._c+s+_|0,this._c=this._d+a+u|0,this._d=this._e+n+c|0,this._e=this._a+i+x|0,this._a=k}digest(){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),x(this._block,this._length[0],56),x(this._block,this._length[1],60),this._update();const t=B(20);S(t,this._a,0),S(t,this._b,4),S(t,this._c,8),S(t,this._d,12),S(t,this._e,16),this._block.fill(0),this._blockOffset=0;for(let t=0;t<4;++t)this._length[t]=0;return t}};e.update(t);const r=e.digest();return Array.isArray(r)?s.lW.from(r):s.lW.from(r.buffer)}}class U{constructor(t){this.nodeCryptoCreateHash=t}digest(t){try{return this.nodeCryptoCreateHash("rmd160").update(t).digest()}catch(e){try{return this.nodeCryptoCreateHash("ripemd160").update(t).digest()}catch(r){return console.log(e),console.log("Node.js `crypto.createHash` exists but failing to digest for ripemd160, falling back to js implementation"),(new I).digest(t)}}}}var T=r(4746);function j(){return s.lW.from(o.P6.randomPrivateKey()).toString("hex")}function P(t){const e=s.lW.isBuffer(t)?t:s.lW.from(t,"hex");return r=0,o=(0,T.Uz)(e),n=function(){const t=(0,O.H4)((t=>"function"==typeof t.createHash&&t.createHash));return t?new U(t):new I}().digest(o),function(t){const e=s.lW.from((0,i.J)((0,i.J)(t)));return c().encode(s.lW.concat([t,e],t.length+4))}(s.lW.from([r,...n].slice(0,21)));var r,n,o}function L(t){const e=a(t);return s.lW.from((0,o.$3)(e.slice(0,32),!0)).toString("hex")}function C(t){return o.P6.isValidPrivateKey(a(t))}o.P6.hmacSha256Sync=(t,...e)=>{const r=n.b.create(i.J,t);return e.forEach((t=>r.update(t))),r.digest()}},4746:(t,e,r)=>{"use strict";r.d(e,{Uz:()=>s,jf:()=>a});var n=r(3929),i=r(9027),o=r(3687);function s(t){return o.lW.from((0,n.J)(t))}function a(t){return o.lW.from((0,i.o)(t))}},6258:(t,e,r)=>{"use strict";r.d(e,{eA:()=>o}),r(3616);const n={referrerPolicy:"origin"};async function i(t,e){const r={};return Object.assign(r,e,n),await fetch(t,r)}function o(...t){const{fetchLib:e,middlewares:r}=function(t){let e=i,r=[];return t.length>0&&"function"==typeof t[0]&&(e=t.shift()),t.length>0&&(r=t),{fetchLib:e,middlewares:r}}(t);return async(t,n)=>{var i;let o={url:t,init:null!=n?n:{}};for(const t of r)if("function"==typeof t.pre){const r=await Promise.resolve(t.pre(Object.assign({fetch:e},o)));o=null!=r?r:o}let s=await e(o.url,o.init);for(const t of r)if("function"==typeof t.post){const r=await Promise.resolve(t.post({fetch:e,url:o.url,init:o.init,response:null!==(i=null==s?void 0:s.clone())&&void 0!==i?i:s}));s=null!=r?r:s}return s}}},4025:(t,e,r)=>{"use strict";r.d(e,{_Y:()=>a,_e:()=>s});var n=r(97),i=r(6258);const o=["mainnet","testnet"];class s{constructor(t){var e;this.version=n.Kn.Mainnet,this.chainId=n.oK.Mainnet,this.bnsLookupUrl="https://stacks-node-api.mainnet.stacks.co",this.broadcastEndpoint="/v2/transactions",this.transferFeeEstimateEndpoint="/v2/fees/transfer",this.transactionFeeEstimateEndpoint="/v2/fees/transaction",this.accountEndpoint="/v2/accounts",this.contractAbiEndpoint="/v2/contracts/interface",this.readOnlyFunctionCallEndpoint="/v2/contracts/call-read",this.isMainnet=()=>this.version===n.Kn.Mainnet,this.getBroadcastApiUrl=()=>`${this.coreApiUrl}${this.broadcastEndpoint}`,this.getTransferFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transferFeeEstimateEndpoint}`,this.getTransactionFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transactionFeeEstimateEndpoint}`,this.getAccountApiUrl=t=>`${this.coreApiUrl}${this.accountEndpoint}/${t}?proof=0`,this.getAbiApiUrl=(t,e)=>`${this.coreApiUrl}${this.contractAbiEndpoint}/${t}/${e}`,this.getReadOnlyFunctionCallApiUrl=(t,e,r)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}/${t}/${e}/${encodeURIComponent(r)}`,this.getInfoUrl=()=>`${this.coreApiUrl}/v2/info`,this.getBlockTimeInfoUrl=()=>`${this.coreApiUrl}/extended/v1/info/network_block_times`,this.getPoxInfoUrl=()=>`${this.coreApiUrl}/v2/pox`,this.getRewardsUrl=(t,e)=>{let r=`${this.coreApiUrl}/extended/v1/burnchain/rewards/${t}`;return e&&(r=`${r}?limit=${e.limit}&offset=${e.offset}`),r},this.getRewardsTotalUrl=t=>`${this.coreApiUrl}/extended/v1/burnchain/rewards/${t}/total`,this.getRewardHoldersUrl=(t,e)=>{let r=`${this.coreApiUrl}/extended/v1/burnchain/reward_slot_holders/${t}`;return e&&(r=`${r}?limit=${e.limit}&offset=${e.offset}`),r},this.getStackerInfoUrl=(t,e)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}\n    ${t}/${e}/get-stacker-info`,this.coreApiUrl=t.url,this.fetchFn=null!==(e=t.fetchFn)&&void 0!==e?e:(0,i.eA)()}getNameInfo(t){const e=`${this.bnsLookupUrl}/v1/names/${t}`;return this.fetchFn(e).then((t=>{if(404===t.status)throw new Error("Name not found");if(200!==t.status)throw new Error(`Bad response status: ${t.status}`);return t.json()})).then((t=>t.address?Object.assign({},t,{address:t.address}):t))}}s.fromName=t=>{switch(t){case"mainnet":return new a;case"testnet":return new u;default:throw new Error(`Invalid network name provided. Must be one of the following: ${o.join(", ")}`)}},s.fromNameOrNetwork=t=>"string"!=typeof t&&"version"in t?t:s.fromName(t);class a extends s{constructor(t){var e;super({url:null!==(e=null==t?void 0:t.url)&&void 0!==e?e:"https://stacks-node-api.mainnet.stacks.co",fetchFn:null==t?void 0:t.fetchFn}),this.version=n.Kn.Mainnet,this.chainId=n.oK.Mainnet}}class u extends s{constructor(t){var e;super({url:null!==(e=null==t?void 0:t.url)&&void 0!==e?e:"https://stacks-node-api.testnet.stacks.co",fetchFn:null==t?void 0:t.fetchFn}),this.version=n.Kn.Testnet,this.chainId=n.oK.Testnet}}},9731:(t,e,r)=>{"use strict";r.d(e,{of:()=>W,K9:()=>V});var n,i,o,s,a,u,c,f,h,l,p,d,y,g,m,b,w,v,E,A=r(7474),x=r(3687),S=r(846),_=r(3929),k=r(9580),B=r(2870);!function(t){t[t.Testnet=2147483648]="Testnet",t[t.Mainnet=1]="Mainnet"}(n||(n={})),n.Mainnet,(c=i||(i={}))[c.Address=0]="Address",c[c.Principal=1]="Principal",c[c.LengthPrefixedString=2]="LengthPrefixedString",c[c.MemoString=3]="MemoString",c[c.AssetInfo=4]="AssetInfo",c[c.PostCondition=5]="PostCondition",c[c.PublicKey=6]="PublicKey",c[c.LengthPrefixedList=7]="LengthPrefixedList",c[c.Payload=8]="Payload",c[c.MessageSignature=9]="MessageSignature",c[c.StructuredDataSignature=10]="StructuredDataSignature",c[c.TransactionAuthField=11]="TransactionAuthField",function(t){t[t.TokenTransfer=0]="TokenTransfer",t[t.SmartContract=1]="SmartContract",t[t.ContractCall=2]="ContractCall",t[t.PoisonMicroblock=3]="PoisonMicroblock",t[t.Coinbase=4]="Coinbase"}(o||(o={})),function(t){t[t.OnChainOnly=1]="OnChainOnly",t[t.OffChainOnly=2]="OffChainOnly",t[t.Any=3]="Any"}(s||(s={})),(u=a||(a={}))[u.Mainnet=0]="Mainnet",u[u.Testnet=128]="Testnet",a.Mainnet,function(t){t[t.Allow=1]="Allow",t[t.Deny=2]="Deny"}(f||(f={})),function(t){t[t.STX=0]="STX",t[t.Fungible=1]="Fungible",t[t.NonFungible=2]="NonFungible"}(h||(h={})),function(t){t[t.Standard=4]="Standard",t[t.Sponsored=5]="Sponsored"}(l||(l={})),function(t){t[t.SerializeP2PKH=0]="SerializeP2PKH",t[t.SerializeP2SH=1]="SerializeP2SH",t[t.SerializeP2WPKH=2]="SerializeP2WPKH",t[t.SerializeP2WSH=3]="SerializeP2WSH"}(p||(p={})),function(t){t[t.MainnetSingleSig=22]="MainnetSingleSig",t[t.MainnetMultiSig=20]="MainnetMultiSig",t[t.TestnetSingleSig=26]="TestnetSingleSig",t[t.TestnetMultiSig=21]="TestnetMultiSig"}(d||(d={})),(E=y||(y={}))[E.Compressed=0]="Compressed",E[E.Uncompressed=1]="Uncompressed",function(t){t[t.Equal=1]="Equal",t[t.Greater=2]="Greater",t[t.GreaterEqual=3]="GreaterEqual",t[t.Less=4]="Less",t[t.LessEqual=5]="LessEqual"}(g||(g={})),function(t){t[t.DoesNotOwn=16]="DoesNotOwn",t[t.Owns=17]="Owns"}(m||(m={})),function(t){t[t.Origin=1]="Origin",t[t.Standard=2]="Standard",t[t.Contract=3]="Contract"}(b||(b={})),function(t){t[t.STX=0]="STX",t[t.Fungible=1]="Fungible",t[t.NonFungible=2]="NonFungible"}(w||(w={})),function(t){t.Serialization="Serialization",t.Deserialization="Deserialization",t.SignatureValidation="SignatureValidation",t.FeeTooLow="FeeTooLow",t.BadNonce="BadNonce",t.NotEnoughFunds="NotEnoughFunds",t.NoSuchContract="NoSuchContract",t.NoSuchPublicFunction="NoSuchPublicFunction",t.BadFunctionArgument="BadFunctionArgument",t.ContractAlreadyExists="ContractAlreadyExists",t.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",t.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",t.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",t.BadAddressVersionByte="BadAddressVersionByte",t.NoCoinbaseViaMempool="NoCoinbaseViaMempool",t.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",t.ServerFailureDatabase="ServerFailureDatabase",t.ServerFailureOther="ServerFailureOther"}(v||(v={}));var O=r(5088),I=r(8890);const U=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),T=Uint8Array.from({length:16},((t,e)=>e)),j=T.map((t=>(9*t+5)%16));let P=[T],L=[j];for(let t=0;t<4;t++)for(let e of[P,L])e.push(e[t].map((t=>U[t])));const C=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((t=>new Uint8Array(t))),R=P.map(((t,e)=>t.map((t=>C[e][t])))),F=L.map(((t,e)=>t.map((t=>C[e][t])))),N=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),D=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),$=(t,e)=>t<<e|t>>>32-e;function M(t,e,r,n){return 0===t?e^r^n:1===t?e&r|~e&n:2===t?(e|~r)^n:3===t?e&n|r&~n:e^(r|~n)}const z=new Uint32Array(16);class H extends O.N{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:e,h2:r,h3:n,h4:i}=this;return[t,e,r,n,i]}set(t,e,r,n,i){this.h0=0|t,this.h1=0|e,this.h2=0|r,this.h3=0|n,this.h4=0|i}process(t,e){for(let r=0;r<16;r++,e+=4)z[r]=t.getUint32(e,!0);let r=0|this.h0,n=r,i=0|this.h1,o=i,s=0|this.h2,a=s,u=0|this.h3,c=u,f=0|this.h4,h=f;for(let t=0;t<5;t++){const e=4-t,l=N[t],p=D[t],d=P[t],y=L[t],g=R[t],m=F[t];for(let e=0;e<16;e++){const n=$(r+M(t,i,s,u)+z[d[e]]+l,g[e])+f|0;r=f,f=u,u=0|$(s,10),s=i,i=n}for(let t=0;t<16;t++){const r=$(n+M(e,o,a,c)+z[y[t]]+p,m[t])+h|0;n=h,h=c,c=0|$(a,10),a=o,o=r}}this.set(this.h1+s+c|0,this.h2+u+h|0,this.h3+f+n|0,this.h4+r+o|0,this.h0+i+a|0)}roundClean(){z.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const K=(0,I.hE)((()=>new H));r(9027),r(9907);function q(t,e=a.Mainnet){t="string"==typeof t?t:t.toString("hex");var r,n,o;return o=(r=function(t,e){switch(t){case p.SerializeP2PKH:switch(e){case a.Mainnet:return d.MainnetSingleSig;case a.Testnet:return d.TestnetSingleSig;default:throw new Error(`Unexpected txVersion ${JSON.stringify(e)} for hashMode ${t}`)}case p.SerializeP2SH:case p.SerializeP2WPKH:case p.SerializeP2WSH:switch(e){case a.Mainnet:return d.MainnetMultiSig;case a.Testnet:return d.TestnetMultiSig;default:throw new Error(`Unexpected txVersion ${JSON.stringify(e)} for hashMode ${t}`)}default:throw new Error(`Unexpected hashMode ${JSON.stringify(t)}`)}}(p.SerializeP2PKH,e),n=(t=>x.lW.from(K((0,_.J)(t))))(x.lW.from(t,"hex")).toString("hex"),{type:i.Address,version:r,hash160:n}),(0,B.H4)(o.version,o.hash160).toString()}function V(t,e,r,n,i="ES256K",o=new Date,s=(0,x.NJ)()){if("ES256K"!==i)throw new Error("Signing algorithm not supported");const a=A.SECP256K1Client.derivePublicKey(e);r||(r={publicKey:a}),n||(n={publicKey:a});const u=new A.TokenSigner(i,e),c={jti:(0,x.gS)(),iat:o.toISOString(),exp:s.toISOString(),subject:r,issuer:n,claim:t};return u.sign(c)}function W(t,e=null){let r;r=e?function(t,e){const r=(0,A.decodeToken)(t),n=r.payload;if("string"==typeof n)throw new Error("Unexpected token payload type of string");if(!n.hasOwnProperty("subject")||!n.subject)throw new Error("Token doesn't have a subject");if(!n.subject.hasOwnProperty("publicKey"))throw new Error("Token doesn't have a subject public key");if(!n.hasOwnProperty("issuer")||!n.issuer)throw new Error("Token doesn't have an issuer");if(!n.issuer.hasOwnProperty("publicKey"))throw new Error("Token doesn't have an issuer public key");if(!n.hasOwnProperty("claim"))throw new Error("Token doesn't have a claim");const i=n.issuer.publicKey,o=q(i);if(e===i);else if(e!==o)throw new Error("Token issuer public key does not match the verifying value");const s=new A.TokenVerifier(r.header.alg,i);if(!s)throw new Error("Invalid token verifier");if(!s.verify(t))throw new Error("Token verification failed");return r}(t,e):(0,A.decodeToken)(t);let n={};if(r.hasOwnProperty("payload")){const t=r.payload;if("string"==typeof t)throw new Error("Unexpected token payload type of string");t.hasOwnProperty("claim")&&(n=t.claim)}return n}k.P6.hmacSha256Sync=(t,...e)=>{const r=S.b.create(_.J,t);return e.forEach((t=>r.update(t))),r.digest()}},9314:()=>{},7695:()=>{},9096:()=>{},1812:()=>{},1516:()=>{},5088:(t,e,r)=>{"use strict";r.d(e,{N:()=>i});var n=r(8890);class i extends n.kb{constructor(t,e,r,i){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,n.GL)(this.buffer)}update(t){if(this.destroyed)throw new Error("instance is destroyed");const{view:e,buffer:r,blockLen:i,finished:o}=this;if(o)throw new Error("digest() was already called");const s=(t=(0,n.O0)(t)).length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a!==i)r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(e,0),this.pos=0);else{const e=(0,n.GL)(t);for(;i<=s-o;o+=i)this.process(e,o)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){if(this.destroyed)throw new Error("instance is destroyed");if(!(t instanceof Uint8Array)||t.length<this.outputLen)throw new Error("_Sha2: Invalid output buffer");if(this.finished)throw new Error("digest() was already called");this.finished=!0;const{buffer:e,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;e[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let t=s;t<i;t++)e[t]=0;!function(t,e,r,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),u=n?4:0,c=n?0:4;t.setUint32(e+u,s,n),t.setUint32(e+c,a,n)}(r,i-8,BigInt(8*this.length),o),this.process(r,0);const a=(0,n.GL)(t);this.get().forEach(((t,e)=>a.setUint32(4*e,t,o)))}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return t.length=n,t.pos=s,t.finished=i,t.destroyed=o,n%e&&t.buffer.set(r),t}}},846:(t,e,r)=>{"use strict";r.d(e,{b:()=>o});var n=r(8890);class i extends n.kb{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,(0,n.Ke)(t);const r=(0,n.O0)(e);if(this.iHash=t.create(),!(this.iHash instanceof n.kb))throw new TypeError("Expected instance of class which extends utils.Hash");const i=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const o=new Uint8Array(i);o.set(r.length>this.iHash.blockLen?t.create().update(r).digest():r);for(let t=0;t<o.length;t++)o[t]^=54;this.iHash.update(o),this.oHash=t.create();for(let t=0;t<o.length;t++)o[t]^=106;this.oHash.update(o),o.fill(0)}update(t){if(this.destroyed)throw new Error("instance is destroyed");return this.iHash.update(t),this}digestInto(t){if(this.destroyed)throw new Error("instance is destroyed");if(!(t instanceof Uint8Array)||t.length!==this.outputLen)throw new Error("HMAC: Invalid output buffer");if(this.finished)throw new Error("digest() was already called");this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return t.finished=n,t.destroyed=i,t.blockLen=o,t.outputLen=s,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const o=(t,e,r)=>new i(t,e).update(r).digest();o.create=(t,e)=>new i(t,e)},3929:(t,e,r)=>{"use strict";r.d(e,{J:()=>f});var n=r(5088),i=r(8890);const o=(t,e,r)=>t&e^t&r^e&r,s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),u=new Uint32Array(64);class c extends n.N{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:t,B:e,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[t,e,r,n,i,o,s,a]}set(t,e,r,n,i,o,s,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(t,e){for(let r=0;r<16;r++,e+=4)u[r]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=u[t-15],r=u[t-2],n=(0,i.np)(e,7)^(0,i.np)(e,18)^e>>>3,o=(0,i.np)(r,17)^(0,i.np)(r,19)^r>>>10;u[t]=o+u[t-7]+n+u[t-16]|0}let{A:r,B:n,C:a,D:c,E:f,F:h,G:l,H:p}=this;for(let t=0;t<64;t++){const e=p+((0,i.np)(f,6)^(0,i.np)(f,11)^(0,i.np)(f,25))+((d=f)&h^~d&l)+s[t]+u[t]|0,y=((0,i.np)(r,2)^(0,i.np)(r,13)^(0,i.np)(r,22))+o(r,n,a)|0;p=l,l=h,h=f,f=c+e|0,c=a,a=n,n=r,r=e+y|0}var d;r=r+this.A|0,n=n+this.B|0,a=a+this.C|0,c=c+this.D|0,f=f+this.E|0,h=h+this.F|0,l=l+this.G|0,p=p+this.H|0,this.set(r,n,a,c,f,h,l,p)}roundClean(){u.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const f=(0,i.hE)((()=>new c))},9027:(t,e,r)=>{"use strict";r.d(e,{o:()=>O});var n=r(5088);const i=BigInt(2**32-1),o=BigInt(32);function s(t,e=!1){return e?{h:Number(t&i),l:Number(t>>o&i)}:{h:0|Number(t>>o&i),l:0|Number(t&i)}}const a=(t,e,r)=>t>>>r,u=(t,e,r)=>t<<32-r|e>>>r,c=(t,e,r)=>t>>>r|e<<32-r,f=(t,e,r)=>t<<32-r|e>>>r,h=(t,e,r)=>t<<64-r|e>>>r-32,l=(t,e,r)=>t>>>r-32|e<<64-r;function p(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:0|i}}const d=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),y=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,g=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),m=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,b=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),w=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0;var v=r(8890);const[E,A]=function(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:o,l:a}=s(t[i],e);[r[i],n[i]]=[o,a]}return[r,n]}(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((t=>BigInt(t)))),x=new Uint32Array(80),S=new Uint32Array(80);class _ extends n.N{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:r,Bl:n,Ch:i,Cl:o,Dh:s,Dl:a,Eh:u,El:c,Fh:f,Fl:h,Gh:l,Gl:p,Hh:d,Hl:y}=this;return[t,e,r,n,i,o,s,a,u,c,f,h,l,p,d,y]}set(t,e,r,n,i,o,s,a,u,c,f,h,l,p,d,y){this.Ah=0|t,this.Al=0|e,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|u,this.El=0|c,this.Fh=0|f,this.Fl=0|h,this.Gh=0|l,this.Gl=0|p,this.Hh=0|d,this.Hl=0|y}process(t,e){for(let r=0;r<16;r++,e+=4)x[r]=t.getUint32(e),S[r]=t.getUint32(e+=4);for(let t=16;t<80;t++){const e=0|x[t-15],r=0|S[t-15],n=c(e,r,1)^c(e,r,8)^a(e,0,7),i=f(e,r,1)^f(e,r,8)^u(e,r,7),o=0|x[t-2],s=0|S[t-2],p=c(o,s,19)^h(o,s,61)^a(o,0,6),d=f(o,s,19)^l(o,s,61)^u(o,s,6),y=g(i,d,S[t-7],S[t-16]),b=m(y,n,p,x[t-7],x[t-16]);x[t]=0|b,S[t]=0|y}let{Ah:r,Al:n,Bh:i,Bl:o,Ch:s,Cl:v,Dh:_,Dl:k,Eh:B,El:O,Fh:I,Fl:U,Gh:T,Gl:j,Hh:P,Hl:L}=this;for(let t=0;t<80;t++){const e=c(B,O,14)^c(B,O,18)^h(B,O,41),a=f(B,O,14)^f(B,O,18)^l(B,O,41),u=B&I^~B&T,g=b(L,a,O&U^~O&j,A[t],S[t]),m=w(g,P,e,u,E[t],x[t]),C=0|g,R=c(r,n,28)^h(r,n,34)^h(r,n,39),F=f(r,n,28)^l(r,n,34)^l(r,n,39),N=r&i^r&s^i&s,D=n&o^n&v^o&v;P=0|T,L=0|j,T=0|I,j=0|U,I=0|B,U=0|O,({h:B,l:O}=p(0|_,0|k,0|m,0|C)),_=0|s,k=0|v,s=0|i,v=0|o,i=0|r,o=0|n;const $=d(C,F,D);r=y($,m,R,N),n=0|$}({h:r,l:n}=p(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:o}=p(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:v}=p(0|this.Ch,0|this.Cl,0|s,0|v)),({h:_,l:k}=p(0|this.Dh,0|this.Dl,0|_,0|k)),({h:B,l:O}=p(0|this.Eh,0|this.El,0|B,0|O)),({h:I,l:U}=p(0|this.Fh,0|this.Fl,0|I,0|U)),({h:T,l:j}=p(0|this.Gh,0|this.Gl,0|T,0|j)),({h:P,l:L}=p(0|this.Hh,0|this.Hl,0|P,0|L)),this.set(r,n,i,o,s,v,_,k,B,O,I,U,T,j,P,L)}roundClean(){x.fill(0),S.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class k extends _{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class B extends _{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const O=(0,v.hE)((()=>new _));(0,v.hE)((()=>new k)),(0,v.hE)((()=>new B))},8890:(t,e,r)=>{"use strict";r.d(e,{kb:()=>u,Ke:()=>a,GL:()=>n,np:()=>i,O0:()=>o,hE:()=>c}),"object"==typeof self&&"crypto"in self&&self.crypto;const n=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),i=(t,e)=>t<<32-e|t>>>e;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function o(t){if("string"==typeof t&&(t=function(t){if("string"!=typeof t)throw new TypeError("utf8ToBytes expected string, got "+typeof t);return(new TextEncoder).encode(t)}(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}function s(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function a(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");s(t.outputLen),s(t.blockLen)}Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0"))),(()=>{const t="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);try{if(t){const{setImmediate:e}=t("timers")}}catch(t){}})();class u{clone(){return this._cloneInto()}}function c(t){const e=e=>t().update(o(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}},9580:(t,e,r)=>{"use strict";r.d(e,{$3:()=>M,E9:()=>y,P6:()=>J,ZV:()=>H,kS:()=>W});var n=r(9314);const i=BigInt(0),o=BigInt(1),s=BigInt(2),a=BigInt(3),u=BigInt(8),c=s**BigInt(256),f={a:i,b:BigInt(7),P:c-s**BigInt(32)-BigInt(977),n:c-BigInt("432420386565659656852420866394968145599"),h:o,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")};function h(t){const{a:e,b:r}=f,n=U(t*t),i=U(n*t);return U(i+e*t+r)}const l=f.a===i;class p{constructor(t,e,r){this.x=t,this.y=e,this.z=r}static fromAffine(t){if(!(t instanceof y))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new p(t.x,t.y,o)}static toAffineBatch(t){const e=function(t,e=f.P){const r=new Array(t.length),n=j(t.reduce(((t,n,o)=>n===i?t:(r[o]=t,U(t*n,e))),o),e);return t.reduceRight(((t,n,o)=>n===i?t:(r[o]=U(t*r[o],e),U(t*n,e))),n),r}(t.map((t=>t.z)));return t.map(((t,r)=>t.toAffine(e[r])))}static normalizeZ(t){return p.toAffineBatch(t).map(p.fromAffine)}equals(t){if(!(t instanceof p))throw new TypeError("JacobianPoint expected");const{x:e,y:r,z:n}=this,{x:i,y:o,z:a}=t,u=U(n**s),c=U(a**s),f=U(e*c),h=U(i*u),l=U(U(r*a)*c),d=U(U(o*n)*u);return f===h&&l===d}negate(){return new p(this.x,U(-this.y),this.z)}double(){const{x:t,y:e,z:r}=this,n=U(t**s),i=U(e**s),o=U(i**s),c=U(s*(U((t+i)**s)-n-o)),f=U(a*n),h=U(f**s),l=U(h-s*c),d=U(f*(c-l)-u*o),y=U(s*e*r);return new p(l,d,y)}add(t){if(!(t instanceof p))throw new TypeError("JacobianPoint expected");const{x:e,y:r,z:n}=this,{x:o,y:a,z:u}=t;if(o===i||a===i)return this;if(e===i||r===i)return t;const c=U(n**s),f=U(u**s),h=U(e*f),l=U(o*c),d=U(U(r*u)*f),y=U(U(a*n)*c),g=U(l-h),m=U(y-d);if(g===i)return m===i?this.double():p.ZERO;const b=U(g**s),w=U(g*b),v=U(h*b),E=U(m**s-w-s*v),A=U(m*(v-E)-d*w),x=U(n*u*g);return new p(E,A,x)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){let e=I(t);p.BASE;const r=p.ZERO;if(e===i)return r;if(e===o)return this;if(!l){let t=r,n=this;for(;e>i;)e&o&&(t=t.add(n)),n=n.double(),e>>=o;return t}let{k1neg:n,k1:s,k2neg:a,k2:u}=C(e),c=r,h=r,d=this;for(;s>i||u>i;)s&o&&(c=c.add(d)),u&o&&(h=h.add(d)),d=d.double(),s>>=o,u>>=o;return n&&(c=c.negate()),a&&(h=h.negate()),h=new p(U(h.x*f.beta),h.y,h.z),c.add(h)}precomputeWindow(t){const e=l?128/t+1:256/t+1,r=[];let n=this,i=n;for(let o=0;o<e;o++){i=n,r.push(i);for(let e=1;e<2**(t-1);e++)i=i.add(n),r.push(i);n=i.double()}return r}wNAF(t,e){!e&&this.equals(p.BASE)&&(e=y.BASE);const r=e&&e._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=e&&d.get(e);n||(n=this.precomputeWindow(r),e&&1!==r&&(n=p.normalizeZ(n),d.set(e,n)));let i=p.ZERO,s=p.ZERO;const a=1+(l?128/r:256/r),u=2**(r-1),c=BigInt(2**r-1),f=2**r,h=BigInt(r);for(let e=0;e<a;e++){const r=e*u;let a=Number(t&c);if(t>>=h,a>u&&(a-=f,t+=o),0===a){let t=n[r];e%2&&(t=t.negate()),s=s.add(t)}else{let t=n[r+Math.abs(a)-1];a<0&&(t=t.negate()),i=i.add(t)}}return{p:i,f:s}}multiply(t,e){let r,n,i=I(t);if(l){const{k1neg:t,k1:o,k2neg:s,k2:a}=C(i);let{p:u,f:c}=this.wNAF(o,e),{p:h,f:l}=this.wNAF(a,e);t&&(u=u.negate()),s&&(h=h.negate()),h=new p(U(h.x*f.beta),h.y,h.z),r=u.add(h),n=c.add(l)}else{const{p:t,f:o}=this.wNAF(i,e);r=t,n=o}return p.normalizeZ([r,n])[0]}toAffine(t=j(this.z)){const{x:e,y:r,z:n}=this,i=t,s=U(i*i),a=U(s*i),u=U(e*s),c=U(r*a);if(U(n*i)!==o)throw new Error("invZ was invalid");return new y(u,c)}}p.BASE=new p(f.Gx,f.Gy,o),p.ZERO=new p(i,o,i);const d=new WeakMap;class y{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,d.delete(this)}static fromCompressedHex(t){const e=32===t.length,r=B(e?t:t.subarray(1));if(!N(r))throw new Error("Point is not on curve");let n=function(t){const{P:e}=f,r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),u=BigInt(44),c=BigInt(88),h=t*t*t%e,l=h*h*t%e,p=T(l,a)*l%e,d=T(p,a)*l%e,y=T(d,s)*h%e,g=T(y,n)*y%e,m=T(g,i)*g%e,b=T(m,u)*m%e,w=T(b,c)*b%e,v=T(w,u)*m%e,E=T(v,a)*l%e,A=T(E,o)*g%e,x=T(A,r)*h%e;return T(x,s)}(h(r));const i=(n&o)===o;e?i&&(n=U(-n)):1==(1&t[0])!==i&&(n=U(-n));const u=new y(r,n);return u.assertValidity(),u}static fromUncompressedHex(t){const e=B(t.subarray(1,33)),r=B(t.subarray(33,65)),n=new y(e,r);return n.assertValidity(),n}static fromHex(t){const e=O(t),r=e.length,n=e[0];if(32===r||33===r&&(2===n||3===n))return this.fromCompressedHex(e);if(65===r&&4===n)return this.fromUncompressedHex(e);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${r}`)}static fromPrivateKey(t){return y.BASE.multiply($(t))}static fromSignature(t,e,r){const n=function(t){const{n:e}=f,r=8*t.length-256;let n=B(t);return r>0&&(n>>=BigInt(r)),n>=e&&(n-=e),n}(t=O(t)),{r:o,s}=function(t){if(t instanceof b)return t.assertValidity(),t;try{return b.fromDER(t)}catch(e){return b.fromCompact(t)}}(e);if(0!==r&&1!==r)throw new Error("Cannot recover signature: invalid recovery bit");if(n===i)throw new Error("Cannot recover signature: msgHash cannot be 0");const a=1&r?"03":"02",u=y.fromHex(a+x(o)),{n:c}=f,h=j(o,c),l=U(-n*h,c),p=U(s*h,c),d=y.BASE.multiplyAndAddUnsafe(u,l,p);if(!d)throw new Error("Cannot recover signature: point at infinify");return d.assertValidity(),d}toRawBytes(t=!1){return k(this.toHex(t))}toHex(t=!1){const e=x(this.x);return t?`${this.y&o?"03":"02"}${e}`:`04${e}${x(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:e,y:r}=this;if(!N(e)||!N(r))throw new Error(t);const n=U(r*r);if(U(n-h(e))!==i)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new y(this.x,U(-this.y))}double(){return p.fromAffine(this).double().toAffine()}add(t){return p.fromAffine(this).add(p.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return p.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,r){const n=p.fromAffine(this).multiply(e),i=p.fromAffine(t).multiplyUnsafe(r),o=n.add(i);return o.equals(p.ZERO)?void 0:o.toAffine()}}function g(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function m(t){if(t.length<2||2!==t[0])throw new Error(`Invalid signature integer tag: ${A(t)}`);const e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(0===r[0]&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:B(r),left:t.subarray(e+2)}}y.BASE=new y(f.Gx,f.Gy),y.ZERO=new y(i,i);class b{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){const e=v(t),r="Signature.fromCompact";if("string"!=typeof t&&!e)throw new TypeError(`${r}: Expected string or Uint8Array`);const n=e?A(t):t;if(128!==n.length)throw new Error(`${r}: Expected 64-byte hex`);return new b(_(n.slice(0,64)),_(n.slice(64,128)))}static fromDER(t){const e=v(t);if("string"!=typeof t&&!e)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r,s:n}=function(t){if(t.length<2||48!=t[0])throw new Error(`Invalid signature tag: ${A(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:r}=m(t.subarray(2)),{data:n,left:i}=m(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${A(i)}`);return{r:e,s:n}}(e?t:k(t));return new b(r,n)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:e}=this;if(!F(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!F(e))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const t=f.n>>o;return this.s>t}normalizeS(){return this.hasHighS()?new b(this.r,f.n-this.s):this}toDERRawBytes(t=!1){return k(this.toDERHex(t))}toDERHex(t=!1){const e=g(S(this.s));if(t)return e;const r=g(S(this.r)),n=S(r.length/2),i=S(e.length/2);return`30${S(r.length/2+e.length/2+4)}02${n}${r}02${i}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return k(this.toCompactHex())}toCompactHex(){return x(this.r)+x(this.s)}}function w(...t){if(!t.every(v))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),r=new Uint8Array(e);for(let e=0,n=0;e<t.length;e++){const i=t[e];r.set(i,n),n+=i.length}return r}function v(t){return t instanceof Uint8Array}const E=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function A(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=E[t[r]];return e}function x(t){if(t>c)throw new Error("Expected number < 2^256");return t.toString(16).padStart(64,"0")}function S(t){const e=t.toString(16);return 1&e.length?`0${e}`:e}function _(t){if("string"!=typeof t)throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function k(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=2*r,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function B(t){return _(A(t))}function O(t){return t instanceof Uint8Array?Uint8Array.from(t):k(t)}function I(t){if("number"==typeof t&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if("bigint"==typeof t&&F(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function U(t,e=f.P){const r=t%e;return r>=i?r:e+r}function T(t,e){const{P:r}=f;let n=t;for(;e-- >i;)n*=n,n%=r;return n}function j(t,e=f.P){if(t===i||e<=i)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=U(t,e),n=e,s=i,a=o,u=o,c=i;for(;r!==i;){const t=n/r,e=n%r,i=s-u*t,o=a-c*t;n=r,r=e,s=u,a=c,u=i,c=o}if(n!==o)throw new Error("invert: does not exist");return U(s,e)}const P=(t,e)=>(t+e/s)/e,L=s**BigInt(128);function C(t){const{n:e}=f,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-o*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=P(s*t,e),u=P(-n*t,e);let c=U(t-a*r-u*i,e),h=U(-a*n-u*s,e);const l=c>L,p=h>L;if(l&&(c=e-c),p&&(h=e-h),c>L||h>L)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:l,k1:c,k2neg:p,k2:h}}class R{constructor(){this.v=new Uint8Array(32).fill(1),this.k=new Uint8Array(32).fill(0),this.counter=0}hmac(...t){return J.hmacSha256(this.k,...t)}hmacSync(...t){if("function"!=typeof J.hmacSha256Sync)throw new Error("utils.hmacSha256Sync is undefined, you need to set it");const e=J.hmacSha256Sync(this.k,...t);if(e instanceof Promise)throw new Error("To use sync sign(), ensure utils.hmacSha256 is sync");return e}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),0!==t.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),0!==t.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){return this.incr(),this.v=await this.hmac(this.v),this.v}generateSync(){return this.incr(),this.v=this.hmacSync(this.v),this.v}}function F(t){return i<t&&t<f.n}function N(t){return i<t&&t<f.P}function D(t,e,r){const n=B(t);if(!F(n))return;const{n:s}=f,a=y.BASE.multiply(n),u=U(a.x,s);if(u===i)return;const c=U(j(n,s)*U(e+r*u,s),s);if(c===i)return;const h=new b(u,c);return{sig:h,recovery:(a.x===h.r?0:2)|Number(a.y&o)}}function $(t){let e;if("bigint"==typeof t)e=t;else if("number"==typeof t&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if("string"==typeof t){if(64!==t.length)throw new Error("Expected 32 bytes of private key");e=_(t)}else{if(!v(t))throw new TypeError("Expected valid private key");if(32!==t.length)throw new Error("Expected 32 bytes of private key");e=B(t)}if(!F(e))throw new Error("Expected private key: 0 < key < n");return e}function M(t,e=!1){return y.fromPrivateKey(t).toRawBytes(e)}function z(t){const e=v(t),r="string"==typeof t,n=(e||r)&&t.length;return e?33===n||65===n:r?66===n||130===n:t instanceof y}function H(t,e,r=!1){if(z(t))throw new TypeError("getSharedSecret: first arg must be private key");if(!z(e))throw new TypeError("getSharedSecret: second arg must be public key");const n=(i=e)instanceof y?(i.assertValidity(),i):y.fromHex(i);var i;return n.assertValidity(),n.multiply($(t)).toRawBytes(r)}function K(t){return B(t.length>32?t.slice(0,32):t)}function q(t){const e=K(t),r=U(e,f.n);return V(r<i?e:r)}function V(t){if("bigint"!=typeof t)throw new Error("Expected bigint");return k(x(t))}function W(t,e,r={}){const{seed:n,m:i,d:o}=function(t,e,r){if(null==t)throw new Error(`sign: expected valid message hash, not "${t}"`);const n=O(t),i=$(e),o=[V(i),q(n)];if(null!=r){!0===r&&(r=J.randomBytes(32));const t=O(r);if(32!==t.length)throw new Error("sign: Expected 32 bytes of extra data");o.push(t)}return{seed:w(...o),m:K(n),d:i}}(t,e,r.extraEntropy);let s;const a=new R;for(a.reseedSync(n);!(s=D(a.generateSync(),i,o));)a.reseedSync();return function(t,e){let{sig:r,recovery:n}=t;const{canonical:i,der:o,recovered:s}=Object.assign({canonical:!0,der:!0},e);i&&r.hasHighS()&&(r=r.normalizeS(),n^=1);const a=o?r.toDERRawBytes():r.toCompactRawBytes();return s?[a,n]:a}(s,r)}y.BASE._setWindowSize(8);const G={node:n,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},J={isValidPrivateKey(t){try{return $(t),!0}catch(t){return!1}},hashToPrivateKey:t=>{if((t=O(t)).length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");const e=U(B(t),f.n);if(e===i||e===o)throw new Error("Invalid private key");return function(t){return k(x(t))}(e)},randomBytes:(t=32)=>{if(G.web)return G.web.getRandomValues(new Uint8Array(t));if(G.node){const{randomBytes:e}=G.node;return Uint8Array.from(e(t))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>J.hashToPrivateKey(J.randomBytes(40)),bytesToHex:A,mod:U,sha256:async t=>{if(G.web){const e=await G.web.subtle.digest("SHA-256",t.buffer);return new Uint8Array(e)}if(G.node){const{createHash:e}=G.node;return Uint8Array.from(e("sha256").update(t).digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(G.web){const r=await G.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=w(...e),i=await G.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}if(G.node){const{createHmac:r}=G.node,n=r("sha256",t);return e.forEach((t=>n.update(t))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,precompute(t=8,e=y.BASE){const r=e===y.BASE?e:new y(e.x,e.y);return r._setWindowSize(t),r.multiply(a),r}}}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var n={};return(()=>{"use strict";r.r(n),r.d(n,{AppConfig:()=>t.X,AuthScope:()=>u.f0,BLOCKSTACK_APP_PRIVATE_KEY_LABEL:()=>u.wR,BLOCKSTACK_HANDLER:()=>u.ym,BLOCKSTACK_STORAGE_LABEL:()=>u.RS,DEFAULT_BLOCKSTACK_HOST:()=>u._G,DEFAULT_CORE_NODE:()=>u.ud,DEFAULT_PROFILE:()=>u.lB,DEFAULT_SCOPE:()=>u.f3,LOCALSTORAGE_SESSION_KEY:()=>u.aL,NAME_LOOKUP_PATH:()=>u.z1,UserSession:()=>a.V,decryptPrivateKey:()=>e.ph,doPublicKeysMatchIssuer:()=>o.K8,doSignaturesMatchPublicKeys:()=>o.si,fetchAppManifest:()=>i.s,getAddressFromDID:()=>s.th,getAuthRequestFromURL:()=>i.z,getDIDType:()=>s.J,isExpirationDateValid:()=>o.fI,isIssuanceDateValid:()=>o.uk,isManifestUriValid:()=>o.vl,isRedirectUriValid:()=>o.mb,lookupProfile:()=>c.N,makeAuthRequest:()=>e.R$,makeAuthResponse:()=>e.q8,makeDIDFromAddress:()=>s.xQ,makeDIDFromPublicKey:()=>s.yz,verifyAuthRequest:()=>o.fZ,verifyAuthRequestAndLoadManifest:()=>o.Lw,verifyAuthResponse:()=>o.Oy});var t=r(5090),e=r(3750),i=r(5376),o=r(1571),s=r(6873),a=r(9687),u=r(526),c=r(131),f=r(4630),h={};for(const t in f)["default","AppConfig","makeAuthRequest","makeAuthResponse","decryptPrivateKey","getAuthRequestFromURL","fetchAppManifest","verifyAuthRequest","verifyAuthResponse","isExpirationDateValid","isIssuanceDateValid","doPublicKeysMatchIssuer","doSignaturesMatchPublicKeys","isManifestUriValid","isRedirectUriValid","verifyAuthRequestAndLoadManifest","UserSession","getAddressFromDID","getDIDType","makeDIDFromAddress","makeDIDFromPublicKey","AuthScope","BLOCKSTACK_APP_PRIVATE_KEY_LABEL","BLOCKSTACK_HANDLER","BLOCKSTACK_STORAGE_LABEL","DEFAULT_BLOCKSTACK_HOST","DEFAULT_CORE_NODE","DEFAULT_PROFILE","DEFAULT_SCOPE","LOCALSTORAGE_SESSION_KEY","NAME_LOOKUP_PATH","lookupProfile"].indexOf(t)<0&&(h[t]=()=>f[t]);r.d(n,h)})(),n})()));
//# sourceMappingURL=index.js.map