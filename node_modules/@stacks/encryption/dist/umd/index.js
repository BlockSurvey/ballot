/*! For license information please see index.js.LICENSE.txt */
!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.StacksEncryption=e():n.StacksEncryption=e()}(this,(()=>(()=>{var n,e,t={525:(n,e)=>{"use strict";function t(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function r(n){if("boolean"!=typeof n)throw new Error(`Expected boolean, not ${n}`)}function o(n,...e){if(!(n instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(n.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${n.length}`)}function i(n){if("function"!=typeof n||"function"!=typeof n.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");t(n.outputLen),t(n.blockLen)}function s(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function a(n,e){o(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}Object.defineProperty(e,"__esModule",{value:!0}),e.output=e.exists=e.hash=e.bytes=e.bool=e.number=void 0,e.number=t,e.bool=r,e.bytes=o,e.hash=i,e.exists=s,e.output=a;const c={number:t,bool:r,bytes:o,hash:i,exists:s,output:a};e.default=c},350:(n,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SHA2=void 0;const r=t(525),o=t(64);class i extends o.Hash{constructor(n,e,t,r){super(),this.blockLen=n,this.outputLen=e,this.padOffset=t,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(n),this.view=(0,o.createView)(this.buffer)}update(n){r.default.exists(this);const{view:e,buffer:t,blockLen:i}=this,s=(n=(0,o.toBytes)(n)).length;for(let r=0;r<s;){const a=Math.min(i-this.pos,s-r);if(a!==i)t.set(n.subarray(r,r+a),this.pos),this.pos+=a,r+=a,this.pos===i&&(this.process(e,0),this.pos=0);else{const e=(0,o.createView)(n);for(;i<=s-r;r+=i)this.process(e,r)}}return this.length+=n.length,this.roundClean(),this}digestInto(n){r.default.exists(this),r.default.output(n,this),this.finished=!0;const{buffer:e,view:t,blockLen:i,isLE:s}=this;let{pos:a}=this;e[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(t,0),a=0);for(let n=a;n<i;n++)e[n]=0;!function(n,e,t,r){if("function"==typeof n.setBigUint64)return n.setBigUint64(e,t,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(t>>o&i),a=Number(t&i),c=r?4:0,h=r?0:4;n.setUint32(e+c,s,r),n.setUint32(e+h,a,r)}(t,i-8,BigInt(8*this.length),s),this.process(t,0);const c=(0,o.createView)(n);this.get().forEach(((n,e)=>c.setUint32(4*e,n,s)))}digest(){const{buffer:n,outputLen:e}=this;this.digestInto(n);const t=n.slice(0,e);return this.destroy(),t}_cloneInto(n){n||(n=new this.constructor),n.set(...this.get());const{blockLen:e,buffer:t,length:r,finished:o,destroyed:i,pos:s}=this;return n.length=r,n.pos=s,n.finished=o,n.destroyed=i,r%e&&n.buffer.set(t),n}}e.SHA2=i},655:(n,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.add=e.toBig=e.split=e.fromBig=void 0;const t=BigInt(2**32-1),r=BigInt(32);function o(n,e=!1){return e?{h:Number(n&t),l:Number(n>>r&t)}:{h:0|Number(n>>r&t),l:0|Number(n&t)}}function i(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let i=0;i<n.length;i++){const{h:s,l:a}=o(n[i],e);[t[i],r[i]]=[s,a]}return[t,r]}function s(n,e,t,r){const o=(e>>>0)+(r>>>0);return{h:n+t+(o/2**32|0)|0,l:0|o}}e.fromBig=o,e.split=i,e.toBig=(n,e)=>BigInt(n>>>0)<<r|BigInt(e>>>0),e.add=s;const a={fromBig:o,split:i,toBig:e.toBig,shrSH:(n,e,t)=>n>>>t,shrSL:(n,e,t)=>n<<32-t|e>>>t,rotrSH:(n,e,t)=>n>>>t|e<<32-t,rotrSL:(n,e,t)=>n<<32-t|e>>>t,rotrBH:(n,e,t)=>n<<64-t|e>>>t-32,rotrBL:(n,e,t)=>n>>>t-32|e<<64-t,rotr32H:(n,e)=>e,rotr32L:(n,e)=>n,rotlSH:(n,e,t)=>n<<t|e>>>32-t,rotlSL:(n,e,t)=>e<<t|n>>>32-t,rotlBH:(n,e,t)=>e<<t-32|n>>>64-t,rotlBL:(n,e,t)=>n<<t-32|e>>>64-t,add:s,add3L:(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),add3H:(n,e,t,r)=>e+t+r+(n/2**32|0)|0,add4L:(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),add4H:(n,e,t,r,o)=>e+t+r+o+(n/2**32|0)|0,add5H:(n,e,t,r,o,i)=>e+t+r+o+i+(n/2**32|0)|0,add5L:(n,e,t,r,o)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(o>>>0)};e.default=a},661:(n,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.crypto=void 0,e.crypto={node:void 0,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0}},377:(n,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=void 0;const r=t(525),o=t(64);class i extends o.Hash{constructor(n,e){super(),this.finished=!1,this.destroyed=!1,r.default.hash(n);const t=(0,o.toBytes)(e);if(this.iHash=n.create(),!(this.iHash instanceof o.Hash))throw new TypeError("Expected instance of class which extends utils.Hash");const i=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const s=new Uint8Array(i);s.set(t.length>this.iHash.blockLen?n.create().update(t).digest():t);for(let n=0;n<s.length;n++)s[n]^=54;this.iHash.update(s),this.oHash=n.create();for(let n=0;n<s.length;n++)s[n]^=106;this.oHash.update(s),s.fill(0)}update(n){return r.default.exists(this),this.iHash.update(n),this}digestInto(n){r.default.exists(this),r.default.bytes(n,this.outputLen),this.finished=!0,this.iHash.digestInto(n),this.oHash.update(n),this.oHash.digestInto(n),this.destroy()}digest(){const n=new Uint8Array(this.oHash.outputLen);return this.digestInto(n),n}_cloneInto(n){n||(n=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:t,finished:r,destroyed:o,blockLen:i,outputLen:s}=this;return n.finished=r,n.destroyed=o,n.blockLen=i,n.outputLen=s,n.oHash=e._cloneInto(n.oHash),n.iHash=t._cloneInto(n.iHash),n}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.hmac=(n,e,t)=>new i(n,e).update(t).digest(),e.hmac.create=(n,e)=>new i(n,e)},179:(n,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pbkdf2Async=e.pbkdf2=void 0;const r=t(525),o=t(377),i=t(64);function s(n,e,t,s){r.default.hash(n);const a=(0,i.checkOpts)({dkLen:32,asyncTick:10},s),{c,dkLen:h,asyncTick:f}=a;if(r.default.number(c),r.default.number(h),r.default.number(f),c<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const u=(0,i.toBytes)(e),l=(0,i.toBytes)(t),d=new Uint8Array(h),p=o.hmac.create(n,u),y=p._cloneInto().update(l);return{c,dkLen:h,asyncTick:f,DK:d,PRF:p,PRFSalt:y}}function a(n,e,t,r,o){return n.destroy(),e.destroy(),r&&r.destroy(),o.fill(0),t}e.pbkdf2=function(n,e,t,r){const{c:o,dkLen:c,DK:h,PRF:f,PRFSalt:u}=s(n,e,t,r);let l;const d=new Uint8Array(4),p=(0,i.createView)(d),y=new Uint8Array(f.outputLen);for(let n=1,e=0;e<c;n++,e+=f.outputLen){const t=h.subarray(e,e+f.outputLen);p.setInt32(0,n,!1),(l=u._cloneInto(l)).update(d).digestInto(y),t.set(y.subarray(0,t.length));for(let n=1;n<o;n++){f._cloneInto(l).update(y).digestInto(y);for(let n=0;n<t.length;n++)t[n]^=y[n]}}return a(f,u,h,l,y)},e.pbkdf2Async=async function(n,e,t,r){const{c:o,dkLen:c,asyncTick:h,DK:f,PRF:u,PRFSalt:l}=s(n,e,t,r);let d;const p=new Uint8Array(4),y=(0,i.createView)(p),g=new Uint8Array(u.outputLen);for(let n=1,e=0;e<c;n++,e+=u.outputLen){const t=f.subarray(e,e+u.outputLen);y.setInt32(0,n,!1),(d=l._cloneInto(d)).update(p).digestInto(g),t.set(g.subarray(0,t.length)),await(0,i.asyncLoop)(o-1,h,(n=>{u._cloneInto(d).update(g).digestInto(g);for(let n=0;n<t.length;n++)t[n]^=g[n]}))}return a(u,l,f,d,g)}},53:(n,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sha256=void 0;const r=t(350),o=t(64),i=(n,e,t)=>n&e^n&t^e&t,s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class h extends r.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:n,B:e,C:t,D:r,E:o,F:i,G:s,H:a}=this;return[n,e,t,r,o,i,s,a]}set(n,e,t,r,o,i,s,a){this.A=0|n,this.B=0|e,this.C=0|t,this.D=0|r,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|a}process(n,e){for(let t=0;t<16;t++,e+=4)c[t]=n.getUint32(e,!1);for(let n=16;n<64;n++){const e=c[n-15],t=c[n-2],r=(0,o.rotr)(e,7)^(0,o.rotr)(e,18)^e>>>3,i=(0,o.rotr)(t,17)^(0,o.rotr)(t,19)^t>>>10;c[n]=i+c[n-7]+r+c[n-16]|0}let{A:t,B:r,C:a,D:h,E:f,F:u,G:l,H:d}=this;for(let n=0;n<64;n++){const e=d+((0,o.rotr)(f,6)^(0,o.rotr)(f,11)^(0,o.rotr)(f,25))+((p=f)&u^~p&l)+s[n]+c[n]|0,y=((0,o.rotr)(t,2)^(0,o.rotr)(t,13)^(0,o.rotr)(t,22))+i(t,r,a)|0;d=l,l=u,u=f,f=h+e|0,h=a,a=r,r=t,t=e+y|0}var p;t=t+this.A|0,r=r+this.B|0,a=a+this.C|0,h=h+this.D|0,f=f+this.E|0,u=u+this.F|0,l=l+this.G|0,d=d+this.H|0,this.set(t,r,a,h,f,u,l,d)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}e.sha256=(0,o.wrapConstructor)((()=>new h))},540:(n,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sha384=e.sha512_256=e.sha512=e.SHA512=void 0;const r=t(350),o=t(655),i=t(64),[s,a]=o.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((n=>BigInt(n)))),c=new Uint32Array(80),h=new Uint32Array(80);class f extends r.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:n,Al:e,Bh:t,Bl:r,Ch:o,Cl:i,Dh:s,Dl:a,Eh:c,El:h,Fh:f,Fl:u,Gh:l,Gl:d,Hh:p,Hl:y}=this;return[n,e,t,r,o,i,s,a,c,h,f,u,l,d,p,y]}set(n,e,t,r,o,i,s,a,c,h,f,u,l,d,p,y){this.Ah=0|n,this.Al=0|e,this.Bh=0|t,this.Bl=0|r,this.Ch=0|o,this.Cl=0|i,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|h,this.Fh=0|f,this.Fl=0|u,this.Gh=0|l,this.Gl=0|d,this.Hh=0|p,this.Hl=0|y}process(n,e){for(let t=0;t<16;t++,e+=4)c[t]=n.getUint32(e),h[t]=n.getUint32(e+=4);for(let n=16;n<80;n++){const e=0|c[n-15],t=0|h[n-15],r=o.default.rotrSH(e,t,1)^o.default.rotrSH(e,t,8)^o.default.shrSH(e,t,7),i=o.default.rotrSL(e,t,1)^o.default.rotrSL(e,t,8)^o.default.shrSL(e,t,7),s=0|c[n-2],a=0|h[n-2],f=o.default.rotrSH(s,a,19)^o.default.rotrBH(s,a,61)^o.default.shrSH(s,a,6),u=o.default.rotrSL(s,a,19)^o.default.rotrBL(s,a,61)^o.default.shrSL(s,a,6),l=o.default.add4L(i,u,h[n-7],h[n-16]),d=o.default.add4H(l,r,f,c[n-7],c[n-16]);c[n]=0|d,h[n]=0|l}let{Ah:t,Al:r,Bh:i,Bl:f,Ch:u,Cl:l,Dh:d,Dl:p,Eh:y,El:g,Fh:b,Fl:w,Gh:m,Gl:E,Hh:v,Hl:x}=this;for(let n=0;n<80;n++){const e=o.default.rotrSH(y,g,14)^o.default.rotrSH(y,g,18)^o.default.rotrBH(y,g,41),A=o.default.rotrSL(y,g,14)^o.default.rotrSL(y,g,18)^o.default.rotrBL(y,g,41),B=y&b^~y&m,k=g&w^~g&E,I=o.default.add5L(x,A,k,a[n],h[n]),U=o.default.add5H(I,v,e,B,s[n],c[n]),S=0|I,_=o.default.rotrSH(t,r,28)^o.default.rotrBH(t,r,34)^o.default.rotrBH(t,r,39),T=o.default.rotrSL(t,r,28)^o.default.rotrBL(t,r,34)^o.default.rotrBL(t,r,39),L=t&i^t&u^i&u,H=r&f^r&l^f&l;v=0|m,x=0|E,m=0|b,E=0|w,b=0|y,w=0|g,({h:y,l:g}=o.default.add(0|d,0|p,0|U,0|S)),d=0|u,p=0|l,u=0|i,l=0|f,i=0|t,f=0|r;const C=o.default.add3L(S,T,H);t=o.default.add3H(C,U,_,L),r=0|C}({h:t,l:r}=o.default.add(0|this.Ah,0|this.Al,0|t,0|r)),({h:i,l:f}=o.default.add(0|this.Bh,0|this.Bl,0|i,0|f)),({h:u,l}=o.default.add(0|this.Ch,0|this.Cl,0|u,0|l)),({h:d,l:p}=o.default.add(0|this.Dh,0|this.Dl,0|d,0|p)),({h:y,l:g}=o.default.add(0|this.Eh,0|this.El,0|y,0|g)),({h:b,l:w}=o.default.add(0|this.Fh,0|this.Fl,0|b,0|w)),({h:m,l:E}=o.default.add(0|this.Gh,0|this.Gl,0|m,0|E)),({h:v,l:x}=o.default.add(0|this.Hh,0|this.Hl,0|v,0|x)),this.set(t,r,i,f,u,l,d,p,y,g,b,w,m,E,v,x)}roundClean(){c.fill(0),h.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}e.SHA512=f;class u extends f{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class l extends f{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}e.sha512=(0,i.wrapConstructor)((()=>new f)),e.sha512_256=(0,i.wrapConstructor)((()=>new u)),e.sha384=(0,i.wrapConstructor)((()=>new l))},64:(n,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const r=t(661);if(e.u8=n=>new Uint8Array(n.buffer,n.byteOffset,n.byteLength),e.u32=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),e.createView=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),e.rotr=(n,e)=>n<<32-e|n>>>e,e.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!e.isLE)throw new Error("Non little-endian hardware is not supported");const o=Array.from({length:256},((n,e)=>e.toString(16).padStart(2,"0")));function i(n){if("string"!=typeof n)throw new TypeError("utf8ToBytes expected string, got "+typeof n);return(new TextEncoder).encode(n)}function s(n){if("string"==typeof n&&(n=i(n)),!(n instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof n})`);return n}e.bytesToHex=function(n){if(!(n instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let t=0;t<n.length;t++)e+=o[n[t]];return e},e.hexToBytes=function(n){if("string"!=typeof n)throw new TypeError("hexToBytes: expected string, got "+typeof n);if(n.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(n.length/2);for(let t=0;t<e.length;t++){const r=2*t,o=n.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[t]=i}return e},e.nextTick=async()=>{},e.asyncLoop=async function(n,t,r){let o=Date.now();for(let i=0;i<n;i++){r(i);const n=Date.now()-o;n>=0&&n<t||(await(0,e.nextTick)(),o+=n)}},e.utf8ToBytes=i,e.toBytes=s,e.concatBytes=function(...n){if(!n.every((n=>n instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===n.length)return n[0];const e=n.reduce(((n,e)=>n+e.length),0),t=new Uint8Array(e);for(let e=0,r=0;e<n.length;e++){const o=n[e];t.set(o,r),r+=o.length}return t},e.Hash=class{clone(){return this._cloneInto()}},e.checkOpts=function(n,e){if(void 0!==e&&("object"!=typeof e||(t=e,"[object Object]"!==Object.prototype.toString.call(t)||t.constructor!==Object)))throw new TypeError("Options should be object or undefined");var t;return Object.assign(n,e)},e.wrapConstructor=function(n){const e=e=>n().update(s(e)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e},e.wrapConstructorWithOpts=function(n){const e=(e,t)=>n(t).update(s(e)).digest(),t=n({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=e=>n(e),e},e.randomBytes=function(n=32){if(r.crypto.web)return r.crypto.web.getRandomValues(new Uint8Array(n));if(r.crypto.node)return new Uint8Array(r.crypto.node.randomBytes(n).buffer);throw new Error("The environment doesn't have randomBytes function")}},237:(n,e)=>{"use strict";function t(n){if(!Number.isSafeInteger(n))throw new Error(`Wrong integer: ${n}`)}function r(...n){const e=(n,e)=>t=>n(e(t));return{encode:Array.from(n).reverse().reduce(((n,t)=>n?e(n,t.encode):t.encode),void 0),decode:n.reduce(((n,t)=>n?e(n,t.decode):t.decode),void 0)}}function o(n){return{encode:e=>{if(!Array.isArray(e)||e.length&&"number"!=typeof e[0])throw new Error("alphabet.encode input should be an array of numbers");return e.map((e=>{if(t(e),e<0||e>=n.length)throw new Error(`Digit index outside alphabet: ${e} (alphabet: ${n.length})`);return n[e]}))},decode:e=>{if(!Array.isArray(e)||e.length&&"string"!=typeof e[0])throw new Error("alphabet.decode input should be array of strings");return e.map((e=>{if("string"!=typeof e)throw new Error(`alphabet.decode: not string element=${e}`);const t=n.indexOf(e);if(-1===t)throw new Error(`Unknown letter: "${e}". Allowed: ${n}`);return t}))}}}function i(n=""){if("string"!=typeof n)throw new Error("join separator should be string");return{encode:e=>{if(!Array.isArray(e)||e.length&&"string"!=typeof e[0])throw new Error("join.encode input should be array of strings");for(let n of e)if("string"!=typeof n)throw new Error(`join.encode: non-string input=${n}`);return e.join(n)},decode:e=>{if("string"!=typeof e)throw new Error("join.decode input should be string");return e.split(n)}}}function s(n,e="="){if(t(n),"string"!=typeof e)throw new Error("padding chr should be string");return{encode(t){if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("padding.encode input should be array of strings");for(let n of t)if("string"!=typeof n)throw new Error(`padding.encode: non-string input=${n}`);for(;t.length*n%8;)t.push(e);return t},decode(t){if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("padding.encode input should be array of strings");for(let n of t)if("string"!=typeof n)throw new Error(`padding.decode: non-string input=${n}`);let r=t.length;if(r*n%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&t[r-1]===e;r--)if(!((r-1)*n%8))throw new Error("Invalid padding: string has too much padding");return t.slice(0,r)}}}function a(n){if("function"!=typeof n)throw new Error("normalize fn should be function");return{encode:n=>n,decode:e=>n(e)}}function c(n,e,r){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(n))throw new Error("convertRadix: data should be array");if(!n.length)return[];let o=0;const i=[],s=Array.from(n);for(s.forEach((n=>{if(t(n),n<0||n>=e)throw new Error(`Wrong integer: ${n}`)}));;){let n=0,t=!0;for(let i=o;i<s.length;i++){const a=s[i],c=e*n+a;if(!Number.isSafeInteger(c)||e*n/e!==n||c-a!=e*n)throw new Error("convertRadix: carry overflow");if(n=c%r,s[i]=Math.floor(c/r),!Number.isSafeInteger(s[i])||s[i]*r+n!==c)throw new Error("convertRadix: carry overflow");t&&(s[i]?t=!1:o=i)}if(i.push(n),t)break}for(let e=0;e<n.length-1&&0===n[e];e++)i.push(0);return i.reverse()}Object.defineProperty(e,"__esModule",{value:!0}),e.bytes=e.stringToBytes=e.str=e.bytesToString=e.hex=e.utf8=e.bech32m=e.bech32=e.base58check=e.base58xmr=e.base58xrp=e.base58flickr=e.base58=e.base64url=e.base64=e.base32crockford=e.base32hex=e.base32=e.base16=e.utils=e.assertNumber=void 0,e.assertNumber=t;const h=(n,e)=>e?h(e,n%e):n,f=(n,e)=>n+(e-h(n,e));function u(n,e,r,o){if(!Array.isArray(n))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(f(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${f(e,r)}`);let i=0,s=0;const a=2**r-1,c=[];for(const o of n){if(t(o),o>=2**e)throw new Error(`convertRadix2: invalid data word=${o} from=${e}`);if(i=i<<e|o,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=r;s-=r)c.push((i>>s-r&a)>>>0);i&=2**s-1}if(i=i<<r-s&a,!o&&s>=e)throw new Error("Excess padding");if(!o&&i)throw new Error(`Non-zero padding: ${i}`);return o&&s>0&&c.push(i>>>0),c}function l(n){return t(n),{encode:e=>{if(!(e instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return c(Array.from(e),256,n)},decode:e=>{if(!Array.isArray(e)||e.length&&"number"!=typeof e[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(c(e,n,256))}}}function d(n,e=!1){if(t(n),n<=0||n>32)throw new Error("radix2: bits should be in (0..32]");if(f(8,n)>32||f(n,8)>32)throw new Error("radix2: carry overflow");return{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return u(Array.from(t),8,n,!e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(u(t,n,8,e))}}}function p(n){if("function"!=typeof n)throw new Error("unsafeWrapper fn should be function");return function(...e){try{return n.apply(null,e)}catch(n){}}}function y(n,e){if(t(n),"function"!=typeof e)throw new Error("checksum fn should be function");return{encode(t){if(!(t instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const r=e(t).slice(0,n),o=new Uint8Array(t.length+n);return o.set(t),o.set(r,t.length),o},decode(t){if(!(t instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const r=t.slice(0,-n),o=e(r).slice(0,n),i=t.slice(-n);for(let e=0;e<n;e++)if(o[e]!==i[e])throw new Error("Invalid checksum");return r}}}e.utils={alphabet:o,chain:r,checksum:y,radix:l,radix2:d,join:i,padding:s},e.base16=r(d(4),o("0123456789ABCDEF"),i("")),e.base32=r(d(5),o("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),s(5),i("")),e.base32hex=r(d(5),o("0123456789ABCDEFGHIJKLMNOPQRSTUV"),s(5),i("")),e.base32crockford=r(d(5),o("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),i(""),a((n=>n.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),e.base64=r(d(6),o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),s(6),i("")),e.base64url=r(d(6),o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),s(6),i(""));const g=n=>r(l(58),o(n),i(""));e.base58=g("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),e.base58flickr=g("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),e.base58xrp=g("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const b=[0,2,3,5,6,7,9,10,11];e.base58xmr={encode(n){let t="";for(let r=0;r<n.length;r+=8){const o=n.subarray(r,r+8);t+=e.base58.encode(o).padStart(b[o.length],"1")}return t},decode(n){let t=[];for(let r=0;r<n.length;r+=11){const o=n.slice(r,r+11),i=b.indexOf(o.length),s=e.base58.decode(o);for(let n=0;n<s.length-i;n++)if(0!==s[n])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(s.slice(s.length-i)))}return Uint8Array.from(t)}},e.base58check=n=>r(y(4,(e=>n(n(e)))),e.base58);const w=r(o("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),i("")),m=[996825010,642813549,513874426,1027748829,705979059];function E(n){const e=n>>25;let t=(33554431&n)<<5;for(let n=0;n<m.length;n++)1==(e>>n&1)&&(t^=m[n]);return t}function v(n,e,t=1){const r=n.length;let o=1;for(let e=0;e<r;e++){const t=n.charCodeAt(e);if(t<33||t>126)throw new Error(`Invalid prefix (${n})`);o=E(o)^t>>5}o=E(o);for(let e=0;e<r;e++)o=E(o)^31&n.charCodeAt(e);for(let n of e)o=E(o)^n;for(let n=0;n<6;n++)o=E(o);return o^=t,w.encode(u([o%2**30],30,5,!1))}function x(n){const e="bech32"===n?1:734539939,t=d(5),r=t.decode,o=t.encode,i=p(r);function s(n,t=90){if("string"!=typeof n)throw new Error("bech32.decode input should be string, not "+typeof n);if(n.length<8||!1!==t&&n.length>t)throw new TypeError(`Wrong string length: ${n.length} (${n}). Expected (8..${t})`);const r=n.toLowerCase();if(n!==r&&n!==n.toUpperCase())throw new Error("String must be lowercase or uppercase");const o=(n=r).lastIndexOf("1");if(0===o||-1===o)throw new Error('Letter "1" must be present between prefix and data only');const i=n.slice(0,o),s=n.slice(o+1);if(s.length<6)throw new Error("Data must be at least 6 characters long");const a=w.decode(s).slice(0,-6),c=v(i,a,e);if(!s.endsWith(c))throw new Error(`Invalid checksum in ${n}: expected "${c}"`);return{prefix:i,words:a}}return{encode:function(n,t,r=90){if("string"!=typeof n)throw new Error("bech32.encode prefix should be string, not "+typeof n);if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof t);const o=n.length+7+t.length;if(!1!==r&&o>r)throw new TypeError(`Length ${o} exceeds limit ${r}`);return`${n=n.toLowerCase()}1${w.encode(t)}${v(n,t,e)}`},decode:s,decodeToBytes:function(n){const{prefix:e,words:t}=s(n,!1);return{prefix:e,words:t,bytes:r(t)}},decodeUnsafe:p(s),fromWords:r,fromWordsUnsafe:i,toWords:o}}e.bech32=x("bech32"),e.bech32m=x("bech32m"),e.utf8={encode:n=>(new TextDecoder).decode(n),decode:n=>(new TextEncoder).encode(n)},e.hex=r(d(4),o("0123456789abcdef"),i(""),a((n=>{if("string"!=typeof n||n.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof n} with length ${n.length}`);return n.toLowerCase()})));const A={utf8:e.utf8,hex:e.hex,base16:e.base16,base32:e.base32,base64:e.base64,base64url:e.base64url,base58:e.base58,base58xmr:e.base58xmr},B=`Invalid encoding type. Available types: ${Object.keys(A).join(", ")}`;e.bytesToString=(n,e)=>{if("string"!=typeof n||!A.hasOwnProperty(n))throw new TypeError(B);if(!(e instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return A[n].encode(e)},e.str=e.bytesToString,e.stringToBytes=(n,e)=>{if(!A.hasOwnProperty(n))throw new TypeError(B);if("string"!=typeof e)throw new TypeError("stringToBytes() expects string");return A[n].decode(e)},e.bytes=e.stringToBytes},796:(n,e,t)=>{"use strict";e._I=e.JJ=e.oy=void 0;const r=t(525),o=(t(179),t(53)),i=(t(540),t(64),t(237));function s(n){if("string"!=typeof n)throw new TypeError("Invalid mnemonic type: "+typeof n);return n.normalize("NFKD")}function a(n){r.default.bytes(n,16,20,24,28,32)}const c=n=>{const e=8-n.length/4;return new Uint8Array([(0,o.sha256)(n)[0]>>e<<e])};function h(n){if(!Array.isArray(n)||2048!==n.length||"string"!=typeof n[0])throw new Error("Worlist: expected array of 2048 strings");return n.forEach((n=>{if("string"!=typeof n)throw new Error(`Wordlist: non-string element: ${n}`)})),i.utils.chain(i.utils.checksum(1,c),i.utils.radix2(11,!0),i.utils.alphabet(n))}function f(n,e){const{words:t}=function(n){const e=s(n),t=e.split(" ");if(![12,15,18,21,24].includes(t.length))throw new Error("Invalid mnemonic");return{nfkd:e,words:t}}(n),r=h(e).decode(t);return a(r),r}e.oy=f,e.JJ=function(n,e){return a(n),h(e).encode(n).join((n=>"あいこくしん"===n[0])(e)?"　":" ")},e._I=function(n,e){try{f(n,e)}catch(n){return!1}return!0}},50:(n,e)=>{"use strict";e.U=void 0,e.U="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n")},166:n=>{"use strict";n.exports=function(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var r=0;r<n.length;r++){var o=n.charAt(r),i=o.charCodeAt(0);if(255!==e[i])throw new TypeError(o+" is ambiguous");e[i]=r}var s=n.length,a=n.charAt(0),c=Math.log(s)/Math.log(256),h=Math.log(256)/Math.log(s);function f(n){if("string"!=typeof n)throw new TypeError("Expected String");if(0===n.length)return new Uint8Array;for(var t=0,r=0,o=0;n[t]===a;)r++,t++;for(var i=(n.length-t)*c+1>>>0,h=new Uint8Array(i);n[t];){var f=e[n.charCodeAt(t)];if(255===f)return;for(var u=0,l=i-1;(0!==f||u<o)&&-1!==l;l--,u++)f+=s*h[l]>>>0,h[l]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");o=u,t++}for(var d=i-o;d!==i&&0===h[d];)d++;for(var p=new Uint8Array(r+(i-d)),y=r;d!==i;)p[y++]=h[d++];return p}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var t=0,r=0,o=0,i=e.length;o!==i&&0===e[o];)o++,t++;for(var c=(i-o)*h+1>>>0,f=new Uint8Array(c);o!==i;){for(var u=e[o],l=0,d=c-1;(0!==u||l<r)&&-1!==d;d--,l++)u+=256*f[d]>>>0,f[d]=u%s>>>0,u=u/s>>>0;if(0!==u)throw new Error("Non-zero carry");r=l,o++}for(var p=c-r;p!==c&&0===f[p];)p++;for(var y=a.repeat(t);p<c;++p)y+=n.charAt(f[p]);return y},decodeUnsafe:f,decode:function(n){var e=f(n);if(e)return e;throw new Error("Non-base"+s+" character")}}}},766:(n,e)=>{"use strict";e.byteLength=function(n){var e=c(n),t=e[0],r=e[1];return 3*(t+r)/4-r},e.toByteArray=function(n){var e,t,i=c(n),s=i[0],a=i[1],h=new o(function(n,e,t){return 3*(e+t)/4-t}(0,s,a)),f=0,u=a>0?s-4:s;for(t=0;t<u;t+=4)e=r[n.charCodeAt(t)]<<18|r[n.charCodeAt(t+1)]<<12|r[n.charCodeAt(t+2)]<<6|r[n.charCodeAt(t+3)],h[f++]=e>>16&255,h[f++]=e>>8&255,h[f++]=255&e;return 2===a&&(e=r[n.charCodeAt(t)]<<2|r[n.charCodeAt(t+1)]>>4,h[f++]=255&e),1===a&&(e=r[n.charCodeAt(t)]<<10|r[n.charCodeAt(t+1)]<<4|r[n.charCodeAt(t+2)]>>2,h[f++]=e>>8&255,h[f++]=255&e),h},e.fromByteArray=function(n){for(var e,r=n.length,o=r%3,i=[],s=16383,a=0,c=r-o;a<c;a+=s)i.push(h(n,a,a+s>c?c:a+s));return 1===o?(e=n[r-1],i.push(t[e>>2]+t[e<<4&63]+"==")):2===o&&(e=(n[r-2]<<8)+n[r-1],i.push(t[e>>10]+t[e>>4&63]+t[e<<2&63]+"=")),i.join("")};for(var t=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=i.length;s<a;++s)t[s]=i[s],r[i.charCodeAt(s)]=s;function c(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");return-1===t&&(t=e),[t,t===e?0:4-t%4]}function h(n,e,r){for(var o,i,s=[],a=e;a<r;a+=3)o=(n[a]<<16&16711680)+(n[a+1]<<8&65280)+(255&n[a+2]),s.push(t[(i=o)>>18&63]+t[i>>12&63]+t[i>>6&63]+t[63&i]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},22:(n,e,t)=>{const r=t(166);n.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},834:(n,e,t)=>{"use strict";const r=t(766),o=t(333),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=function(n){return+n!=n&&(n=0),c.alloc(+n)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function a(n){if(n>s)throw new RangeError('The value "'+n+'" is invalid for option "size"');const e=new Uint8Array(n);return Object.setPrototypeOf(e,c.prototype),e}function c(n,e,t){if("number"==typeof n){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return u(n)}return h(n,e,t)}function h(n,e,t){if("string"==typeof n)return function(n,e){if("string"==typeof e&&""!==e||(e="utf8"),!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const t=0|y(n,e);let r=a(t);const o=r.write(n,e);return o!==t&&(r=r.slice(0,o)),r}(n,e);if(ArrayBuffer.isView(n))return function(n){if(J(n,Uint8Array)){const e=new Uint8Array(n);return d(e.buffer,e.byteOffset,e.byteLength)}return l(n)}(n);if(null==n)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);if(J(n,ArrayBuffer)||n&&J(n.buffer,ArrayBuffer))return d(n,e,t);if("undefined"!=typeof SharedArrayBuffer&&(J(n,SharedArrayBuffer)||n&&J(n.buffer,SharedArrayBuffer)))return d(n,e,t);if("number"==typeof n)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=n.valueOf&&n.valueOf();if(null!=r&&r!==n)return c.from(r,e,t);const o=function(n){if(c.isBuffer(n)){const e=0|p(n.length),t=a(e);return 0===t.length||n.copy(t,0,0,e),t}return void 0!==n.length?"number"!=typeof n.length||Z(n.length)?a(0):l(n):"Buffer"===n.type&&Array.isArray(n.data)?l(n.data):void 0}(n);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof n[Symbol.toPrimitive])return c.from(n[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n)}function f(n){if("number"!=typeof n)throw new TypeError('"size" argument must be of type number');if(n<0)throw new RangeError('The value "'+n+'" is invalid for option "size"')}function u(n){return f(n),a(n<0?0:0|p(n))}function l(n){const e=n.length<0?0:0|p(n.length),t=a(e);for(let r=0;r<e;r+=1)t[r]=255&n[r];return t}function d(n,e,t){if(e<0||n.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(n.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===t?new Uint8Array(n):void 0===t?new Uint8Array(n,e):new Uint8Array(n,e,t),Object.setPrototypeOf(r,c.prototype),r}function p(n){if(n>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|n}function y(n,e){if(c.isBuffer(n))return n.length;if(ArrayBuffer.isView(n)||J(n,ArrayBuffer))return n.byteLength;if("string"!=typeof n)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof n);const t=n.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===t)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return V(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*t;case"hex":return t>>>1;case"base64":return W(n).length;default:if(o)return r?-1:V(n).length;e=(""+e).toLowerCase(),o=!0}}function g(n,e,t){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===t||t>this.length)&&(t=this.length),t<=0)return"";if((t>>>=0)<=(e>>>=0))return"";for(n||(n="utf8");;)switch(n){case"hex":return T(this,e,t);case"utf8":case"utf-8":return I(this,e,t);case"ascii":return S(this,e,t);case"latin1":case"binary":return _(this,e,t);case"base64":return k(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,t);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),r=!0}}function b(n,e,t){const r=n[e];n[e]=n[t],n[t]=r}function w(n,e,t,r,o){if(0===n.length)return-1;if("string"==typeof t?(r=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),Z(t=+t)&&(t=o?0:n.length-1),t<0&&(t=n.length+t),t>=n.length){if(o)return-1;t=n.length-1}else if(t<0){if(!o)return-1;t=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:m(n,e,t,r,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(n,e,t):Uint8Array.prototype.lastIndexOf.call(n,e,t):m(n,[e],t,r,o);throw new TypeError("val must be string, number or Buffer")}function m(n,e,t,r,o){let i,s=1,a=n.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(n.length<2||e.length<2)return-1;s=2,a/=2,c/=2,t/=2}function h(n,e){return 1===s?n[e]:n.readUInt16BE(e*s)}if(o){let r=-1;for(i=t;i<a;i++)if(h(n,i)===h(e,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===c)return r*s}else-1!==r&&(i-=i-r),r=-1}else for(t+c>a&&(t=a-c),i=t;i>=0;i--){let t=!0;for(let r=0;r<c;r++)if(h(n,i+r)!==h(e,r)){t=!1;break}if(t)return i}return-1}function E(n,e,t,r){t=Number(t)||0;const o=n.length-t;r?(r=Number(r))>o&&(r=o):r=o;const i=e.length;let s;for(r>i/2&&(r=i/2),s=0;s<r;++s){const r=parseInt(e.substr(2*s,2),16);if(Z(r))return s;n[t+s]=r}return s}function v(n,e,t,r){return q(V(e,n.length-t),n,t,r)}function x(n,e,t,r){return q(function(n){const e=[];for(let t=0;t<n.length;++t)e.push(255&n.charCodeAt(t));return e}(e),n,t,r)}function A(n,e,t,r){return q(W(e),n,t,r)}function B(n,e,t,r){return q(function(n,e){let t,r,o;const i=[];for(let s=0;s<n.length&&!((e-=2)<0);++s)t=n.charCodeAt(s),r=t>>8,o=t%256,i.push(o),i.push(r);return i}(e,n.length-t),n,t,r)}function k(n,e,t){return 0===e&&t===n.length?r.fromByteArray(n):r.fromByteArray(n.slice(e,t))}function I(n,e,t){t=Math.min(n.length,t);const r=[];let o=e;for(;o<t;){const e=n[o];let i=null,s=e>239?4:e>223?3:e>191?2:1;if(o+s<=t){let t,r,a,c;switch(s){case 1:e<128&&(i=e);break;case 2:t=n[o+1],128==(192&t)&&(c=(31&e)<<6|63&t,c>127&&(i=c));break;case 3:t=n[o+1],r=n[o+2],128==(192&t)&&128==(192&r)&&(c=(15&e)<<12|(63&t)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:t=n[o+1],r=n[o+2],a=n[o+3],128==(192&t)&&128==(192&r)&&128==(192&a)&&(c=(15&e)<<18|(63&t)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=s}return function(n){const e=n.length;if(e<=U)return String.fromCharCode.apply(String,n);let t="",r=0;for(;r<e;)t+=String.fromCharCode.apply(String,n.slice(r,r+=U));return t}(r)}e.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const n=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(n,e),42===n.foo()}catch(n){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(n,e,t){return h(n,e,t)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(n,e,t){return function(n,e,t){return f(n),n<=0?a(n):void 0!==e?"string"==typeof t?a(n).fill(e,t):a(n).fill(e):a(n)}(n,e,t)},c.allocUnsafe=function(n){return u(n)},c.allocUnsafeSlow=function(n){return u(n)},c.isBuffer=function(n){return null!=n&&!0===n._isBuffer&&n!==c.prototype},c.compare=function(n,e){if(J(n,Uint8Array)&&(n=c.from(n,n.offset,n.byteLength)),J(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(n)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(n===e)return 0;let t=n.length,r=e.length;for(let o=0,i=Math.min(t,r);o<i;++o)if(n[o]!==e[o]){t=n[o],r=e[o];break}return t<r?-1:r<t?1:0},c.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(n,e){if(!Array.isArray(n))throw new TypeError('"list" argument must be an Array of Buffers');if(0===n.length)return c.alloc(0);let t;if(void 0===e)for(e=0,t=0;t<n.length;++t)e+=n[t].length;const r=c.allocUnsafe(e);let o=0;for(t=0;t<n.length;++t){let e=n[t];if(J(e,Uint8Array))o+e.length>r.length?(c.isBuffer(e)||(e=c.from(e)),e.copy(r,o)):Uint8Array.prototype.set.call(r,e,o);else{if(!c.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,o)}o+=e.length}return r},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const n=this.length;if(n%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<n;e+=2)b(this,e,e+1);return this},c.prototype.swap32=function(){const n=this.length;if(n%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<n;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},c.prototype.swap64=function(){const n=this.length;if(n%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<n;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},c.prototype.toString=function(){const n=this.length;return 0===n?"":0===arguments.length?I(this,0,n):g.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(n){if(!c.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n||0===c.compare(this,n)},c.prototype.inspect=function(){let n="";const t=e.INSPECT_MAX_BYTES;return n=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(n+=" ... "),"<Buffer "+n+">"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(n,e,t,r,o){if(J(n,Uint8Array)&&(n=c.from(n,n.offset,n.byteLength)),!c.isBuffer(n))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof n);if(void 0===e&&(e=0),void 0===t&&(t=n?n.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||t>n.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=t)return 0;if(r>=o)return-1;if(e>=t)return 1;if(this===n)return 0;let i=(o>>>=0)-(r>>>=0),s=(t>>>=0)-(e>>>=0);const a=Math.min(i,s),h=this.slice(r,o),f=n.slice(e,t);for(let n=0;n<a;++n)if(h[n]!==f[n]){i=h[n],s=f[n];break}return i<s?-1:s<i?1:0},c.prototype.includes=function(n,e,t){return-1!==this.indexOf(n,e,t)},c.prototype.indexOf=function(n,e,t){return w(this,n,e,t,!0)},c.prototype.lastIndexOf=function(n,e,t){return w(this,n,e,t,!1)},c.prototype.write=function(n,e,t,r){if(void 0===e)r="utf8",t=this.length,e=0;else if(void 0===t&&"string"==typeof e)r=e,t=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(t)?(t>>>=0,void 0===r&&(r="utf8")):(r=t,t=void 0)}const o=this.length-e;if((void 0===t||t>o)&&(t=o),n.length>0&&(t<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return E(this,n,e,t);case"utf8":case"utf-8":return v(this,n,e,t);case"ascii":case"latin1":case"binary":return x(this,n,e,t);case"base64":return A(this,n,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,n,e,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const U=4096;function S(n,e,t){let r="";t=Math.min(n.length,t);for(let o=e;o<t;++o)r+=String.fromCharCode(127&n[o]);return r}function _(n,e,t){let r="";t=Math.min(n.length,t);for(let o=e;o<t;++o)r+=String.fromCharCode(n[o]);return r}function T(n,e,t){const r=n.length;(!e||e<0)&&(e=0),(!t||t<0||t>r)&&(t=r);let o="";for(let r=e;r<t;++r)o+=Y[n[r]];return o}function L(n,e,t){const r=n.slice(e,t);let o="";for(let n=0;n<r.length-1;n+=2)o+=String.fromCharCode(r[n]+256*r[n+1]);return o}function H(n,e,t){if(n%1!=0||n<0)throw new RangeError("offset is not uint");if(n+e>t)throw new RangeError("Trying to access beyond buffer length")}function C(n,e,t,r,o,i){if(!c.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(t+r>n.length)throw new RangeError("Index out of range")}function O(n,e,t,r,o){M(e,r,o,n,t,7);let i=Number(e&BigInt(4294967295));n[t++]=i,i>>=8,n[t++]=i,i>>=8,n[t++]=i,i>>=8,n[t++]=i;let s=Number(e>>BigInt(32)&BigInt(4294967295));return n[t++]=s,s>>=8,n[t++]=s,s>>=8,n[t++]=s,s>>=8,n[t++]=s,t}function R(n,e,t,r,o){M(e,r,o,n,t,7);let i=Number(e&BigInt(4294967295));n[t+7]=i,i>>=8,n[t+6]=i,i>>=8,n[t+5]=i,i>>=8,n[t+4]=i;let s=Number(e>>BigInt(32)&BigInt(4294967295));return n[t+3]=s,s>>=8,n[t+2]=s,s>>=8,n[t+1]=s,s>>=8,n[t]=s,t+8}function N(n,e,t,r,o,i){if(t+r>n.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function P(n,e,t,r,i){return e=+e,t>>>=0,i||N(n,0,t,4),o.write(n,e,t,r,23,4),t+4}function $(n,e,t,r,i){return e=+e,t>>>=0,i||N(n,0,t,8),o.write(n,e,t,r,52,8),t+8}c.prototype.slice=function(n,e){const t=this.length;(n=~~n)<0?(n+=t)<0&&(n=0):n>t&&(n=t),(e=void 0===e?t:~~e)<0?(e+=t)<0&&(e=0):e>t&&(e=t),e<n&&(e=n);const r=this.subarray(n,e);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(n,e,t){n>>>=0,e>>>=0,t||H(n,e,this.length);let r=this[n],o=1,i=0;for(;++i<e&&(o*=256);)r+=this[n+i]*o;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(n,e,t){n>>>=0,e>>>=0,t||H(n,e,this.length);let r=this[n+--e],o=1;for(;e>0&&(o*=256);)r+=this[n+--e]*o;return r},c.prototype.readUint8=c.prototype.readUInt8=function(n,e){return n>>>=0,e||H(n,1,this.length),this[n]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(n,e){return n>>>=0,e||H(n,2,this.length),this[n]|this[n+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(n,e){return n>>>=0,e||H(n,2,this.length),this[n]<<8|this[n+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(n,e){return n>>>=0,e||H(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+16777216*this[n+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(n,e){return n>>>=0,e||H(n,4,this.length),16777216*this[n]+(this[n+1]<<16|this[n+2]<<8|this[n+3])},c.prototype.readBigUInt64LE=X((function(n){z(n>>>=0,"offset");const e=this[n],t=this[n+7];void 0!==e&&void 0!==t||G(n,this.length-8);const r=e+256*this[++n]+65536*this[++n]+this[++n]*2**24,o=this[++n]+256*this[++n]+65536*this[++n]+t*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),c.prototype.readBigUInt64BE=X((function(n){z(n>>>=0,"offset");const e=this[n],t=this[n+7];void 0!==e&&void 0!==t||G(n,this.length-8);const r=e*2**24+65536*this[++n]+256*this[++n]+this[++n],o=this[++n]*2**24+65536*this[++n]+256*this[++n]+t;return(BigInt(r)<<BigInt(32))+BigInt(o)})),c.prototype.readIntLE=function(n,e,t){n>>>=0,e>>>=0,t||H(n,e,this.length);let r=this[n],o=1,i=0;for(;++i<e&&(o*=256);)r+=this[n+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(n,e,t){n>>>=0,e>>>=0,t||H(n,e,this.length);let r=e,o=1,i=this[n+--r];for(;r>0&&(o*=256);)i+=this[n+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},c.prototype.readInt8=function(n,e){return n>>>=0,e||H(n,1,this.length),128&this[n]?-1*(255-this[n]+1):this[n]},c.prototype.readInt16LE=function(n,e){n>>>=0,e||H(n,2,this.length);const t=this[n]|this[n+1]<<8;return 32768&t?4294901760|t:t},c.prototype.readInt16BE=function(n,e){n>>>=0,e||H(n,2,this.length);const t=this[n+1]|this[n]<<8;return 32768&t?4294901760|t:t},c.prototype.readInt32LE=function(n,e){return n>>>=0,e||H(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24},c.prototype.readInt32BE=function(n,e){return n>>>=0,e||H(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]},c.prototype.readBigInt64LE=X((function(n){z(n>>>=0,"offset");const e=this[n],t=this[n+7];void 0!==e&&void 0!==t||G(n,this.length-8);const r=this[n+4]+256*this[n+5]+65536*this[n+6]+(t<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++n]+65536*this[++n]+this[++n]*2**24)})),c.prototype.readBigInt64BE=X((function(n){z(n>>>=0,"offset");const e=this[n],t=this[n+7];void 0!==e&&void 0!==t||G(n,this.length-8);const r=(e<<24)+65536*this[++n]+256*this[++n]+this[++n];return(BigInt(r)<<BigInt(32))+BigInt(this[++n]*2**24+65536*this[++n]+256*this[++n]+t)})),c.prototype.readFloatLE=function(n,e){return n>>>=0,e||H(n,4,this.length),o.read(this,n,!0,23,4)},c.prototype.readFloatBE=function(n,e){return n>>>=0,e||H(n,4,this.length),o.read(this,n,!1,23,4)},c.prototype.readDoubleLE=function(n,e){return n>>>=0,e||H(n,8,this.length),o.read(this,n,!0,52,8)},c.prototype.readDoubleBE=function(n,e){return n>>>=0,e||H(n,8,this.length),o.read(this,n,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(n,e,t,r){n=+n,e>>>=0,t>>>=0,r||C(this,n,e,t,Math.pow(2,8*t)-1,0);let o=1,i=0;for(this[e]=255&n;++i<t&&(o*=256);)this[e+i]=n/o&255;return e+t},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(n,e,t,r){n=+n,e>>>=0,t>>>=0,r||C(this,n,e,t,Math.pow(2,8*t)-1,0);let o=t-1,i=1;for(this[e+o]=255&n;--o>=0&&(i*=256);)this[e+o]=n/i&255;return e+t},c.prototype.writeUint8=c.prototype.writeUInt8=function(n,e,t){return n=+n,e>>>=0,t||C(this,n,e,1,255,0),this[e]=255&n,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(n,e,t){return n=+n,e>>>=0,t||C(this,n,e,2,65535,0),this[e]=255&n,this[e+1]=n>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(n,e,t){return n=+n,e>>>=0,t||C(this,n,e,2,65535,0),this[e]=n>>>8,this[e+1]=255&n,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(n,e,t){return n=+n,e>>>=0,t||C(this,n,e,4,4294967295,0),this[e+3]=n>>>24,this[e+2]=n>>>16,this[e+1]=n>>>8,this[e]=255&n,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(n,e,t){return n=+n,e>>>=0,t||C(this,n,e,4,4294967295,0),this[e]=n>>>24,this[e+1]=n>>>16,this[e+2]=n>>>8,this[e+3]=255&n,e+4},c.prototype.writeBigUInt64LE=X((function(n,e=0){return O(this,n,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=X((function(n,e=0){return R(this,n,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(n,e,t,r){if(n=+n,e>>>=0,!r){const r=Math.pow(2,8*t-1);C(this,n,e,t,r-1,-r)}let o=0,i=1,s=0;for(this[e]=255&n;++o<t&&(i*=256);)n<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(n/i>>0)-s&255;return e+t},c.prototype.writeIntBE=function(n,e,t,r){if(n=+n,e>>>=0,!r){const r=Math.pow(2,8*t-1);C(this,n,e,t,r-1,-r)}let o=t-1,i=1,s=0;for(this[e+o]=255&n;--o>=0&&(i*=256);)n<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(n/i>>0)-s&255;return e+t},c.prototype.writeInt8=function(n,e,t){return n=+n,e>>>=0,t||C(this,n,e,1,127,-128),n<0&&(n=255+n+1),this[e]=255&n,e+1},c.prototype.writeInt16LE=function(n,e,t){return n=+n,e>>>=0,t||C(this,n,e,2,32767,-32768),this[e]=255&n,this[e+1]=n>>>8,e+2},c.prototype.writeInt16BE=function(n,e,t){return n=+n,e>>>=0,t||C(this,n,e,2,32767,-32768),this[e]=n>>>8,this[e+1]=255&n,e+2},c.prototype.writeInt32LE=function(n,e,t){return n=+n,e>>>=0,t||C(this,n,e,4,2147483647,-2147483648),this[e]=255&n,this[e+1]=n>>>8,this[e+2]=n>>>16,this[e+3]=n>>>24,e+4},c.prototype.writeInt32BE=function(n,e,t){return n=+n,e>>>=0,t||C(this,n,e,4,2147483647,-2147483648),n<0&&(n=4294967295+n+1),this[e]=n>>>24,this[e+1]=n>>>16,this[e+2]=n>>>8,this[e+3]=255&n,e+4},c.prototype.writeBigInt64LE=X((function(n,e=0){return O(this,n,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=X((function(n,e=0){return R(this,n,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(n,e,t){return P(this,n,e,!0,t)},c.prototype.writeFloatBE=function(n,e,t){return P(this,n,e,!1,t)},c.prototype.writeDoubleLE=function(n,e,t){return $(this,n,e,!0,t)},c.prototype.writeDoubleBE=function(n,e,t){return $(this,n,e,!1,t)},c.prototype.copy=function(n,e,t,r){if(!c.isBuffer(n))throw new TypeError("argument should be a Buffer");if(t||(t=0),r||0===r||(r=this.length),e>=n.length&&(e=n.length),e||(e=0),r>0&&r<t&&(r=t),r===t)return 0;if(0===n.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(t<0||t>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),n.length-e<r-t&&(r=n.length-e+t);const o=r-t;return this===n&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,t,r):Uint8Array.prototype.set.call(n,this.subarray(t,r),e),o},c.prototype.fill=function(n,e,t,r){if("string"==typeof n){if("string"==typeof e?(r=e,e=0,t=this.length):"string"==typeof t&&(r=t,t=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===n.length){const e=n.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(n=e)}}else"number"==typeof n?n&=255:"boolean"==typeof n&&(n=Number(n));if(e<0||this.length<e||this.length<t)throw new RangeError("Out of range index");if(t<=e)return this;let o;if(e>>>=0,t=void 0===t?this.length:t>>>0,n||(n=0),"number"==typeof n)for(o=e;o<t;++o)this[o]=n;else{const i=c.isBuffer(n)?n:c.from(n,r),s=i.length;if(0===s)throw new TypeError('The value "'+n+'" is invalid for argument "value"');for(o=0;o<t-e;++o)this[o+e]=i[o%s]}return this};const j={};function D(n,e,t){j[n]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${n}]`,this.stack,delete this.name}get code(){return n}set code(n){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:n,writable:!0})}toString(){return`${this.name} [${n}]: ${this.message}`}}}function F(n){let e="",t=n.length;const r="-"===n[0]?1:0;for(;t>=r+4;t-=3)e=`_${n.slice(t-3,t)}${e}`;return`${n.slice(0,t)}${e}`}function M(n,e,t,r,o,i){if(n>t||n<e){const r="bigint"==typeof e?"n":"";let o;throw o=i>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${e}${r} and <= ${t}${r}`,new j.ERR_OUT_OF_RANGE("value",o,n)}!function(n,e,t){z(e,"offset"),void 0!==n[e]&&void 0!==n[e+t]||G(e,n.length-(t+1))}(r,o,i)}function z(n,e){if("number"!=typeof n)throw new j.ERR_INVALID_ARG_TYPE(e,"number",n)}function G(n,e,t){if(Math.floor(n)!==n)throw z(n,t),new j.ERR_OUT_OF_RANGE(t||"offset","an integer",n);if(e<0)throw new j.ERR_BUFFER_OUT_OF_BOUNDS;throw new j.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,n)}D("ERR_BUFFER_OUT_OF_BOUNDS",(function(n){return n?`${n} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),D("ERR_INVALID_ARG_TYPE",(function(n,e){return`The "${n}" argument must be of type number. Received type ${typeof e}`}),TypeError),D("ERR_OUT_OF_RANGE",(function(n,e,t){let r=`The value of "${n}" is out of range.`,o=t;return Number.isInteger(t)&&Math.abs(t)>2**32?o=F(String(t)):"bigint"==typeof t&&(o=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(o=F(o)),o+="n"),r+=` It must be ${e}. Received ${o}`,r}),RangeError);const K=/[^+/0-9A-Za-z-_]/g;function V(n,e){let t;e=e||1/0;const r=n.length;let o=null;const i=[];for(let s=0;s<r;++s){if(t=n.charCodeAt(s),t>55295&&t<57344){if(!o){if(t>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=t;continue}if(t<56320){(e-=3)>-1&&i.push(239,191,189),o=t;continue}t=65536+(o-55296<<10|t-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,t<128){if((e-=1)<0)break;i.push(t)}else if(t<2048){if((e-=2)<0)break;i.push(t>>6|192,63&t|128)}else if(t<65536){if((e-=3)<0)break;i.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(t<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return i}function W(n){return r.toByteArray(function(n){if((n=(n=n.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;n.length%4!=0;)n+="=";return n}(n))}function q(n,e,t,r){let o;for(o=0;o<r&&!(o+t>=e.length||o>=n.length);++o)e[o+t]=n[o];return o}function J(n,e){return n instanceof e||null!=n&&null!=n.constructor&&null!=n.constructor.name&&n.constructor.name===e.name}function Z(n){return n!=n}const Y=function(){const n="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){const r=16*t;for(let o=0;o<16;++o)e[r+o]=n[t]+n[o]}return e}();function X(n){return"undefined"==typeof BigInt?Q:n}function Q(){throw new Error("BigInt not supported")}},333:(n,e)=>{e.read=function(n,e,t,r,o){var i,s,a=8*o-r-1,c=(1<<a)-1,h=c>>1,f=-7,u=t?o-1:0,l=t?-1:1,d=n[e+u];for(u+=l,i=d&(1<<-f)-1,d>>=-f,f+=a;f>0;i=256*i+n[e+u],u+=l,f-=8);for(s=i&(1<<-f)-1,i>>=-f,f+=r;f>0;s=256*s+n[e+u],u+=l,f-=8);if(0===i)i=1-h;else{if(i===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),i-=h}return(d?-1:1)*s*Math.pow(2,i-r)},e.write=function(n,e,t,r,o,i){var s,a,c,h=8*i-o-1,f=(1<<h)-1,u=f>>1,l=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,p=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+u>=1?l/c:l*Math.pow(2,1-u))*c>=2&&(s++,c/=2),s+u>=f?(a=0,s=f):s+u>=1?(a=(e*c-1)*Math.pow(2,o),s+=u):(a=e*Math.pow(2,u-1)*Math.pow(2,o),s=0));o>=8;n[t+d]=255&a,d+=p,a/=256,o-=8);for(s=s<<o|a,h+=o;h>0;n[t+d]=255&s,d+=p,s/=256,h-=8);n[t+d-p]|=128*y}},821:(n,e,t)=>{var r=t(834),o=r.Buffer;function i(n,e){for(var t in n)e[t]=n[t]}function s(n,e,t){return o(n,e,t)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?n.exports=r:(i(r,e),e.Buffer=s),s.prototype=Object.create(o.prototype),i(o,s),s.from=function(n,e,t){if("number"==typeof n)throw new TypeError("Argument must not be a number");return o(n,e,t)},s.alloc=function(n,e,t){if("number"!=typeof n)throw new TypeError("Argument must be a number");var r=o(n);return void 0!==e?"string"==typeof t?r.fill(e,t):r.fill(e):r.fill(0),r},s.allocUnsafe=function(n){if("number"!=typeof n)throw new TypeError("Argument must be a number");return o(n)},s.allocUnsafeSlow=function(n){if("number"!=typeof n)throw new TypeError("Argument must be a number");return r.SlowBuffer(n)}},595:(n,e,t)=>{"use strict";var r=t(821).Buffer;function o(n){if(n<0||n>9007199254740991||n%1!=0)throw new RangeError("value out of range")}function i(n){return o(n),n<253?1:n<=65535?3:n<=4294967295?5:9}n.exports={encode:function n(e,t,s){if(o(e),t||(t=r.allocUnsafe(i(e))),!r.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");return s||(s=0),e<253?(t.writeUInt8(e,s),n.bytes=1):e<=65535?(t.writeUInt8(253,s),t.writeUInt16LE(e,s+1),n.bytes=3):e<=4294967295?(t.writeUInt8(254,s),t.writeUInt32LE(e,s+1),n.bytes=5):(t.writeUInt8(255,s),t.writeUInt32LE(e>>>0,s+1),t.writeUInt32LE(e/4294967296|0,s+5),n.bytes=9),t},decode:function n(e,t){if(!r.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");t||(t=0);var i=e.readUInt8(t);if(i<253)return n.bytes=1,i;if(253===i)return n.bytes=3,e.readUInt16LE(t+1);if(254===i)return n.bytes=5,e.readUInt32LE(t+1);n.bytes=9;var s=e.readUInt32LE(t+1),a=4294967296*e.readUInt32LE(t+5)+s;return o(a),a},encodingLength:i}},314:()=>{},85:()=>{}},r={};function o(n){var e=r[n];if(void 0!==e)return e.exports;var i=r[n]={exports:{}};return t[n](i,i.exports,o),i.exports}o.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return o.d(e,{a:e}),e},e=Object.getPrototypeOf?n=>Object.getPrototypeOf(n):n=>n.__proto__,o.t=function(t,r){if(1&r&&(t=this(t)),8&r)return t;if("object"==typeof t&&t){if(4&r&&t.__esModule)return t;if(16&r&&"function"==typeof t.then)return t}var i=Object.create(null);o.r(i);var s={};n=n||[null,e({}),e([]),e(e)];for(var a=2&r&&t;"object"==typeof a&&!~n.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((n=>s[n]=()=>t[n]));return s.default=()=>t,o.d(i,s),i},o.d=(n,e)=>{for(var t in e)o.o(e,t)&&!o.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),o.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),o.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var i={};return(()=>{"use strict";function n(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function e(n,...e){if(!(n instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(n.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${n.length}`)}o.r(i),o.d(i,{InvalidPublicKeyReason:()=>at,NodeCryptoSha2Hash:()=>$e,Signature:()=>R,WebCryptoSha2Hash:()=>je,aes256CbcEncrypt:()=>ct,base58CheckDecode:()=>Ge,base58CheckEncode:()=>Ve,base58Encode:()=>Ke,compressPrivateKey:()=>Qe,createSha2Hash:()=>De,decodeMessage:()=>rt,decryptContent:()=>Ct,decryptECIES:()=>bt,decryptMnemonic:()=>Lt,ecPrivateKeyToHexString:()=>Ye,ecSign:()=>Ze,eciesGetJsonStringLength:()=>yt,encodeMessage:()=>tt,encryptContent:()=>Ht,encryptECIES:()=>gt,encryptMnemonic:()=>_t,getAesCbcOutputLength:()=>ot,getBase64OutputLength:()=>it,getBufferFromBN:()=>lt,getCipherObjectWrapper:()=>dt,getHexFromBN:()=>ut,getPublicKeyFromPrivate:()=>Je,getSignedCipherObjectWrapper:()=>pt,hashCode:()=>st,hashMessage:()=>et,hashSha256Sync:()=>Fe,hashSha512Sync:()=>Me,isValidPrivateKey:()=>Xe,makeECPrivateKey:()=>ze,publicKeyToAddress:()=>We,publicKeyToBtcAddress:()=>qe,randomBytes:()=>Bt,signECDSA:()=>wt,verifyECDSA:()=>mt,verifyMessageSignature:()=>Et,verifyMessageSignatureRsv:()=>vt,verifySignature:()=>bn});const t={number:n,bool:function(n){if("boolean"!=typeof n)throw new Error(`Expected boolean, not ${n}`)},bytes:e,hash:function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)},exists:function(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")},output:function(n,t){e(n);const r=t.outputLen;if(n.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}},r=("object"==typeof self&&"crypto"in self&&self.crypto,n=>new DataView(n.buffer,n.byteOffset,n.byteLength)),s=(n,e)=>n<<32-e|n>>>e;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function a(n){if("string"==typeof n&&(n=function(n){if("string"!=typeof n)throw new TypeError("utf8ToBytes expected string, got "+typeof n);return(new TextEncoder).encode(n)}(n)),!(n instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof n})`);return n}Array.from({length:256},((n,e)=>e.toString(16).padStart(2,"0")));class c{clone(){return this._cloneInto()}}function h(n){const e=e=>n().update(a(e)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}class f extends c{constructor(n,e){super(),this.finished=!1,this.destroyed=!1,t.hash(n);const r=a(e);if(this.iHash=n.create(),!(this.iHash instanceof c))throw new TypeError("Expected instance of class which extends utils.Hash");const o=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const i=new Uint8Array(o);i.set(r.length>this.iHash.blockLen?n.create().update(r).digest():r);for(let n=0;n<i.length;n++)i[n]^=54;this.iHash.update(i),this.oHash=n.create();for(let n=0;n<i.length;n++)i[n]^=106;this.oHash.update(i),i.fill(0)}update(n){return t.exists(this),this.iHash.update(n),this}digestInto(n){t.exists(this),t.bytes(n,this.outputLen),this.finished=!0,this.iHash.digestInto(n),this.oHash.update(n),this.oHash.digestInto(n),this.destroy()}digest(){const n=new Uint8Array(this.oHash.outputLen);return this.digestInto(n),n}_cloneInto(n){n||(n=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:t,finished:r,destroyed:o,blockLen:i,outputLen:s}=this;return n.finished=r,n.destroyed=o,n.blockLen=i,n.outputLen=s,n.oHash=e._cloneInto(n.oHash),n.iHash=t._cloneInto(n.iHash),n}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const u=(n,e,t)=>new f(n,e).update(t).digest();u.create=(n,e)=>new f(n,e);class l extends c{constructor(n,e,t,o){super(),this.blockLen=n,this.outputLen=e,this.padOffset=t,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(n),this.view=r(this.buffer)}update(n){t.exists(this);const{view:e,buffer:o,blockLen:i}=this,s=(n=a(n)).length;for(let t=0;t<s;){const a=Math.min(i-this.pos,s-t);if(a!==i)o.set(n.subarray(t,t+a),this.pos),this.pos+=a,t+=a,this.pos===i&&(this.process(e,0),this.pos=0);else{const e=r(n);for(;i<=s-t;t+=i)this.process(e,t)}}return this.length+=n.length,this.roundClean(),this}digestInto(n){t.exists(this),t.output(n,this),this.finished=!0;const{buffer:e,view:o,blockLen:i,isLE:s}=this;let{pos:a}=this;e[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(o,0),a=0);for(let n=a;n<i;n++)e[n]=0;!function(n,e,t,r){if("function"==typeof n.setBigUint64)return n.setBigUint64(e,t,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(t>>o&i),a=Number(t&i),c=r?4:0,h=r?0:4;n.setUint32(e+c,s,r),n.setUint32(e+h,a,r)}(o,i-8,BigInt(8*this.length),s),this.process(o,0);const c=r(n);this.get().forEach(((n,e)=>c.setUint32(4*e,n,s)))}digest(){const{buffer:n,outputLen:e}=this;this.digestInto(n);const t=n.slice(0,e);return this.destroy(),t}_cloneInto(n){n||(n=new this.constructor),n.set(...this.get());const{blockLen:e,buffer:t,length:r,finished:o,destroyed:i,pos:s}=this;return n.length=r,n.pos=s,n.finished=o,n.destroyed=i,r%e&&n.buffer.set(t),n}}const d=(n,e,t)=>n&e^n&t^e&t,p=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),y=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),g=new Uint32Array(64);class b extends l{constructor(){super(64,32,8,!1),this.A=0|y[0],this.B=0|y[1],this.C=0|y[2],this.D=0|y[3],this.E=0|y[4],this.F=0|y[5],this.G=0|y[6],this.H=0|y[7]}get(){const{A:n,B:e,C:t,D:r,E:o,F:i,G:s,H:a}=this;return[n,e,t,r,o,i,s,a]}set(n,e,t,r,o,i,s,a){this.A=0|n,this.B=0|e,this.C=0|t,this.D=0|r,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|a}process(n,e){for(let t=0;t<16;t++,e+=4)g[t]=n.getUint32(e,!1);for(let n=16;n<64;n++){const e=g[n-15],t=g[n-2],r=s(e,7)^s(e,18)^e>>>3,o=s(t,17)^s(t,19)^t>>>10;g[n]=o+g[n-7]+r+g[n-16]|0}let{A:t,B:r,C:o,D:i,E:a,F:c,G:h,H:f}=this;for(let n=0;n<64;n++){const e=f+(s(a,6)^s(a,11)^s(a,25))+((u=a)&c^~u&h)+p[n]+g[n]|0,l=(s(t,2)^s(t,13)^s(t,22))+d(t,r,o)|0;f=h,h=c,c=a,a=i+e|0,i=o,o=r,r=t,t=e+l|0}var u;t=t+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,h=h+this.G|0,f=f+this.H|0,this.set(t,r,o,i,a,c,h,f)}roundClean(){g.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const w=h((()=>new b));var m=o(314),E=o.t(m,2);const v=BigInt(0),x=BigInt(1),A=BigInt(2),B=BigInt(3),k=BigInt(8),I=A**BigInt(256),U={a:v,b:BigInt(7),P:I-A**BigInt(32)-BigInt(977),n:I-BigInt("432420386565659656852420866394968145599"),h:x,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")};function S(n){const{a:e,b:t}=U,r=q(n*n),o=q(r*n);return q(o+e*n+t)}const _=U.a===v;class T{constructor(n,e,t){this.x=n,this.y=e,this.z=t}static fromAffine(n){if(!(n instanceof H))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new T(n.x,n.y,x)}static toAffineBatch(n){const e=function(n,e=U.P){const t=new Array(n.length),r=Z(n.reduce(((n,r,o)=>r===v?n:(t[o]=n,q(n*r,e))),x),e);return n.reduceRight(((n,r,o)=>r===v?n:(t[o]=q(n*t[o],e),q(n*r,e))),r),t}(n.map((n=>n.z)));return n.map(((n,t)=>n.toAffine(e[t])))}static normalizeZ(n){return T.toAffineBatch(n).map(T.fromAffine)}equals(n){if(!(n instanceof T))throw new TypeError("JacobianPoint expected");const{x:e,y:t,z:r}=this,{x:o,y:i,z:s}=n,a=q(r**A),c=q(s**A),h=q(e*c),f=q(o*a),u=q(q(t*s)*c),l=q(q(i*r)*a);return h===f&&u===l}negate(){return new T(this.x,q(-this.y),this.z)}double(){const{x:n,y:e,z:t}=this,r=q(n**A),o=q(e**A),i=q(o**A),s=q(A*(q((n+o)**A)-r-i)),a=q(B*r),c=q(a**A),h=q(c-A*s),f=q(a*(s-h)-k*i),u=q(A*e*t);return new T(h,f,u)}add(n){if(!(n instanceof T))throw new TypeError("JacobianPoint expected");const{x:e,y:t,z:r}=this,{x:o,y:i,z:s}=n;if(o===v||i===v)return this;if(e===v||t===v)return n;const a=q(r**A),c=q(s**A),h=q(e*c),f=q(o*a),u=q(q(t*s)*c),l=q(q(i*r)*a),d=q(f-h),p=q(l-u);if(d===v)return p===v?this.double():T.ZERO;const y=q(d**A),g=q(d*y),b=q(h*y),w=q(p**A-g-A*b),m=q(p*(b-w)-u*g),E=q(r*s*d);return new T(w,m,E)}subtract(n){return this.add(n.negate())}multiplyUnsafe(n){const e=T.ZERO;if("bigint"==typeof n&&n===v)return e;let t=W(n);if(t===x)return this;if(!_){let n=e,r=this;for(;t>v;)t&x&&(n=n.add(r)),r=r.double(),t>>=x;return n}let{k1neg:r,k1:o,k2neg:i,k2:s}=Q(t),a=e,c=e,h=this;for(;o>v||s>v;)o&x&&(a=a.add(h)),s&x&&(c=c.add(h)),h=h.double(),o>>=x,s>>=x;return r&&(a=a.negate()),i&&(c=c.negate()),c=new T(q(c.x*U.beta),c.y,c.z),a.add(c)}precomputeWindow(n){const e=_?128/n+1:256/n+1,t=[];let r=this,o=r;for(let i=0;i<e;i++){o=r,t.push(o);for(let e=1;e<2**(n-1);e++)o=o.add(r),t.push(o);r=o.double()}return t}wNAF(n,e){!e&&this.equals(T.BASE)&&(e=H.BASE);const t=e&&e._WINDOW_SIZE||1;if(256%t)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=e&&L.get(e);r||(r=this.precomputeWindow(t),e&&1!==t&&(r=T.normalizeZ(r),L.set(e,r)));let o=T.ZERO,i=T.ZERO;const s=1+(_?128/t:256/t),a=2**(t-1),c=BigInt(2**t-1),h=2**t,f=BigInt(t);for(let e=0;e<s;e++){const t=e*a;let s=Number(n&c);if(n>>=f,s>a&&(s-=h,n+=x),0===s){let n=r[t];e%2&&(n=n.negate()),i=i.add(n)}else{let n=r[t+Math.abs(s)-1];s<0&&(n=n.negate()),o=o.add(n)}}return{p:o,f:i}}multiply(n,e){let t,r,o=W(n);if(_){const{k1neg:n,k1:i,k2neg:s,k2:a}=Q(o);let{p:c,f:h}=this.wNAF(i,e),{p:f,f:u}=this.wNAF(a,e);n&&(c=c.negate()),s&&(f=f.negate()),f=new T(q(f.x*U.beta),f.y,f.z),t=c.add(f),r=h.add(u)}else{const{p:n,f:i}=this.wNAF(o,e);t=n,r=i}return T.normalizeZ([t,r])[0]}toAffine(n=Z(this.z)){const{x:e,y:t,z:r}=this,o=n,i=q(o*o),s=q(i*o),a=q(e*i),c=q(t*s);if(q(r*o)!==x)throw new Error("invZ was invalid");return new H(a,c)}}T.BASE=new T(U.Gx,U.Gy,x),T.ZERO=new T(v,x,v);const L=new WeakMap;class H{constructor(n,e){this.x=n,this.y=e}_setWindowSize(n){this._WINDOW_SIZE=n,L.delete(this)}static fromCompressedHex(n){const e=32===n.length,t=K(e?n:n.subarray(1));if(!rn(t))throw new Error("Point is not on curve");let r=function(n){const{P:e}=U,t=BigInt(6),r=BigInt(11),o=BigInt(22),i=BigInt(23),s=BigInt(44),a=BigInt(88),c=n*n*n%e,h=c*c*n%e,f=J(h,B)*h%e,u=J(f,B)*h%e,l=J(u,A)*c%e,d=J(l,r)*l%e,p=J(d,o)*d%e,y=J(p,s)*p%e,g=J(y,a)*y%e,b=J(g,s)*p%e,w=J(b,B)*h%e,m=J(w,i)*d%e,E=J(m,t)*c%e;return J(E,A)}(S(t));const o=(r&x)===x;e?o&&(r=q(-r)):1==(1&n[0])!==o&&(r=q(-r));const i=new H(t,r);return i.assertValidity(),i}static fromUncompressedHex(n){const e=K(n.subarray(1,33)),t=K(n.subarray(33,65)),r=new H(e,t);return r.assertValidity(),r}static fromHex(n){const e=V(n),t=e.length,r=e[0];if(32===t||33===t&&(2===r||3===r))return this.fromCompressedHex(e);if(65===t&&4===r)return this.fromUncompressedHex(e);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${t}`)}static fromPrivateKey(n){return H.BASE.multiply(sn(n))}static fromSignature(n,e,t){const r=nn(n=V(n)),{r:o,s:i}=cn(e);if(0!==t&&1!==t)throw new Error("Cannot recover signature: invalid recovery bit");const s=1&t?"03":"02",a=H.fromHex(s+D(o)),{n:c}=U,h=Z(o,c),f=q(-r*h,c),u=q(i*h,c),l=H.BASE.multiplyAndAddUnsafe(a,f,u);if(!l)throw new Error("Cannot recover signature: point at infinify");return l.assertValidity(),l}toRawBytes(n=!1){return G(this.toHex(n))}toHex(n=!1){const e=D(this.x);return n?`${this.y&x?"03":"02"}${e}`:`04${e}${D(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const n="Point is not on elliptic curve",{x:e,y:t}=this;if(!rn(e)||!rn(t))throw new Error(n);const r=q(t*t);if(q(r-S(e))!==v)throw new Error(n)}equals(n){return this.x===n.x&&this.y===n.y}negate(){return new H(this.x,q(-this.y))}double(){return T.fromAffine(this).double().toAffine()}add(n){return T.fromAffine(this).add(T.fromAffine(n)).toAffine()}subtract(n){return this.add(n.negate())}multiply(n){return T.fromAffine(this).multiply(n,this).toAffine()}multiplyAndAddUnsafe(n,e,t){const r=T.fromAffine(this),o=e===v||e===x||this!==H.BASE?r.multiplyUnsafe(e):r.multiply(e),i=T.fromAffine(n).multiplyUnsafe(t),s=o.add(i);return s.equals(T.ZERO)?void 0:s.toAffine()}}function C(n){return Number.parseInt(n[0],16)>=8?"00"+n:n}function O(n){if(n.length<2||2!==n[0])throw new Error(`Invalid signature integer tag: ${j(n)}`);const e=n[1],t=n.subarray(2,e+2);if(!e||t.length!==e)throw new Error("Invalid signature integer: wrong length");if(0===t[0]&&t[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:K(t),left:n.subarray(e+2)}}H.BASE=new H(U.Gx,U.Gy),H.ZERO=new H(v,v);class R{constructor(n,e){this.r=n,this.s=e,this.assertValidity()}static fromCompact(n){const e=P(n),t="Signature.fromCompact";if("string"!=typeof n&&!e)throw new TypeError(`${t}: Expected string or Uint8Array`);const r=e?j(n):n;if(128!==r.length)throw new Error(`${t}: Expected 64-byte hex`);return new R(z(r.slice(0,64)),z(r.slice(64,128)))}static fromDER(n){const e=P(n);if("string"!=typeof n&&!e)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:t,s:r}=function(n){if(n.length<2||48!=n[0])throw new Error(`Invalid signature tag: ${j(n)}`);if(n[1]!==n.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:t}=O(n.subarray(2)),{data:r,left:o}=O(t);if(o.length)throw new Error(`Invalid signature: left bytes after parsing: ${j(o)}`);return{r:e,s:r}}(e?n:G(n));return new R(t,r)}static fromHex(n){return this.fromDER(n)}assertValidity(){const{r:n,s:e}=this;if(!tn(n))throw new Error("Invalid Signature: r must be 0 < r < n");if(!tn(e))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const n=U.n>>x;return this.s>n}normalizeS(){return this.hasHighS()?new R(this.r,U.n-this.s):this}toDERRawBytes(n=!1){return G(this.toDERHex(n))}toDERHex(n=!1){const e=C(M(this.s));if(n)return e;const t=C(M(this.r)),r=M(t.length/2),o=M(e.length/2);return`30${M(t.length/2+e.length/2+4)}02${r}${t}02${o}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return G(this.toCompactHex())}toCompactHex(){return D(this.r)+D(this.s)}}function N(...n){if(!n.every(P))throw new Error("Uint8Array list expected");if(1===n.length)return n[0];const e=n.reduce(((n,e)=>n+e.length),0),t=new Uint8Array(e);for(let e=0,r=0;e<n.length;e++){const o=n[e];t.set(o,r),r+=o.length}return t}function P(n){return n instanceof Uint8Array}const $=Array.from({length:256},((n,e)=>e.toString(16).padStart(2,"0")));function j(n){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let t=0;t<n.length;t++)e+=$[n[t]];return e}function D(n){if(n>I)throw new Error("Expected number < 2^256");return n.toString(16).padStart(64,"0")}function F(n){return G(D(n))}function M(n){const e=n.toString(16);return 1&e.length?`0${e}`:e}function z(n){if("string"!=typeof n)throw new TypeError("hexToNumber: expected string, got "+typeof n);return BigInt(`0x${n}`)}function G(n){if("string"!=typeof n)throw new TypeError("hexToBytes: expected string, got "+typeof n);if(n.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+n.length);const e=new Uint8Array(n.length/2);for(let t=0;t<e.length;t++){const r=2*t,o=n.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[t]=i}return e}function K(n){return z(j(n))}function V(n){return n instanceof Uint8Array?Uint8Array.from(n):G(n)}function W(n){if("number"==typeof n&&Number.isSafeInteger(n)&&n>0)return BigInt(n);if("bigint"==typeof n&&tn(n))return n;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function q(n,e=U.P){const t=n%e;return t>=v?t:e+t}function J(n,e){const{P:t}=U;let r=n;for(;e-- >v;)r*=r,r%=t;return r}function Z(n,e=U.P){if(n===v||e<=v)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=q(n,e),r=e,o=v,i=x,s=x,a=v;for(;t!==v;){const n=r/t,e=r%t,c=o-s*n,h=i-a*n;r=t,t=e,o=s,i=a,s=c,a=h}if(r!==x)throw new Error("invert: does not exist");return q(o,e)}const Y=(n,e)=>(n+e/A)/e,X=A**BigInt(128);function Q(n){const{n:e}=U,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-x*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,s=Y(i*n,e),a=Y(-r*n,e);let c=q(n-s*t-a*o,e),h=q(-s*r-a*i,e);const f=c>X,u=h>X;if(f&&(c=e-c),u&&(h=e-h),c>X||h>X)throw new Error("splitScalarEndo: Endomorphism failed, k="+n);return{k1neg:f,k1:c,k2neg:u,k2:h}}function nn(n){const{n:e}=U,t=8*n.length-256;let r=K(n);return t>0&&(r>>=BigInt(t)),r>=e&&(r-=e),r}class en{constructor(){this.v=new Uint8Array(32).fill(1),this.k=new Uint8Array(32).fill(0),this.counter=0}hmac(...n){return En.hmacSha256(this.k,...n)}hmacSync(...n){if("function"!=typeof En.hmacSha256Sync)throw new Error("utils.hmacSha256Sync is undefined, you need to set it");const e=En.hmacSha256Sync(this.k,...n);if(e instanceof Promise)throw new Error("To use sync sign(), ensure utils.hmacSha256 is sync");return e}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(n=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),n),this.v=await this.hmac(this.v),0!==n.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),n),this.v=await this.hmac(this.v))}reseedSync(n=new Uint8Array){this.k=this.hmacSync(this.v,Uint8Array.from([0]),n),this.v=this.hmacSync(this.v),0!==n.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),n),this.v=this.hmacSync(this.v))}async generate(){return this.incr(),this.v=await this.hmac(this.v),this.v}generateSync(){return this.incr(),this.v=this.hmacSync(this.v),this.v}}function tn(n){return v<n&&n<U.n}function rn(n){return v<n&&n<U.P}function on(n,e,t){const r=K(n);if(!tn(r))return;const{n:o}=U,i=H.BASE.multiply(r),s=q(i.x,o);if(s===v)return;const a=q(Z(r,o)*q(e+t*s,o),o);if(a===v)return;const c=new R(s,a);return{sig:c,recovery:(i.x===c.r?0:2)|Number(i.y&x)}}function sn(n){let e;if("bigint"==typeof n)e=n;else if("number"==typeof n&&Number.isSafeInteger(n)&&n>0)e=BigInt(n);else if("string"==typeof n){if(64!==n.length)throw new Error("Expected 32 bytes of private key");e=z(n)}else{if(!P(n))throw new TypeError("Expected valid private key");if(32!==n.length)throw new Error("Expected 32 bytes of private key");e=K(n)}if(!tn(e))throw new Error("Expected private key: 0 < key < n");return e}function an(n){return n instanceof H?(n.assertValidity(),n):H.fromHex(n)}function cn(n){if(n instanceof R)return n.assertValidity(),n;try{return R.fromDER(n)}catch(e){return R.fromCompact(n)}}function hn(n,e=!1){return H.fromPrivateKey(n).toRawBytes(e)}function fn(n){const e=P(n),t="string"==typeof n,r=(e||t)&&n.length;return e?33===r||65===r:t?66===r||130===r:n instanceof H}function un(n,e,t=!1){if(fn(n))throw new TypeError("getSharedSecret: first arg must be private key");if(!fn(e))throw new TypeError("getSharedSecret: second arg must be public key");const r=an(e);return r.assertValidity(),r.multiply(sn(n)).toRawBytes(t)}function ln(n){return K(n.length>32?n.slice(0,32):n)}function dn(n){const e=ln(n),t=q(e,U.n);return pn(t<v?e:t)}function pn(n){if("bigint"!=typeof n)throw new Error("Expected bigint");return G(D(n))}function yn(n,e,t={}){const{seed:r,m:o,d:i}=function(n,e,t){if(null==n)throw new Error(`sign: expected valid message hash, not "${n}"`);const r=V(n),o=sn(e),i=[pn(o),dn(r)];if(null!=t){!0===t&&(t=En.randomBytes(32));const n=V(t);if(32!==n.length)throw new Error("sign: Expected 32 bytes of extra data");i.push(n)}return{seed:N(...i),m:ln(r),d:o}}(n,e,t.extraEntropy);let s;const a=new en;for(a.reseedSync(r);!(s=on(a.generateSync(),o,i));)a.reseedSync();return function(n,e){let{sig:t,recovery:r}=n;const{canonical:o,der:i,recovered:s}=Object.assign({canonical:!0,der:!0},e);o&&t.hasHighS()&&(t=t.normalizeS(),r^=1);const a=i?t.toDERRawBytes():t.toCompactRawBytes();return s?[a,r]:a}(s,t)}const gn={strict:!0};function bn(n,e,t,r=gn){let o;try{o=cn(n),e=V(e)}catch(n){return!1}const{r:i,s}=o;if(r.strict&&o.hasHighS())return!1;const a=nn(e);let c;try{c=an(t)}catch(n){return!1}const{n:h}=U,f=Z(s,h),u=q(a*f,h),l=q(i*f,h),d=H.BASE.multiplyAndAddUnsafe(c,u,l);return!!d&&q(d.x,h)===i}H.BASE._setWindowSize(8);const wn={node:E,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},mn={},En={isValidPrivateKey(n){try{return sn(n),!0}catch(n){return!1}},privateAdd:(n,e)=>F(q(sn(n)+sn(e),U.n)),privateNegate:n=>{const e=sn(n);return F(U.n-e)},pointAddScalar:(n,e,t)=>{const r=H.fromHex(n),o=sn(e),i=H.BASE.multiplyAndAddUnsafe(r,o,x);if(!i)throw new Error("Tweaked point at infinity");return i.toRawBytes(t)},pointMultiply:(n,e,t)=>{const r=H.fromHex(n),o=K(V(e));return r.multiply(o).toRawBytes(t)},hashToPrivateKey:n=>{if((n=V(n)).length<40||n.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return F(q(K(n),U.n-x)+x)},randomBytes:(n=32)=>{if(wn.web)return wn.web.getRandomValues(new Uint8Array(n));if(wn.node){const{randomBytes:e}=wn.node;return Uint8Array.from(e(n))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>En.hashToPrivateKey(En.randomBytes(40)),bytesToHex:j,hexToBytes:G,concatBytes:N,mod:q,invert:Z,sha256:async(...n)=>{if(wn.web){const e=await wn.web.subtle.digest("SHA-256",N(...n));return new Uint8Array(e)}if(wn.node){const{createHash:e}=wn.node,t=e("sha256");return n.forEach((n=>t.update(n))),Uint8Array.from(t.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(n,...e)=>{if(wn.web){const t=await wn.web.subtle.importKey("raw",n,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=N(...e),o=await wn.web.subtle.sign("HMAC",t,r);return new Uint8Array(o)}if(wn.node){const{createHmac:t}=wn.node,r=t("sha256",n);return e.forEach((n=>r.update(n))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(n,...e)=>{let t=mn[n];if(void 0===t){const e=await En.sha256(Uint8Array.from(n,(n=>n.charCodeAt(0))));t=N(e,e),mn[n]=t}return En.sha256(t,...e)},taggedHashSync:(n,...e)=>{if("function"!=typeof En.sha256Sync)throw new Error("utils.sha256Sync is undefined, you need to set it");let t=mn[n];if(void 0===t){const e=En.sha256Sync(Uint8Array.from(n,(n=>n.charCodeAt(0))));t=N(e,e),mn[n]=t}return En.sha256Sync(t,...e)},precompute(n=8,e=H.BASE){const t=e===H.BASE?e:new H(e.x,e.y);return t._setWindowSize(n),t.multiply(B),t}};var vn=o(834),xn=o(834).Buffer;const An=void 0!==xn?xn:vn.Buffer;function Bn(n){if("string"!=typeof n)throw new TypeError("hexToBigInt: expected string, got "+typeof n);return BigInt(`0x${n}`)}function kn(n,e=16){const t=function(n,e=8){return("bigint"==typeof n?n:function(n,e){let t=n;if("number"==typeof t){if(!Number.isInteger(t))throw new RangeError("Invalid value. Values of type 'number' must be an integer.");return BigInt(t)}if("string"==typeof t)if(t.toLowerCase().startsWith("0x")){let n=t.slice(2);n=n.padStart(n.length+n.length%2,"0"),t=An.from(n,"hex")}else try{return BigInt(t)}catch(n){if(n instanceof SyntaxError)throw new RangeError(`Invalid value. String integer '${t}' is not finite.`)}if("bigint"==typeof t)return t;if(t instanceof Uint8Array||An.isBuffer(t)){if(e){const n=function(n,e){return function(n,e){return n&BigInt(1)<<e}(n,e-BigInt(1))?n-(BigInt(1)<<e):n}(BigInt(`0x${Un(t)}`),BigInt(8*t.byteLength));return BigInt(n.toString())}return BigInt(`0x${Un(t)}`)}if(null!=t&&"object"==typeof t&&"BN"===t.constructor.name)return BigInt(t.toString());throw new TypeError("Invalid value type. Must be a number, bigint, integer-string, hex-string, or Buffer.")}(n,!1)).toString(16).padStart(2*e,"0")}(n,e);return An.from(Sn(t))}const In=Array.from({length:256},((n,e)=>e.toString(16).padStart(2,"0")));function Un(n){if(!(n instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(const t of n)e+=In[t];return e}function Sn(n){if("string"!=typeof n)throw new TypeError("hexToBytes: expected string, got "+typeof n);if(n.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(n.length/2);for(let t=0;t<e.length;t++){const r=2*t,o=n.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[t]=i}return e}function _n(...n){if(!n.every((n=>n instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===n.length)return n[0];const e=n.reduce(((n,e)=>n+e.length),0),t=new Uint8Array(e);for(let e=0,r=0;e<n.length;e++){const o=n[e];t.set(o,r),r+=o.length}return t}const Tn={MISSING_PARAMETER:"missing_parameter",REMOTE_SERVICE_ERROR:"remote_service_error",INVALID_STATE:"invalid_state",NO_SESSION_DATA:"no_session_data",DOES_NOT_EXIST:"does_not_exist",FAILED_DECRYPTION_ERROR:"failed_decryption_error",INVALID_DID_ERROR:"invalid_did_error",NOT_ENOUGH_FUNDS_ERROR:"not_enough_error",INVALID_AMOUNT_ERROR:"invalid_amount_error",LOGIN_FAILED_ERROR:"login_failed",SIGNATURE_VERIFICATION_ERROR:"signature_verification_failure",CONFLICT_ERROR:"conflict_error",NOT_ENOUGH_PROOF_ERROR:"not_enough_proof_error",BAD_PATH_ERROR:"bad_path_error",VALIDATION_ERROR:"validation_error",PAYLOAD_TOO_LARGE_ERROR:"payload_too_large_error",PRECONDITION_FAILED_ERROR:"precondition_failed_error",UNKNOWN:"unknown"};Object.freeze(Tn);class Ln extends Error{constructor(n){super();let e=n.message,t=`Error Code: ${n.code}`,r=this.stack;if(r)t+=`Stack Trace:\n${r}`;else try{throw new Error}catch(n){r=n.stack}e+=`\nIf you believe this exception is caused by a bug in stacks.js,\n      please file a bug report: https://github.com/blockstack/stacks.js/issues\n\n${t}`,this.message=e,this.code=n.code,this.parameter=n.parameter?n.parameter:void 0}toString(){return`${super.toString()}\n    code: ${this.code} param: ${this.parameter?this.parameter:"n/a"}`}}class Hn extends Ln{constructor(n="Unable to decrypt cipher object."){super({code:Tn.FAILED_DECRYPTION_ERROR,message:n}),this.message=n,this.name="FailedDecryptionError"}}function Cn(n){return n.slice(-2)+n.slice(0,-2)}async function On(){if("undefined"!=typeof crypto&&void 0!==crypto.subtle)return{lib:crypto.subtle,name:"subtleCrypto"};try{return{lib:o(85),name:"nodeCrypto"}}catch(n){throw new Error('Crypto lib not found. Either the WebCrypto "crypto.subtle" or Node.js "crypto" module must be available.')}}class Rn{constructor(n,e){this.createCipher=n,this.createDecipher=e}async encrypt(n,e,t,r){if("aes-128-cbc"!==n&&"aes-256-cbc"!==n)throw new Error(`Unsupported cipher algorithm "${n}"`);const o=this.createCipher(n,e,t),i=An.concat([o.update(r),o.final()]);return Promise.resolve(i)}async decrypt(n,e,t,r){if("aes-128-cbc"!==n&&"aes-256-cbc"!==n)throw new Error(`Unsupported cipher algorithm "${n}"`);const o=this.createDecipher(n,e,t),i=An.concat([o.update(r),o.final()]);return Promise.resolve(i)}}class Nn{constructor(n){this.subtleCrypto=n}async encrypt(n,e,t,r){let o,i;if("aes-128-cbc"===n)o="AES-CBC",i=128;else{if("aes-256-cbc"!==n)throw new Error(`Unsupported cipher algorithm "${n}"`);o="AES-CBC",i=256}const s=await this.subtleCrypto.importKey("raw",e,{name:o,length:i},!1,["encrypt"]),a=await this.subtleCrypto.encrypt({name:o,iv:t},s,r);return An.from(a)}async decrypt(n,e,t,r){let o,i;if("aes-128-cbc"===n)o="AES-CBC",i=128;else{if("aes-256-cbc"!==n)throw new Error(`Unsupported cipher algorithm "${n}"`);o="AES-CBC",i=256}const s=await this.subtleCrypto.importKey("raw",e,{name:o,length:i},!1,["decrypt"]),a=await this.subtleCrypto.decrypt({name:o,iv:t},s,r);return An.from(a)}}async function Pn(){const n=await On();return"subtleCrypto"===n.name?new Nn(n.lib):new Rn(n.lib.createCipheriv,n.lib.createDecipheriv)}class $n{constructor(n){this.createHmac=n}async digest(n,e){const t=this.createHmac("sha256",n).update(e).digest();return Promise.resolve(t)}}class jn{constructor(n){this.subtleCrypto=n}async digest(n,e){const t=await this.subtleCrypto.importKey("raw",n,{name:"HMAC",hash:"SHA-256"},!0,["sign"]),r=await this.subtleCrypto.sign({name:"HMAC",hash:"SHA-256"},t,e);return An.from(r)}}async function Dn(){const n=await On();return"subtleCrypto"===n.name?new jn(n.lib):new $n(n.lib.createHmac)}function Fn(n){const e=An.isBuffer(n)?n:An.from(n,"hex");if(32!=e.length&&33!=e.length)throw new Error(`Improperly formatted private-key. Private-key byte length should be 32 or 33. Length provided: ${e.length}`);if(33==e.length&&1!==e[32])throw new Error("Improperly formatted private-key. 33 bytes indicate compressed key, but the last byte must be == 01");return e}var Mn,zn;!function(n){n[n.Testnet=2147483648]="Testnet",n[n.Mainnet=1]="Mainnet"}(Mn||(Mn={})),function(n){n[n.Mainnet=0]="Mainnet",n[n.Testnet=128]="Testnet"}(zn||(zn={}));var Gn=o(22),Kn=o.n(Gn);const Vn=new Array(16),Wn=he([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),qn=he([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),Jn=he([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),Zn=he([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),Yn=ce([0,1518500249,1859775393,2400959708,2840853838]),Xn=ce([1352829926,1548603684,1836072691,2053994217,0]);function Qn(n,e){return n<<e|n>>>32-e}function ne(n,e,t,r,o,i,s,a){return Qn(n+(e^t^r)+i+s|0,a)+o|0}function ee(n,e,t,r,o,i,s,a){return Qn(n+(e&t|~e&r)+i+s|0,a)+o|0}function te(n,e,t,r,o,i,s,a){return Qn(n+((e|~t)^r)+i+s|0,a)+o|0}function re(n,e,t,r,o,i,s,a){return Qn(n+(e&r|t&~r)+i+s|0,a)+o|0}function oe(n,e,t,r,o,i,s,a){return Qn(n+(e^(t|~r))+i+s|0,a)+o|0}function ie(n,e){return n[e>>>=0]|n[e+1]<<8|n[e+2]<<16|n[e+3]<<24}function se(n,e,t){return e=+e,n[3+(t>>>=0)]=e>>>24,n[t+2]=e>>>16,n[t+1]=e>>>8,n[t]=255&e,t+4}function ae(n,e,t){return e=+e,n[t>>>=0]=255&e,n[t+1]=e>>>8,n[t+2]=e>>>16,n[t+3]=e>>>24,t+4}function ce(n){return"undefined"!=typeof Uint32Array?new Uint32Array(n):n}function he(n){return"undefined"!=typeof Uint8Array?new Uint8Array(n):n}function fe(n){return"undefined"!=typeof Uint8Array?new Uint8Array(n):new Array(n)}class ue{digest(n){const e=new class{constructor(){this._block=fe(64),this._blockSize=64,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1,this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}update(n){if(this._finalized)throw new Error("Digest already called");const e=this._block;let t=0;for(;this._blockOffset+n.length-t>=this._blockSize;){for(let r=this._blockOffset;r<this._blockSize;)e[r++]=n[t++];this._update(),this._blockOffset=0}for(;t<n.length;)e[this._blockOffset++]=n[t++];for(let e=0,t=8*n.length;t>0;++e)this._length[e]+=t,t=this._length[e]/4294967296|0,t>0&&(this._length[e]-=4294967296*t);return this}_update(){const n=Vn;for(let e=0;e<16;++e)n[e]=ie(this._block,4*e);let e=0|this._a,t=0|this._b,r=0|this._c,o=0|this._d,i=0|this._e,s=0|this._a,a=0|this._b,c=0|this._c,h=0|this._d,f=0|this._e;for(let u=0;u<80;u+=1){let l,d;u<16?(l=ne(e,t,r,o,i,n[Wn[u]],Yn[0],Jn[u]),d=oe(s,a,c,h,f,n[qn[u]],Xn[0],Zn[u])):u<32?(l=ee(e,t,r,o,i,n[Wn[u]],Yn[1],Jn[u]),d=re(s,a,c,h,f,n[qn[u]],Xn[1],Zn[u])):u<48?(l=te(e,t,r,o,i,n[Wn[u]],Yn[2],Jn[u]),d=te(s,a,c,h,f,n[qn[u]],Xn[2],Zn[u])):u<64?(l=re(e,t,r,o,i,n[Wn[u]],Yn[3],Jn[u]),d=ee(s,a,c,h,f,n[qn[u]],Xn[3],Zn[u])):(l=oe(e,t,r,o,i,n[Wn[u]],Yn[4],Jn[u]),d=ne(s,a,c,h,f,n[qn[u]],Xn[4],Zn[u])),e=i,i=o,o=Qn(r,10),r=t,t=l,s=f,f=h,h=Qn(c,10),c=a,a=d}const u=this._b+r+h|0;this._b=this._c+o+f|0,this._c=this._d+i+s|0,this._d=this._e+e+a|0,this._e=this._a+t+c|0,this._a=u}digest(){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),se(this._block,this._length[0],56),se(this._block,this._length[1],60),this._update();const n=fe(20);ae(n,this._a,0),ae(n,this._b,4),ae(n,this._c,8),ae(n,this._d,12),ae(n,this._e,16),this._block.fill(0),this._blockOffset=0;for(let n=0;n<4;++n)this._length[n]=0;return n}};e.update(n);const t=e.digest();return Array.isArray(t)?An.from(t):An.from(t.buffer)}}function le(n){return(new ue).digest(n)}const de=BigInt(2**32-1),pe=BigInt(32);function ye(n,e=!1){return e?{h:Number(n&de),l:Number(n>>pe&de)}:{h:0|Number(n>>pe&de),l:0|Number(n&de)}}const ge=function(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let o=0;o<n.length;o++){const{h:i,l:s}=ye(n[o],e);[t[o],r[o]]=[i,s]}return[t,r]},be=(n,e,t)=>n>>>t,we=(n,e,t)=>n<<32-t|e>>>t,me=(n,e,t)=>n>>>t|e<<32-t,Ee=(n,e,t)=>n<<32-t|e>>>t,ve=(n,e,t)=>n<<64-t|e>>>t-32,xe=(n,e,t)=>n>>>t-32|e<<64-t,Ae=function(n,e,t,r){const o=(e>>>0)+(r>>>0);return{h:n+t+(o/2**32|0)|0,l:0|o}},Be=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),ke=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,Ie=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),Ue=(n,e,t,r,o)=>e+t+r+o+(n/2**32|0)|0,Se=(n,e,t,r,o,i)=>e+t+r+o+i+(n/2**32|0)|0,_e=(n,e,t,r,o)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(o>>>0),[Te,Le]=ge(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((n=>BigInt(n)))),He=new Uint32Array(80),Ce=new Uint32Array(80);class Oe extends l{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:n,Al:e,Bh:t,Bl:r,Ch:o,Cl:i,Dh:s,Dl:a,Eh:c,El:h,Fh:f,Fl:u,Gh:l,Gl:d,Hh:p,Hl:y}=this;return[n,e,t,r,o,i,s,a,c,h,f,u,l,d,p,y]}set(n,e,t,r,o,i,s,a,c,h,f,u,l,d,p,y){this.Ah=0|n,this.Al=0|e,this.Bh=0|t,this.Bl=0|r,this.Ch=0|o,this.Cl=0|i,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|h,this.Fh=0|f,this.Fl=0|u,this.Gh=0|l,this.Gl=0|d,this.Hh=0|p,this.Hl=0|y}process(n,e){for(let t=0;t<16;t++,e+=4)He[t]=n.getUint32(e),Ce[t]=n.getUint32(e+=4);for(let n=16;n<80;n++){const e=0|He[n-15],t=0|Ce[n-15],r=me(e,t,1)^me(e,t,8)^be(e,t,7),o=Ee(e,t,1)^Ee(e,t,8)^we(e,t,7),i=0|He[n-2],s=0|Ce[n-2],a=me(i,s,19)^ve(i,s,61)^be(i,s,6),c=Ee(i,s,19)^xe(i,s,61)^we(i,s,6),h=Ie(o,c,Ce[n-7],Ce[n-16]),f=Ue(h,r,a,He[n-7],He[n-16]);He[n]=0|f,Ce[n]=0|h}let{Ah:t,Al:r,Bh:o,Bl:i,Ch:s,Cl:a,Dh:c,Dl:h,Eh:f,El:u,Fh:l,Fl:d,Gh:p,Gl:y,Hh:g,Hl:b}=this;for(let n=0;n<80;n++){const e=me(f,u,14)^me(f,u,18)^ve(f,u,41),w=Ee(f,u,14)^Ee(f,u,18)^xe(f,u,41),m=f&l^~f&p,E=_e(b,w,u&d^~u&y,Le[n],Ce[n]),v=Se(E,g,e,m,Te[n],He[n]),x=0|E,A=me(t,r,28)^ve(t,r,34)^ve(t,r,39),B=Ee(t,r,28)^xe(t,r,34)^xe(t,r,39),k=t&o^t&s^o&s,I=r&i^r&a^i&a;g=0|p,b=0|y,p=0|l,y=0|d,l=0|f,d=0|u,({h:f,l:u}=Ae(0|c,0|h,0|v,0|x)),c=0|s,h=0|a,s=0|o,a=0|i,o=0|t,i=0|r;const U=Be(x,B,I);t=ke(U,v,A,k),r=0|U}({h:t,l:r}=Ae(0|this.Ah,0|this.Al,0|t,0|r)),({h:o,l:i}=Ae(0|this.Bh,0|this.Bl,0|o,0|i)),({h:s,l:a}=Ae(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l:h}=Ae(0|this.Dh,0|this.Dl,0|c,0|h)),({h:f,l:u}=Ae(0|this.Eh,0|this.El,0|f,0|u)),({h:l,l:d}=Ae(0|this.Fh,0|this.Fl,0|l,0|d)),({h:p,l:y}=Ae(0|this.Gh,0|this.Gl,0|p,0|y)),({h:g,l:b}=Ae(0|this.Hh,0|this.Hl,0|g,0|b)),this.set(t,r,o,i,s,a,c,h,f,u,l,d,p,y,g,b)}roundClean(){He.fill(0),Ce.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Re extends Oe{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class Ne extends Oe{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const Pe=h((()=>new Oe));h((()=>new Re)),h((()=>new Ne));class $e{constructor(n){this.createHash=n}async digest(n,e="sha256"){try{const t=this.createHash(e).update(n).digest();return Promise.resolve(t)}catch(t){return console.log(t),console.log(`Error performing ${e} digest with Node.js 'crypto.createHash', falling back to JS implementation.`),Promise.resolve("sha256"===e?Fe(n):Me(n))}}}class je{constructor(n){this.subtleCrypto=n}async digest(n,e="sha256"){let t;if("sha256"===e)t="SHA-256";else{if("sha512"!==e)throw new Error(`Unsupported hash algorithm ${e}`);t="SHA-512"}try{const e=await this.subtleCrypto.digest(t,n);return An.from(e)}catch(t){return console.log(t),console.log(`Error performing ${e} digest with WebCrypto, falling back to JS implementation.`),Promise.resolve("sha256"===e?Fe(n):Me(n))}}}async function De(){const n=await On();return"subtleCrypto"===n.name?new je(n.lib):new $e(n.lib.createHash)}function Fe(n){return An.from(w(n))}function Me(n){return An.from(Pe(n))}function ze(){return An.from(En.randomPrivateKey()).toString("hex")}function Ge(n){const e=An.from(Kn().decode(n)),t=e.slice(0,-4),r=e.slice(-4),o=w(w(t));if(r[0]^o[0]|r[1]^o[1]|r[2]^o[2]|r[3]^o[3])throw new Error("Invalid checksum");if(21!==t.length)throw new TypeError("Invalid address length");return{version:t.readUInt8(0),hash:t.slice(1)}}function Ke(n){const e=An.from(w(w(n)));return Kn().encode(An.concat([n,e],n.length+4))}function Ve(n,e){return Ke(An.from([n,...e].slice(0,21)))}function We(n){return Ve(0,le(Fe(An.isBuffer(n)?n:An.from(n,"hex"))))}function qe(n,e=0){return Ve(e,le(Fe(An.isBuffer(n)?n:An.from(n,"hex"))))}function Je(n){const e=Fn(n);return An.from(hn(e.slice(0,32),!0)).toString("hex")}function Ze(n,e){return An.from(yn(n,Fn(e).slice(0,32),{der:!1}))}function Ye(n){return n.toString("hex")}function Xe(n){return En.isValidPrivateKey(Fn(n))}function Qe(n){const e=Fn(n);return 33==e.length?e:An.concat([e,An.from([1])])}En.hmacSha256Sync=(n,...e)=>{const t=u.create(w,n);return e.forEach((n=>t.update(n))),t.digest()};var nt=o(595);function et(n){return An.from(w(tt(n)))}function tt(n){const e=(0,nt.encode)(An.from(n).length);return An.concat([An.from("Stacks Message Signing:\n"),e,An.from(n)])}function rt(n){const e=n.subarray(25),t=(0,nt.decode)(e),r=(0,nt.encodingLength)(t);return e.slice(r)}function ot(n){return 16*(Math.floor(n/16)+1)}function it(n){return 4*Math.ceil(n/3)}function st(n){let e=0;if(0===n.length)return e;for(let t=0;t<n.length;t++)e=(e<<5)-e+n.charCodeAt(t),e&=e;return 2147483647&e}En.hmacSha256Sync=(n,...e)=>{const t=u.create(w,n);return e.forEach((n=>t.update(n))),t.digest()};var at=(n=>(n.InvalidFormat="InvalidFormat",n.IsNotPoint="IsNotPoint",n))(at||{});async function ct(n,e,t){const r=await Pn();return await r.encrypt("aes-256-cbc",e,n,t)}async function ht(n,e){return(await Dn()).digest(n,e)}function ft(n){const e=Me(n);return{encryptionKey:e.slice(0,32),hmacKey:e.slice(32)}}function ut(n){const e=n.toString(16);if(64===e.length)return e;if(e.length<64)return`${"0".repeat(64-e.length)}${e}`;throw new Error("Generated a > 32-byte BN for encryption. Failing.")}function lt(n){const e=kn(n,32);if(32!==e.byteLength)throw new Error("Failed to generate a 32-byte buffer instance");return e}function dt(n){const e={iv:"",ephemeralPK:"",mac:"",cipherText:"",wasString:!!n.wasString};return"base64"===n.cipherTextEncoding&&(e.cipherTextEncoding="base64"),{payloadValuesLength:162,payloadShell:JSON.stringify(e)}}function pt(n){const e={signature:"",publicKey:"",cipherText:n};return{signedPayloadValuesLength:210,signedPayloadShell:JSON.stringify(e)}}function yt(n){const{payloadShell:e,payloadValuesLength:t}=dt(n),r=ot(n.contentLength);let o;if(n.cipherTextEncoding&&"hex"!==n.cipherTextEncoding){if("base64"!==n.cipherTextEncoding)throw new Error(`Unexpected cipherTextEncoding "${n.cipherTextEncoding}"`);o=it(r)}else o=2*r;if(n.sign){const{signedPayloadShell:n,signedPayloadValuesLength:r}=pt(e);return n.length+r+t+o}return e.length+t+o}async function gt(n,e,t,r){const o=function(n){const e={result:!1,reason_data:"Invalid public key format",reason:"InvalidFormat"},t={result:!1,reason_data:"Public key is not a point",reason:"IsNotPoint"};if(66!==n.length&&130!==n.length)return e;const r=n.slice(0,2);if(130===n.length&&"04"!==r)return e;if(66===n.length&&"02"!==r&&"03"!==r)return e;if(null===n.match(/^[0-9a-f]+$/i))return e;try{return H.fromHex(n).assertValidity(),{result:!0,reason_data:null,reason:null}}catch(n){return t}}(n);if(!o.result)throw o;const i=En.randomPrivateKey(),s=hn(i,!0);let a=un(i,n,!0);a=a.slice(1);const c=ft(An.from(a)),h=En.randomBytes(16),f=await ct(An.from(h),c.encryptionKey,e),u=_n(h,s,f),l=await ht(c.hmacKey,An.from(u));let d;if(r&&"hex"!==r){if("base64"!==r)throw new Error(`Unexpected cipherTextEncoding "${r}"`);d=f.toString("base64")}else d=Un(f);const p={iv:Un(h),ephemeralPK:Un(s),cipherText:d,mac:Un(l),wasString:t};return r&&"hex"!==r&&(p.cipherTextEncoding=r),p}async function bt(n,e){if(!e.ephemeralPK)throw new Hn("Unable to get public key from cipher object. You might be trying to decrypt an unencrypted object.");const t=e.ephemeralPK;let r=un(n,t,!0);r=r.slice(1);const o=ft(An.from(r)),i=Sn(e.iv);let s;if(e.cipherTextEncoding&&"hex"!==e.cipherTextEncoding){if("base64"!==e.cipherTextEncoding)throw new Error(`Unexpected cipherTextEncoding "${e.cipherText}"`);s=An.from(e.cipherText,"base64")}else s=An.from(e.cipherText,"hex");const a=_n(i,Sn(t),s),c=await ht(o.hmacKey,An.from(a)),h=Sn(e.mac);if(!function(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return 0===t}(An.from(h),c))throw new Hn("Decryption failed: failure in MAC check");const f=await async function(n,e,t){const r=await Pn();return await r.decrypt("aes-256-cbc",e,n,t)}(An.from(i),o.encryptionKey,s);return e.wasString?f.toString():f}function wt(n,e){const t=e instanceof An?e:An.from(e),r=Je(n);return{signature:Un(yn(Fe(t),n)),publicKey:r}}function mt(n,e,t){const r=function(n){return n instanceof An?n:(ArrayBuffer,An.from(n))}(n);return bn(t,Fe(r),e,{strict:!1})}function Et({signature:n,message:e,publicKey:t}){const{r,s:o}=function(n){if(n.length<129)throw new Error("Invalid signature");const e=n.slice(0,2),t=n.slice(2,66),r=n.slice(66);return{recoveryId:(o=e,parseInt(o,16)),r:t,s:r};var o}(n);return bn(new R(Bn(r),Bn(o)),"string"==typeof e?et(e):e,t,{strict:!1})}function vt({signature:n,message:e,publicKey:t}){return Et({signature:Cn(n),message:e,publicKey:t})}var xt=o(796),At=o(50);const Bt=n=>An.from(En.randomBytes(n));class kt{constructor(n){this.nodePbkdf2=n}async derive(n,e,t,r,o){if("sha512"!==o&&"sha256"!==o)throw new Error(`Unsupported digest "${o}" for Pbkdf2`);return new Promise(((i,s)=>{this.nodePbkdf2(n,e,t,r,o,((n,e)=>{n&&s(n),i(e)}))}))}}class It{constructor(n){this.subtleCrypto=n}async derive(n,e,t,r,o){let i,s;if("sha256"===o)i="SHA-256";else{if("sha512"!==o)throw new Error(`Unsupported Pbkdf2 digest algorithm "${o}"`);i="SHA-512"}const a=An.from(n,"utf8");try{const n=await this.subtleCrypto.importKey("raw",a,"PBKDF2",!1,["deriveBits"]);s=await this.subtleCrypto.deriveBits({name:"PBKDF2",salt:e,iterations:t,hash:{name:i}},n,8*r)}catch(i){return new Ut(this.subtleCrypto).derive(n,e,t,r,o)}return An.from(s)}}class Ut{constructor(n){this.subtleCrypto=n}async derive(n,e,t,r,o){if("sha512"!==o&&"sha256"!==o)throw new Error(`Unsupported digest "${o}" for Pbkdf2`);const i=An.from(n,"utf8"),s={name:"HMAC",hash:"sha512"===o?"SHA-512":"SHA-256"},a=(n,e)=>this.subtleCrypto.importKey("raw",n,s,!0,["sign"]).then((n=>this.subtleCrypto.sign(s,n,e))).then((n=>new Uint8Array(n))),c=new Uint8Array(r),h=e.length,f=new Uint8Array(h+4);f.set(e);let u=0;const l="sha512"===o?64:32,d=Math.ceil(r/l);for(let n=1;n<=d;n++){g=h,y=+(y=n),(p=f)[g>>>=0]=y>>>24,p[g+1]=y>>>16,p[g+2]=y>>>8,p[g+3]=255&y;const e=await a(i,f);let r=e;for(let n=1;n<t;n++){r=await a(i,r);for(let n=0;n<l;n++)e[n]^=r[n]}c.set(e.subarray(0,c.byteLength-u),u),u+=l}var p,y,g;return An.from(c.buffer)}}async function St(){const n=await On();return"subtleCrypto"===n.name?new It(n.lib):new kt(n.lib.pbkdf2)}async function _t(n,e,t){let r;try{const e=(0,xt.oy)(n,At.U);r=An.from(e).toString("hex")}catch(n){throw console.error("Invalid mnemonic phrase provided"),console.error(n),new Error("Not a valid bip39 mnemonic")}const o=An.from(r,"hex"),i=await St();let s;s=t&&t.getRandomBytes?t.getRandomBytes(16):Bt(16);const a=await i.derive(e,s,1e5,48,"sha512"),c=a.slice(0,16),h=a.slice(16,32),f=a.slice(32,48),u=await Pn(),l=await u.encrypt("aes-128-cbc",c,f,o),d=An.concat([s,l]),p=await Dn(),y=await p.digest(h,d);return An.concat([s,y,l])}class Tt extends Error{}async function Lt(n,e,t){const r=An.isBuffer(n)?n:An.from(n,"hex");try{return await async function(n,e){const t=n.slice(0,16),r=n.slice(16,48),o=n.slice(48),i=An.concat([t,o]),s=await St(),a=await s.derive(e,t,1e5,48,"sha512"),c=a.slice(0,16),h=a.slice(16,32),f=a.slice(32,48),u=await Pn(),l=await u.decrypt("aes-128-cbc",c,f,o),d=await Dn(),p=await d.digest(h,i),y=await De(),g=await y.digest(r),b=await y.digest(p);if(!g.equals(b))throw new Tt("Wrong password (HMAC mismatch)");let w;try{w=(0,xt.JJ)(l,At.U)}catch(n){throw console.error("Error thrown by `entropyToMnemonic`"),console.error(n),new Tt("Wrong password (invalid plaintext)")}if(!(0,xt._I)(w,At.U))throw new Tt("Wrong password (invalid plaintext)");return w}(r,e)}catch(n){if(n instanceof Tt)throw n;const o=await function(n,e,t){return new Promise(((r,o)=>{t||o(new Error("The `triplesec.decrypt` function must be provided")),t({key:An.from(e),data:n},((n,e)=>{n?o(n):r(e)}))}))}(r,e,t);return o.toString()}}async function Ht(n,e){const t=Object.assign({},e);let r,o;if(!t.publicKey){if(!t.privateKey)throw new Error("Either public key or private key must be supplied for encryption.");t.publicKey=Je(t.privateKey)}o="boolean"==typeof t.wasString?t.wasString:"string"==typeof n;const i="string"==typeof n?An.from(n):n,s=await gt(t.publicKey,i,o,t.cipherTextEncoding);let a=JSON.stringify(s);if(t.sign){"string"==typeof t.sign?r=t.sign:r||(r=t.privateKey);const n=wt(r,a),e={signature:n.signature,publicKey:n.publicKey,cipherText:a};a=JSON.stringify(e)}return a}function Ct(n,e){const t=Object.assign({},e);if(!t.privateKey)throw new Error("Private key is required for decryption.");try{const e=JSON.parse(n);return bt(t.privateKey,e)}catch(n){throw n instanceof SyntaxError?new Error("Failed to parse encrypted content JSON. The content may not be encrypted. If using getFile, try passing { decrypt: false }."):n}}})(),i})()));
//# sourceMappingURL=index.js.map