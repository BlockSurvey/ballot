"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createNonFungiblePostCondition = exports.createFungiblePostCondition = exports.createSTXPostCondition = void 0;
const common_1 = require("@stacks/common");
const constants_1 = require("./constants");
const postcondition_types_1 = require("./postcondition-types");
function createSTXPostCondition(principal, conditionCode, amount) {
    if (typeof principal === 'string') {
        principal = (0, postcondition_types_1.parsePrincipalString)(principal);
    }
    return {
        type: constants_1.StacksMessageType.PostCondition,
        conditionType: constants_1.PostConditionType.STX,
        principal,
        conditionCode,
        amount: (0, common_1.intToBigInt)(amount, false),
    };
}
exports.createSTXPostCondition = createSTXPostCondition;
function createFungiblePostCondition(principal, conditionCode, amount, assetInfo) {
    if (typeof principal === 'string') {
        principal = (0, postcondition_types_1.parsePrincipalString)(principal);
    }
    if (typeof assetInfo === 'string') {
        assetInfo = (0, postcondition_types_1.parseAssetInfoString)(assetInfo);
    }
    return {
        type: constants_1.StacksMessageType.PostCondition,
        conditionType: constants_1.PostConditionType.Fungible,
        principal,
        conditionCode,
        amount: (0, common_1.intToBigInt)(amount, false),
        assetInfo,
    };
}
exports.createFungiblePostCondition = createFungiblePostCondition;
function createNonFungiblePostCondition(principal, conditionCode, assetInfo, assetName) {
    if (typeof principal === 'string') {
        principal = (0, postcondition_types_1.parsePrincipalString)(principal);
    }
    if (typeof assetInfo === 'string') {
        assetInfo = (0, postcondition_types_1.parseAssetInfoString)(assetInfo);
    }
    return {
        type: constants_1.StacksMessageType.PostCondition,
        conditionType: constants_1.PostConditionType.NonFungible,
        principal,
        conditionCode,
        assetInfo,
        assetName,
    };
}
exports.createNonFungiblePostCondition = createNonFungiblePostCondition;
//# sourceMappingURL=postcondition.js.map