import { useEffect, useState } from "react";
import { Col, Container, Row, Button } from "react-bootstrap";
import styles from "../../styles/Dashboard.module.css";
import { deleteFileToGaia, getFileFromGaia, getUserData, putFileToGaia } from "../../services/auth.js"
import Link from "next/link";
import { convertToDisplayDateFormat } from "../../services/utils";

export default function DashboardAllPollsComponent() {
    // Variables
    const [allPolls, setAllPolls] = useState();
    const [isDeleting, setIsDeleting] = useState(false);

    // Functions
    useEffect(() => {
        getFileFromGaia("pollIndex.json", {}).then(
            (response) => {
                if (response) {
                    setAllPolls(JSON.parse(response));
                }
            },
            (error) => {
                // File does not exit in gaia
                if (error && error.code == "does_not_exist") {
                    setAllPolls({
                        list: [],
                        ref: {}
                    });
                }
            });
    }, []);

    function getEachRow(pollIndexObject) {
        const gaiaAddress = getUserData()?.gaiaHubConfig?.address;

        function deletePoll(deletablePollIndexObject) {
            const index = allPolls?.list?.findIndex(pollId => pollId === deletablePollIndexObject.id);

            if (index >= 0) {
                setIsDeleting(true);

                // Remove from list and ref
                delete allPolls.ref[deletablePollIndexObject?.id];
                allPolls.list.splice(index, 1);

                // Delete poll from gaia
                const promiseList = [];
                promiseList.push(deleteFileToGaia(`${deletablePollIndexObject.id}.json`));
                promiseList.push(putFileToGaia("pollIndex.json", JSON.stringify(allPolls)));
                Promise.all(promiseList).then(results => {
                    // Update on UI
                    setAllPolls({ ...allPolls });

                    setIsDeleting(false);
                })
            }
        }

        return (
            <Link href={pollIndexObject?.status == "draft" ? `/builder/${pollIndexObject.id}/draft` : `/p/${pollIndexObject.id}/${gaiaAddress}`}>
                <div style={{ border: "1px solid black", borderRadius: "4px", padding: "10px", marginBottom: "10px", cursor: "pointer" }}>
                    <div style={{ display: "flex", justifyContent: "space-between", alignItems: "center" }}>
                        <div>
                            <div style={{ fontSize: "16px", fontWeight: 600, marginBottom: "10px" }}>
                                {pollIndexObject?.title ? pollIndexObject?.title : "..."}
                            </div>

                            <div style={{ fontSize: "14px", color: "#737373" }}>
                                <span>
                                    Status : {pollIndexObject?.status == "draft" ? "Draft" : "Active"}
                                </span>
                                {', '}
                                <span>
                                    Last Modified : {convertToDisplayDateFormat(pollIndexObject?.updatedAt)}
                                </span>
                            </div>
                        </div>

                        {/* <div>
                            <Button variant="danger" onClick={(event) => { event.stopPropagation(); deletePoll(pollIndexObject, setAllPolls) }}
                                disabled={isDeleting}>
                                Delete
                            </Button>
                        </div> */}
                    </div>
                </div>
            </Link>
        )
    }

    // Design
    return (
        <>
            <div className={styles.dashboard_container}>
                {/* Title */}
                <h5>All Polls</h5>

                {/* List of all polls */}
                <div style={{ padding: "10px 0" }}>
                    {allPolls?.list && allPolls?.ref ?
                        allPolls?.list?.length > 0 ?
                            allPolls?.list.map(
                                (pollId, i) => (
                                    <div key={i}>
                                        {getEachRow(allPolls.ref[pollId])}
                                    </div>
                                )
                            )
                            :
                            <div className="row">
                                <div className="col-md-12">
                                    <div style={{ display: "flex", justifyContent: "center", flexDirection: "column", alignItems: "center" }}>
                                        <svg width="150" height="200" viewBox="0 0 323 424" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M7.04263 234.672C10.9896 235.06 14.9365 235.447 18.8835 235.835C37.7865 237.28 56.6821 240.298 75.4404 242.109C75.9074 241.349 76.8216 241.474 77.3766 242.002C79.2484 241.838 81.3463 240.407 83.0418 241.896C83.0969 241.888 83.1519 241.879 83.2075 241.874C86.2265 236.076 88.3132 229.892 90.3386 223.699C91.6313 219.892 93.3705 216.207 96.5845 213.651C102.07 209.841 114.637 202.115 121.078 202.44C121.185 201.286 121.722 200.096 122.605 199.328C120.66 196.009 128.438 193.844 128.987 194.229C128.635 183.141 133.847 173.512 145.341 171.304C155.637 169.157 170.282 168.797 175.819 179.564C176.428 179.495 182.65 179.463 183.252 179.53C184.188 178.344 194.468 189.585 190.255 193.498C227.922 210.171 249.339 208.182 259.765 255.054C261.174 259.457 261.277 264.275 262.765 268.58C268.06 280.952 272.355 294.126 273.424 307.588C276.005 308.25 276.302 312.804 273.312 313.463C272.17 313.715 271.215 314.059 270.382 314.711C271.033 325.743 268.366 350.944 266.686 350.866C263.261 361.775 247.98 364.854 237.162 361.02C239.027 364.531 237.162 366.738 237.162 368.614C198.237 370.088 155.675 369.239 116.76 371.26C111.782 371.189 106.547 372.483 101.637 371.738C98.6425 371.02 98.6376 366.309 101.675 365.727L88.4036 362.842C88.7003 362.73 82.9332 358.892 78.5745 351.719C74.5175 343.696 77.2787 334.01 75.4404 325.283C61.0825 324.108 46.4872 323.605 32.2865 321.172C30.3503 326.969 21.9685 320.036 19.3043 317.248C19.3076 317.243 19.3109 317.239 19.3143 317.235C18.0249 316.882 16.9909 315.672 16.9564 314.241C16.0521 312.948 15.8623 311.126 16.7295 309.877C12.7551 286.929 6.6962 263.499 4.50623 240.336C3.73206 240.165 3.00299 239.825 2.38486 239.302L2.43494 239.252C1.3877 238.084 1.18405 236.067 2.92993 235.074C4.33829 234.273 5.51419 234.521 7.04263 234.672Z" fill="white" />
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M175.102 177.063C173.929 174.114 169.964 175.26 170.406 178.359C170.671 180.215 171.687 182.175 172.599 183.801C173.342 185.125 174.19 186.417 175.339 187.41C173.293 189.319 171.17 191.159 168.993 192.906C166.618 194.812 164.12 196.569 161.538 198.183C159.274 199.6 156.907 200.854 154.773 202.47C152.789 203.972 150.981 205.779 150.061 208.137C149.081 210.649 149.507 213.242 150.229 215.752L150.312 216.036C151.049 218.522 152.325 221.52 150.556 223.862C149.655 225.055 148.345 225.899 147.214 226.853C146.209 227.7 145.266 228.622 144.401 229.612C142.514 231.77 140.98 234.198 140.012 236.903L139.925 237.149C139.095 239.544 138.489 242.478 139.61 244.83C139.932 245.504 140.969 245.285 141.15 244.628C141.557 243.141 141.536 241.584 141.877 240.076C142.233 238.508 142.824 237.019 143.597 235.611C145.092 232.887 147.116 230.559 149.508 228.592L150.224 228.009C152.09 226.477 153.804 224.852 154.183 222.316C154.588 219.603 153.502 217.018 152.803 214.451C152.316 212.661 152.157 210.946 152.683 209.329C153.326 210.378 154.203 211.375 154.896 212.263C156.278 214.034 157.672 215.793 159.062 217.556C160.488 219.364 161.879 221.2 163.203 223.084C163.795 223.927 164.381 224.774 164.965 225.623C165.405 226.261 166.017 226.898 166.496 227.548C166.379 227.896 166.388 228.297 166.599 228.582C169.138 232.015 172.75 224.853 173.692 223.043C175.61 219.359 177.038 215.444 178.962 211.76C180.957 207.941 183.228 204.223 185.759 200.737C187.29 198.628 189.006 196.647 190.406 194.471C193.706 197.465 198.048 199.472 202.036 201.292C206.417 203.291 210.97 204.924 215.462 206.659L216.789 207.174C224.53 210.197 232.46 213.518 238.894 218.888C246.454 225.197 250.927 233.991 254.257 243.098C258.09 253.582 261.262 264.349 264.218 275.109C265.731 280.614 267.166 286.144 268.515 291.692C269.704 296.58 270.69 301.516 272.067 306.354C269.275 306.255 266.091 307.337 263.708 307.649C252.845 309.072 242.129 311.339 231.873 315.266C230.606 315.751 230.24 317.017 230.516 318.043C229.785 317.837 229.055 317.628 228.324 317.423C229.125 316.195 228.743 314.002 228.68 312.641L228.676 312.548C228.611 310.735 228.415 308.921 228.287 307.112C228.045 303.663 227.729 300.24 227.309 296.811L227.202 295.954C226.726 292.223 226.374 288.471 225.855 284.746L225.793 284.32C226.042 283.367 226.332 282.426 226.636 281.489C227.447 278.993 228.592 276.643 229.595 274.226C229.713 273.941 229.308 273.778 229.119 273.948C227.42 275.478 226.071 277.418 224.987 279.447C224.968 279.351 224.951 279.255 224.932 279.159L224.808 278.55C224.503 277.064 224.132 275.501 223.221 274.296C223.124 274.168 222.932 274.141 222.84 274.296C221.968 275.772 221.871 277.641 221.737 279.321C221.585 281.221 221.566 283.145 221.593 285.051C221.645 288.774 221.907 292.508 222.116 296.226C222.321 299.879 222.724 303.486 223.243 307.103L223.341 307.782C223.595 309.503 223.803 311.246 224.137 312.956L224.232 313.422C224.411 314.27 224.521 315.466 224.877 316.459C215.717 313.902 206.543 311.404 197.352 308.95C190.709 307.176 184.059 305.429 177.412 303.67C177.062 303.038 176.625 302.447 176.08 301.919C174.284 300.179 171.904 299.402 169.721 300.742C169.544 300.851 169.529 301.129 169.721 301.235C170.139 301.463 170.558 301.698 170.97 301.942L166.979 300.861C163.995 300.052 160.976 299.041 157.923 298.477C152.299 295.7 146.25 293.689 140.325 291.703L139.627 291.466C136.594 290.432 133.456 289.273 130.322 288.699C128.027 288.279 125.334 288.786 124.411 291.138C123.243 291.909 122.144 292.814 121.084 293.704C120.317 294.347 119.582 295.031 118.835 295.697L118.697 295.818C118.086 296.349 117.602 296.704 117.452 297.549C117.374 297.985 117.651 298.574 118.189 298.517C119.834 298.34 121.171 296.433 122.287 295.293C123.149 294.413 124.018 293.502 124.804 292.534C125.263 292.784 125.891 292.739 126.183 292.186C127.697 289.318 131.843 291.306 134.137 291.986L137.424 292.959C139.067 293.446 140.71 293.936 142.349 294.435C146.856 295.804 151.34 297.336 155.888 298.594C155.481 299.042 155.537 299.838 156.31 300.14C159.869 301.538 163.775 302.261 167.473 303.22C169.807 303.826 172.141 304.435 174.473 305.048C174.873 305.697 175.161 306.43 175.282 307.284C175.727 310.423 174.869 314.045 174.033 317.082L173.907 317.535C173.219 319.976 172.208 322.969 170.103 324.51C169.589 324.886 168.935 325.148 168.275 325.207C164.155 323.085 160.035 320.963 155.912 318.845C155.148 318.452 154.443 318.983 154.271 319.615C152.818 319.376 151.367 319 150.046 318.552C147.827 317.797 146.094 316.359 144.013 315.364C139.987 313.44 135.875 315.803 132.27 317.601L131.44 318.009C129.823 318.794 126.46 320.302 125.684 318.155C124.934 316.079 127.306 313.859 128.838 312.925C130.664 311.811 132.79 311.214 134.854 310.717C136.032 310.434 137.225 310.202 138.425 310.033C139.786 309.842 141.191 309.87 142.502 309.429C143.153 309.21 143.253 308.175 142.502 308.004C140.485 307.544 138.077 308.045 135.972 308.557L134.872 308.829C132.751 309.349 130.609 310.003 128.678 311.042C127.273 311.798 125.79 312.945 124.822 314.35C123.981 313.569 122.934 313.595 121.843 313.885L121.251 314.05C120.274 314.321 119.482 314.507 118.531 314.319C118.404 313.627 118.275 312.935 118.137 312.242C116.782 305.434 115.296 298.652 113.656 291.907C110.827 280.272 107.554 268.764 103.864 257.375L103.493 256.236C102.642 253.631 101.957 250.793 100.585 248.399C99.2873 246.136 97.2082 244.833 94.7379 244.143C91.9346 243.359 88.9889 242.949 86.1292 242.42C85.4913 242.302 84.8516 242.19 84.2131 242.075C84.7527 241.1 85.1555 239.993 85.5183 239.144L85.5819 238.997C86.3613 237.219 87.0614 235.409 87.7375 233.589L88.2432 232.221C89.464 228.926 90.7241 225.686 92.4404 222.605C94.247 219.362 96.6438 216.711 99.6315 214.517C105.723 210.043 113.065 207.761 118.973 202.98C119.216 202.784 118.905 202.449 118.659 202.573C114.67 204.579 110.363 205.943 106.214 207.576L105.395 207.899C102.116 209.2 98.7849 210.616 95.9461 212.722C92.7812 215.071 90.2886 217.988 88.4151 221.456C86.5687 224.876 85.3876 228.703 84.0849 232.355L83.7365 233.328C83.211 234.787 82.6683 236.242 82.0464 237.662C81.5527 238.789 80.6314 240.076 80.2127 241.364C79.067 241.165 77.9215 240.965 76.7747 240.774C51.9347 236.624 26.8172 234.186 1.64383 233.472C0.658997 233.444 0.149567 234.385 0.294678 235.244C2.71051 249.538 4.85736 263.881 7.21292 278.186C8.24115 284.429 9.28986 290.668 10.3632 296.904C10.9069 300.063 11.5354 303.21 12.0504 306.373C12.4661 308.929 12.7679 311.503 13.4816 313.999C14.1217 316.237 15.1041 318.395 16.7175 320.102C18.4567 321.943 20.8841 322.834 23.3275 323.255C29.5304 324.323 35.8928 324.759 42.146 325.471L75.4386 329.261C74.952 333.686 74.9157 338.042 75.1389 342.518L75.2661 344.962C75.3701 346.927 75.4944 348.896 75.7766 350.841C76.1304 353.281 77.246 355.348 78.8892 357.17C80.3981 358.844 82.2313 360.273 84.0144 361.641C85.8652 363.062 87.7777 364.434 89.9539 365.312L90.2363 365.425C92.1454 366.171 95.7267 367.325 98.3362 366.903C97.9951 368.613 97.3351 370.452 97.9202 372.144C98.1917 372.93 99.2185 373.322 99.8476 372.654C101.094 371.328 101.191 369.578 101.486 367.85C101.794 366.051 102.058 364.245 102.294 362.436C102.749 358.937 103.103 355.406 103.211 351.877C103.322 348.253 103.279 344.624 103.084 341.005C102.983 339.146 102.859 337.288 102.623 335.441C102.523 334.653 102.42 333.865 102.302 333.079C102.26 332.793 102.212 332.507 102.161 332.223L105.149 332.56C109.731 333.072 114.315 333.534 118.929 333.606C119.476 333.614 119.896 333.365 120.171 333.003C120.464 333.48 120.974 333.821 121.704 333.818C128.147 333.794 134.148 331.686 140.009 329.201C142.963 327.948 145.872 326.592 148.831 325.35C151.592 324.19 154.544 323.363 157.239 322.057L164.321 325.774C164.373 325.957 164.44 326.129 164.51 326.274C164.971 327.216 165.881 327.727 166.809 328.111C167.7 328.481 168.623 328.597 169.522 328.503C174.893 331.319 180.265 334.133 185.64 336.94L191.017 339.744C201.73 345.325 212.4 350.998 223.18 356.448L223.973 356.848C227.697 358.716 231.695 360.61 235.827 362.023C235.901 363.069 235.854 364.087 235.767 365.195L235.745 365.436C235.622 366.745 235.358 368.385 236.408 369.317C236.953 369.802 237.929 369.804 238.3 369.073C238.973 367.748 238.369 365.659 238.155 364.219C238.079 363.708 237.987 363.181 237.851 362.671C242.588 364.082 247.468 364.766 252.289 363.974C256.982 363.203 260.617 360.244 263.548 356.625C266.641 352.807 268.838 348.356 270.017 343.585C271.359 338.157 271.447 332.55 271.415 326.99C271.382 321.068 271.163 315.118 270.443 309.236C271.232 309.05 272.106 308.89 272.903 308.945C273.298 309.577 274.064 309.843 274.756 309.761C276.26 311.422 272.444 313.118 271.224 313.543C270.801 313.691 270.846 314.379 271.335 314.358L271.642 314.344C273.527 314.243 275.474 313.921 276.582 312.169C277.469 310.765 277.203 309.101 276.144 307.956C275.445 301.342 273.774 294.902 272.219 288.45C270.692 282.118 268.995 275.826 267.196 269.566L266.389 266.764C263.557 256.949 260.596 247.054 256.688 237.629C254.737 232.922 252.489 228.303 249.442 224.199C246.602 220.374 243.249 217.1 239.395 214.305C232.21 209.092 223.779 205.943 215.495 202.942L215.124 202.808C210.831 201.254 206.548 199.682 202.305 197.998C198.551 196.509 194.955 194.622 191.22 193.11C191.341 192.89 191.458 192.667 191.571 192.442L191.64 192.5C191.652 192.509 191.664 192.518 191.677 192.527C192.052 192.787 192.605 192.659 192.915 192.367C193.789 191.542 193.493 190.625 192.91 189.77L192.834 189.661C192.12 188.66 191.483 187.603 190.825 186.566L190.412 185.918C189.307 184.186 188.145 182.442 186.671 181.011C185.988 180.348 185.24 179.852 184.449 179.482C184.516 179.339 183.923 179.046 183.754 179.193C181.245 178.274 178.359 178.467 175.623 178.72M77.0495 329.444L80.5378 329.841C84.3754 330.278 88.2146 330.7 92.0542 331.118L100.394 332.025C100.415 332.501 100.473 332.966 100.484 333.326C100.538 335.178 100.579 337.031 100.617 338.884C100.694 342.598 100.61 346.315 100.365 350.022C100.129 353.614 99.8166 357.206 99.3319 360.773L99.2326 361.487L99.1751 361.862C98.7796 361.9 98.391 362.088 98.0679 362.474C97.3625 363.317 94.8082 362.498 93.8106 362.143C92.1701 361.558 90.6253 360.572 89.1998 359.582C87.8078 358.616 86.5543 357.489 85.3498 356.302L84.3642 355.327C83.3839 354.352 82.4024 353.313 81.8018 352.087C80.9872 350.424 80.8819 348.383 80.6431 346.572C80.349 344.345 79.9987 342.117 79.6286 339.901M178.313 306.061L178.675 306.156C191.818 309.651 204.942 313.248 218.126 316.589C224.65 318.242 231.206 319.775 237.738 321.397L238.796 321.662C243.949 322.965 249.164 324.533 253.111 328.273C253.256 328.411 253.468 328.2 253.331 328.053C249.078 323.523 243.029 321.605 237.221 319.943C236.147 319.635 235.072 319.335 233.998 319.03C241.897 316.212 249.92 313.761 258.129 312.012C260.242 311.562 262.381 311.232 264.493 310.78C265.966 310.464 267.404 310.008 268.862 309.63L270.008 309.342L270.023 312.967C270.042 318.102 270.033 323.232 269.771 328.366L269.722 329.317C269.416 335.031 268.94 340.863 266.913 346.25C265.267 350.628 262.642 354.752 259.21 357.941C257.473 359.554 255.606 360.81 253.298 361.43C251.155 362.006 248.91 362.073 246.707 361.92C236.14 361.182 226.734 355.438 217.555 350.683C202.541 342.904 187.526 335.13 172.497 327.382C172.903 327.104 173.286 326.783 173.634 326.423C175.649 324.341 176.712 321.49 177.411 318.729C178.154 315.79 178.598 312.64 178.65 309.606M159.19 330.384C159.058 330.313 158.904 330.402 158.898 330.552C158.851 331.701 159.486 332.833 159.96 333.868L160.01 333.979C160.586 335.26 161.216 336.525 161.868 337.769C163.171 340.256 164.526 342.716 165.939 345.142C168.782 350.021 171.941 354.695 175.674 358.943C176.518 359.903 177.905 358.672 177.364 357.639C174.754 352.658 171.712 347.954 168.581 343.292C167.014 340.958 165.447 338.621 163.864 336.297C163.204 335.327 162.535 334.361 161.848 333.41L161.434 332.841M3.30838 236.325C16.4978 236.724 29.6717 237.585 42.7983 238.933C55.0062 240.188 67.1693 241.857 79.2638 243.939C81.7899 244.374 84.313 244.826 86.8328 245.297L88.3443 245.581C90.8646 246.059 93.9436 246.256 96.1874 247.603C98.5532 249.024 99.1926 251.992 99.9798 254.44C100.905 257.318 101.807 260.205 102.685 263.099C106.17 274.589 109.353 286.179 112.193 297.845C113.603 303.636 114.853 309.459 116.171 315.271C117.342 320.435 118.634 325.54 119.984 330.652C119.817 330.523 119.613 330.424 119.367 330.372C112.665 328.945 105.823 328.325 99.0207 327.536L98.3625 327.46C91.3254 326.631 84.2883 325.809 77.2471 325.017L30.6283 319.771C27.8789 319.462 24.9335 319.42 22.2578 318.682C17.7088 317.426 16.6425 312.337 15.8792 308.284L15.8562 308.162C13.5551 295.917 11.7234 283.565 9.57733 271.289M118.899 316.418C120.709 316.298 123.186 314.639 124.559 314.758C123.838 315.969 123.513 317.349 123.928 318.823C125.085 322.925 130.313 320.803 132.832 319.55C134.897 318.522 136.891 317.264 139.177 316.782C141.767 316.237 143.522 317.268 145.71 318.456C147.507 319.431 149.464 320.132 151.477 320.495C152.547 320.688 153.564 320.708 154.579 320.633C154.64 320.683 154.709 320.729 154.787 320.77L155.324 321.052C152.897 321.163 150.425 321.913 148.166 322.599C145.825 323.31 143.527 324.166 141.242 325.043L138.993 325.907C133.447 328.033 127.706 330.051 121.704 330.033C121.272 330.032 120.919 330.151 120.64 330.346M129.025 303.564C127.237 303.345 125.587 303.579 124.158 304.744C122.435 306.149 121.277 308.478 118.8 308.631C118.078 308.675 117.91 309.692 118.628 309.904C120.472 310.45 121.965 309.452 123.221 308.156L124.066 307.273C125.307 305.987 126.452 304.992 128.559 305.069C130.815 305.152 133.075 305.673 135.316 305.938C137.855 306.239 140.394 306.495 142.941 306.716C143.059 306.726 143.079 306.54 142.968 306.512L140.116 305.802M130.751 296.249L130.456 296.22C127.86 295.967 125.485 295.958 123.166 297.355L122.722 297.624C120.631 298.896 118.355 300.394 117.048 302.453C116.834 302.79 117.187 303.186 117.545 303.1C120.058 302.497 121.895 300.652 124.008 299.271C126.38 297.722 128.83 297.977 131.534 298.218C134.152 298.451 136.769 298.772 139.361 299.208C141.797 299.618 144.241 300.265 146.701 300.472L146.701 300.467C146.982 300.466 147.142 300.044 146.856 299.901C144.359 298.653 141.466 298.062 138.75 297.492M51.874 270.57C52.125 269.369 50.6484 268.812 49.964 269.765L49.8185 269.965C48.3399 271.992 46.2016 274.536 46.3104 277.114C45.0108 277.142 43.6633 277.932 43.1569 279.106C42.9228 279.649 42.8434 280.292 42.8951 280.958C41.7138 281.05 40.4254 281.826 39.7032 282.582C38.506 283.834 38.4115 285.604 39.2703 287.068C41.1428 290.259 45.2334 291.419 48.6867 291.678L48.8097 291.687C52.3765 291.934 57.516 291.867 59.9617 288.805C62.3208 285.852 59.7135 283.46 57.0398 282.162C57.7358 281.526 58.0962 280.614 57.7573 279.652C57.1622 277.962 55.0612 277.309 53.8741 276.134C52.4268 274.702 51.4705 272.736 51.8519 270.682M49.9137 273.167C50.307 274.878 51.2734 276.442 52.6192 277.682C53.1339 278.156 53.6969 278.578 54.2951 278.94L54.367 278.982C54.8978 279.28 56.2026 279.839 56.1022 280.508C55.9988 281.196 53.873 282.272 53.2936 282.272C53.1618 282.272 53.0871 282.478 53.2218 282.538C54.2718 283.002 55.189 283.201 56.2158 282.711C56.9019 283.412 57.5683 284.137 58.2283 284.856C59.3956 286.128 58.9962 287.471 57.6169 288.418C55.4007 289.94 52.0318 289.902 49.446 289.792C46.8434 289.681 44.0613 289.1 42.0283 287.365L41.9398 287.288C40.8349 286.305 39.8257 284.638 41.5178 283.692C42.1803 283.321 42.8962 283.342 43.5253 283.162C44.1141 284.317 45.0691 285.242 46.2344 285.42C47.1762 285.564 47.8248 284.38 46.9681 283.813L46.7756 283.694C45.6999 283.007 44.7819 281.948 44.8062 280.57C44.8228 279.614 46.1579 278.405 47.0277 279.304L47.0675 279.347C47.7953 280.168 49.0773 279.134 48.5986 278.224L48.5756 278.183M219.661 225.601C219.665 225.395 219.376 225.319 219.275 225.496C217.586 228.47 216.702 232.116 215.802 235.393C214.86 238.825 214.099 242.292 213.415 245.785C212.031 252.858 211.293 259.889 211.243 267.098C211.236 268.127 212.912 268.401 213.076 267.346C214.164 260.334 215.207 253.316 216.303 246.306C216.855 242.78 217.497 239.268 218.111 235.753M202.936 230.781C203.061 230.371 202.464 230.234 202.312 230.609C198.921 238.936 197.773 248.374 199.95 257.16C200.283 258.504 202.25 257.921 201.999 256.594M159.204 223.382C159.221 223.075 158.823 223.026 158.673 223.237C157.066 225.502 156.4 228.536 153.581 229.706C152.174 230.291 150.59 230.189 149.347 231.176C148.516 231.836 147.879 232.878 148.502 233.878C148.704 234.201 149.267 234.363 149.54 234.012C149.939 233.501 150.15 232.888 150.691 232.505C151.455 231.964 152.485 231.931 153.36 231.677C154.493 231.348 155.491 230.773 156.309 229.919M132.365 185.605C132.2 185.521 132.041 185.575 131.935 185.718C131.784 185.922 131.802 186.12 131.987 186.26C131.74 186.766 131.448 188.034 131.406 188.218C131.237 188.966 131.057 189.709 130.869 190.452C130.489 191.951 130.156 193.46 129.776 194.959C129.373 196.548 128.893 198.12 128.359 199.669C128.324 199.769 128.286 199.872 128.246 199.975L128.186 200.132L128.171 200.109C128.062 199.937 127.836 200.057 127.863 200.238C127.888 200.404 127.921 200.568 127.949 200.734L127.893 200.882C127.544 201.823 127.304 202.814 127.946 203.645C128.186 203.956 128.449 204.14 128.778 204.194C129.306 205.934 129.968 207.641 130.676 209.281L130.884 209.76C131.926 212.152 133.037 214.513 134.696 216.55C136.508 218.774 139 220.292 140.578 222.729C141.312 223.862 141.823 225.054 142.237 226.334L142.393 226.82C142.688 227.725 143.027 228.603 143.876 229.134C144.147 229.303 144.552 229.249 144.771 229.018C146.511 227.176 144.689 223.736 143.64 221.952C142.181 219.472 140.069 217.885 137.955 216.014C135.676 213.997 134.223 211.298 132.816 208.64C131.955 207.012 131.124 205.348 130.248 203.712C131.163 202.903 131.456 201.297 131.766 200.18L131.794 200.08C132.306 198.291 132.713 196.457 132.97 194.614C133.217 192.842 133.32 191.095 133.255 189.313L133.236 188.86M128.965 194.038C129.167 193.761 128.832 193.447 128.555 193.505C126.869 193.854 125.221 194.875 123.709 195.7L123.547 195.788C122.339 196.44 121.124 197.238 120.49 198.504C119.801 199.88 119.857 201.464 119.951 202.96L119.96 203.1C120.076 204.893 120.094 206.756 120.473 208.516C120.667 209.417 121.483 209.671 122.18 209.458C123.01 212.08 125.341 214.012 127.044 216.081C129.215 218.718 128.806 222.279 128.579 225.456C128.488 226.742 130.086 227.107 130.91 226.421L132.807 224.844C133.123 224.581 133.439 224.317 133.754 224.052C134.023 223.825 134.29 223.597 134.555 223.365L134.951 223.015C135.127 222.858 135.901 221.993 136.127 221.957C136.676 221.87 137.978 223.316 138.424 223.769L138.481 223.826C139.32 224.649 140.078 225.535 140.784 226.475C140.914 226.647 141.168 226.504 141.075 226.304C140.442 224.948 139.707 223.651 138.833 222.437L138.656 222.196C138.075 221.412 137.295 220.028 136.269 219.796C135.016 219.514 133.765 220.771 132.853 221.469L132.796 221.513C132.362 221.838 131.933 222.17 131.505 222.503C131.55 220.138 131.252 217.748 130.031 215.71C129.171 214.273 127.882 213.208 126.779 211.973C125.55 210.598 124.909 208.907 123.797 207.475C123.654 207.291 123.457 207.191 123.243 207.16C123.201 206.008 123.031 204.845 122.9 203.706L122.862 203.365C122.73 202.127 122.417 200.616 123.022 199.456C123.594 198.362 124.907 197.589 125.879 196.846L126.673 196.23M183.67 180.951C184.177 181.245 184.652 181.61 185.082 182.067C186.437 183.505 187.405 185.294 188.348 187.016C188.855 187.943 189.345 188.88 189.856 189.805C190.079 190.207 190.308 190.605 190.539 191.003C190.646 191.186 190.964 191.55 191.121 191.774C190.946 192.02 190.765 192.261 190.581 192.5C190.51 192.592 185.651 197.889 183.957 199.962C181.363 203.137 179.044 206.491 177.062 210.081C175.121 213.597 173.644 217.319 171.846 220.903C170.946 222.697 169.941 224.478 168.66 226.031C168.61 226.092 168.558 226.149 168.507 226.209C168.018 224.887 166.765 223.472 166.15 222.659L166.093 222.582C164.697 220.7 163.223 218.874 161.717 217.08C160.342 215.441 158.931 213.837 157.487 212.26L156.944 211.67C155.937 210.582 154.659 208.955 153.186 208.177C153.343 207.896 153.526 207.617 153.736 207.342C155.117 205.538 157.068 204.228 158.993 203.046L160.242 202.286C164.949 199.416 169.582 196.413 173.668 192.684C175.83 190.711 177.962 188.644 179.779 186.342L180.422 185.528M175.817 179.53C178.021 179.715 180.401 179.671 182.438 180.39C180.627 182.103 178.906 183.952 177.138 185.694C176.98 184.516 176.659 183.352 176.386 182.204" fill="black" />
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M153.274 70.6002C137.579 70.6002 121.346 82.7731 115.593 90.5409C110.756 97.0718 108.152 126.604 108.152 146.562C108.152 150.736 105.849 158.605 106.521 162.597C108.983 177.228 119.708 189.499 140.936 189.499C162.164 189.499 177.384 181.079 193.162 158.474C200.818 158.474 204.528 152.599 204.582 143.329C204.636 134.058 197.192 130.685 197.192 130.685C197.192 130.685 199.846 94.0989 193.162 84.5736C186.478 75.0484 168.968 70.6002 153.274 70.6002Z" fill="white" />
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M159.878 65.4271C149.969 64.4231 140.259 65.2667 130.493 67.0122C129.747 67.1474 129.324 67.6372 129.167 68.2261C124.567 68.4363 119.962 68.774 115.369 69.0257C113.702 69.117 112.757 70.7651 113.517 72.2534C113.669 72.5491 113.826 72.8367 113.987 73.1243L113.785 73.0579C112.403 72.6143 110.911 72.3956 109.564 73.0997C107.85 73.9959 107.178 75.9731 107.557 77.7931C107.654 78.2577 107.817 78.703 108.002 79.1375C107.626 79.1126 107.248 79.1209 106.872 79.1707C104.87 79.4362 103.383 80.9713 103.278 83.0152C103.124 86.1016 105.111 89.2328 107.452 91.4424C107.112 92.1424 106.982 92.9666 107.123 93.8019C107.405 95.4531 108.621 96.4419 110.03 97.0868C109.443 98.9541 109.165 100.906 109.329 102.901C109.383 103.567 109.965 104.117 110.58 104.252C108.29 110.562 107.13 117.337 106.297 123.938C105.702 128.635 105.409 133.359 105.374 138.091C105.356 140.227 105.392 142.366 105.481 144.503L105.517 145.304C105.628 147.614 105.633 150.039 106.048 152.324C104.633 154.733 104.063 157.723 103.823 160.422C103.524 163.763 103.997 167.209 105.05 170.387C109.025 182.396 121.021 189.975 133.07 191.944C144.223 193.767 157.128 191.314 163.646 181.177C163.748 181.016 163.53 180.884 163.403 180.989C158.74 184.783 153.331 186.476 147.454 187.3C137.293 188.722 125.872 186.31 117.718 179.916C113.804 176.846 110.982 172.376 109.741 167.566C109.108 165.107 108.889 162.543 109.138 160.013C109.393 157.446 110.529 155.256 111.244 152.83C111.485 152.011 111.231 151.25 110.73 150.709C110.59 148.739 110.258 146.753 110.131 144.79C109.99 142.557 109.904 140.325 109.873 138.091C109.815 133.455 110.009 128.811 110.399 124.195C111.112 115.743 113.005 107.495 114.116 99.1147C114.528 99.484 115.117 99.6356 115.736 99.313L115.8 99.2779L116.137 99.0846C116.156 99.0846 116.178 99.0874 116.198 99.0899C118.506 99.3142 120.899 98.9933 123.111 98.3044C125.424 97.5855 127.572 96.4792 129.49 95.005C129.855 96.8551 130.007 98.7248 130.01 100.611C130.013 101.789 131.259 102.401 132.249 101.897C136.635 99.6679 140.826 97.0987 144.803 94.2112C145.268 96.5926 145.732 98.9737 146.199 101.358C146.379 102.276 147.548 102.647 148.297 102.21C151.277 100.476 153.85 98.2051 155.945 95.5054C156.363 96.3058 156.783 97.1061 157.205 97.9046L157.841 99.1009C158.469 100.276 159.309 101.577 160.683 101.952C162.137 102.351 163.35 101.408 163.839 100.091C163.989 99.682 164.127 99.2613 164.254 98.8382C165.493 101.668 166.891 104.434 168.472 107.072C170.844 111.03 173.691 114.556 176.529 118.174C177.392 119.272 178.868 118.224 178.987 117.156C179.056 116.529 179.114 115.898 179.164 115.27C180.818 118.61 182.544 121.919 184.424 125.131L184.155 126.187C183.379 129.306 182.735 132.448 182.034 135.584C181.808 136.595 182.346 138.042 183.527 138.214C184.938 138.42 186.274 139.142 187.719 138.645C189.296 138.104 189.607 136.74 190.351 135.448C190.5 135.191 190.672 134.954 190.858 134.73L190.905 134.791C191.021 134.943 191.298 134.777 191.229 134.603L191.148 134.402C191.787 133.723 192.552 133.156 193.256 132.547C194.927 132.265 196.808 132.574 197.96 133.254C200.583 134.802 201.788 137.994 201.812 140.929C201.843 144.364 200.779 148.225 198.982 151.162C198.191 152.454 197.108 153.621 195.676 154.194C194.255 154.763 192.716 154.586 191.27 155.123C190.314 155.48 189.725 156.542 190.303 157.504C190.341 157.571 190.386 157.631 190.427 157.695L189.997 158.266C189.702 158.662 189.393 159.085 189.106 159.526C188.371 160.372 187.597 161.188 186.848 162.021C185.463 163.556 184.12 165.132 182.757 166.689C181.472 168.158 180.112 169.538 178.71 170.896C177.386 172.182 175.733 173.264 174.517 174.636C173.334 175.974 173.013 178.311 174.96 179.086C177.113 179.945 179.019 177.931 180.468 176.589L180.529 176.533C183.186 174.086 185.585 171.291 187.49 168.213C189.378 169.498 192.107 169.621 193.987 168.336C194.976 167.659 195.734 166.523 196.103 165.287C196.451 165.365 196.798 165.41 197.137 165.405C197.312 165.506 197.487 165.605 197.664 165.697C199.065 166.426 200.787 166.1 201.428 164.548C202.012 163.14 201.41 161.54 200.884 160.182L200.776 159.902C200.477 159.128 200.148 158.284 199.739 157.49C200.878 156.633 201.851 155.568 202.675 154.357C205.442 150.277 206.824 144.311 206.213 139.443C205.845 136.506 204.466 133.464 202.208 131.483L202.291 131.267C202.924 129.661 203.499 128.048 203.872 126.35C204.308 124.364 204.521 122.306 204.715 120.285C205.124 116.014 205.013 111.647 204.469 107.393C203.446 99.3861 200.853 91.5256 196.251 84.8628C197.556 83.2998 198.589 81.4605 198.051 79.345C197.804 78.3739 197.244 77.4531 196.398 76.8969C195.931 76.5902 195.375 76.5432 194.908 76.2887L194.767 76.2113C194.562 76.0915 194.719 76.1042 194.841 75.5475C195.325 73.3235 194.924 71.1747 192.478 70.4363C190.176 69.742 187.998 71.2162 186.635 72.9725C183.069 70.4415 178.37 69.117 174.238 67.9913C169.539 66.7159 164.719 65.9197 159.878 65.4271ZM198.393 140.021C198.41 138.21 196.693 137.092 195.004 137.389C193.87 137.586 192.924 138.263 192.036 138.963L191.602 139.306C190.52 140.156 189.278 141.073 188.633 142.276C187.688 144.051 189.686 146.441 191.552 145.196C192.832 144.338 193.652 142.963 194.492 141.685L194.579 141.554C194.96 140.981 195.295 140.373 195.817 139.913L195.93 139.814C196.102 139.668 196.286 139.534 196.508 139.471C196.936 139.348 197.729 139.52 197.918 140.03L197.935 140.082C198.004 140.34 198.39 140.284 198.393 140.021Z" fill="black" />
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M126.785 165.097C128.661 165.834 130.878 166.009 132.814 165.38C134.666 164.779 136.347 163.44 137.364 161.757C138.27 160.258 138.649 158.479 138.113 156.706C138.087 156.621 138.004 156.567 137.924 156.545C137.486 156.944 137.215 157.341 136.945 157.735C136.489 158.4 136.032 159.058 135.405 159.627C134.492 160.454 133.263 161.126 132.042 161.347C130.848 161.565 129.625 161.373 128.555 160.8C127.904 160.453 127.378 159.988 126.857 159.521C126.29 159.012 125.732 158.496 124.951 158.208C124.325 157.978 123.667 158.172 123.162 158.558C122.619 158.971 122.229 159.619 122.25 160.297C122.284 161.346 122.743 162.221 123.409 162.943C124.309 163.92 125.583 164.623 126.785 165.097ZM129.013 138.946C126.925 140.215 123.745 143.175 125.99 146.323C128.633 149.098 132.439 145.916 134.314 144.477C136.053 143.362 138.007 146.23 136.393 147.532C122.843 157.571 117.344 139.278 127.957 137.453C129.125 137.252 129.559 138.553 129.013 138.946ZM150.967 121.355C148.122 121.219 145.615 122.498 142.904 123.078C140.398 123.616 137.93 123.293 135.494 122.61C131.539 121.501 129.905 127.558 133.805 128.739C136.645 129.598 139.636 129.658 142.551 129.215C145.14 128.821 147.31 127.56 149.779 126.826C151.897 126.196 154.39 126.458 156.627 126.754L157.495 126.871C158.786 127.045 160.084 127.219 161.362 127.472C162.471 127.691 163.578 128.093 164.71 128.139C164.839 128.145 164.947 127.978 164.866 127.866C163.552 126.06 161.017 124.635 159.002 123.684L158.865 123.62C156.377 122.459 153.737 121.488 150.967 121.355ZM152.009 134.674L152.009 134.612C152.005 132.848 150.979 128.821 148.441 128.821C146.856 128.821 145.894 131.562 145.727 134.387L145.721 134.502C145.648 136.259 146.129 140.098 148.441 140.098C150.778 140.098 151.985 136.462 152.009 134.674ZM114.651 134.674L114.651 134.612C114.654 132.848 115.681 128.821 118.218 128.821C119.764 128.821 120.718 131.427 120.919 134.175L120.933 134.387C121.033 136.084 120.582 140.098 118.218 140.098C115.882 140.098 114.675 136.462 114.651 134.674ZM114.69 119.207L114.508 119.211C111.543 119.314 108.493 121.072 107.701 124.024C107.66 124.178 107.849 124.281 107.961 124.176C110.399 121.891 113.678 124.074 116.12 125.218L117.017 125.633C120.164 127.098 123.744 128.821 127.239 127.729C128.899 127.21 129.953 125.503 129.479 123.78C129.058 122.246 127.208 120.957 125.606 121.511L125.533 121.537C124.231 122.036 122.63 121.531 121.286 121.033L120.181 120.618C118.405 119.944 116.621 119.189 114.69 119.207Z" fill="black" />
                                        </svg>

                                        <div style={{ padding: "30px" }}>
                                            You currently have no polls
                                        </div>

                                        <div>
                                            <Link href="/builder/new">
                                                <Button variant="secondary">
                                                    Create New Poll
                                                </Button>
                                            </Link>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        :
                        <>Loading...</>
                    }
                </div>
            </div>
        </>
    );
}